(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function q9(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ND={exports:{}},c_={},OD={exports:{}},Rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy=Symbol.for("react.element"),X9=Symbol.for("react.portal"),Y9=Symbol.for("react.fragment"),K9=Symbol.for("react.strict_mode"),Z9=Symbol.for("react.profiler"),J9=Symbol.for("react.provider"),Q9=Symbol.for("react.context"),eH=Symbol.for("react.forward_ref"),tH=Symbol.for("react.suspense"),nH=Symbol.for("react.memo"),rH=Symbol.for("react.lazy"),GC=Symbol.iterator;function iH(t){return t===null||typeof t!="object"?null:(t=GC&&t[GC]||t["@@iterator"],typeof t=="function"?t:null)}var RD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ID=Object.assign,kD={};function _g(t,e,n){this.props=t,this.context=e,this.refs=kD,this.updater=n||RD}_g.prototype.isReactComponent={};_g.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DD(){}DD.prototype=_g.prototype;function j3(t,e,n){this.props=t,this.context=e,this.refs=kD,this.updater=n||RD}var H3=j3.prototype=new DD;H3.constructor=j3;ID(H3,_g.prototype);H3.isPureReactComponent=!0;var VC=Array.isArray,FD=Object.prototype.hasOwnProperty,W3={current:null},UD={key:!0,ref:!0,__self:!0,__source:!0};function BD(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)FD.call(e,r)&&!UD.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Hy,type:t,key:a,ref:o,props:i,_owner:W3.current}}function aH(t,e){return{$$typeof:Hy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G3(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hy}function oH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $C=/\/+/g;function lS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oH(""+t.key):e.toString(36)}function cx(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hy:case X9:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+lS(o,0):r,VC(i)?(n="",t!=null&&(n=t.replace($C,"$&/")+"/"),cx(i,e,n,"",function(u){return u})):i!=null&&(G3(i)&&(i=aH(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($C,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",VC(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+lS(a,s);o+=cx(a,e,n,l,i)}else if(l=iH(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+lS(a,s++),o+=cx(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function N1(t,e,n){if(t==null)return t;var r=[],i=0;return cx(t,r,"","",function(a){return e.call(n,a,i++)}),r}function sH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jo={current:null},fx={transition:null},lH={ReactCurrentDispatcher:jo,ReactCurrentBatchConfig:fx,ReactCurrentOwner:W3};function zD(){throw Error("act(...) is not supported in production builds of React.")}Rn.Children={map:N1,forEach:function(t,e,n){N1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return N1(t,function(){e++}),e},toArray:function(t){return N1(t,function(e){return e})||[]},only:function(t){if(!G3(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Rn.Component=_g;Rn.Fragment=Y9;Rn.Profiler=Z9;Rn.PureComponent=j3;Rn.StrictMode=K9;Rn.Suspense=tH;Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lH;Rn.act=zD;Rn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ID({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=W3.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)FD.call(e,l)&&!UD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Hy,type:t.type,key:i,ref:a,props:r,_owner:o}};Rn.createContext=function(t){return t={$$typeof:Q9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:J9,_context:t},t.Consumer=t};Rn.createElement=BD;Rn.createFactory=function(t){var e=BD.bind(null,t);return e.type=t,e};Rn.createRef=function(){return{current:null}};Rn.forwardRef=function(t){return{$$typeof:eH,render:t}};Rn.isValidElement=G3;Rn.lazy=function(t){return{$$typeof:rH,_payload:{_status:-1,_result:t},_init:sH}};Rn.memo=function(t,e){return{$$typeof:nH,type:t,compare:e===void 0?null:e}};Rn.startTransition=function(t){var e=fx.transition;fx.transition={};try{t()}finally{fx.transition=e}};Rn.unstable_act=zD;Rn.useCallback=function(t,e){return jo.current.useCallback(t,e)};Rn.useContext=function(t){return jo.current.useContext(t)};Rn.useDebugValue=function(){};Rn.useDeferredValue=function(t){return jo.current.useDeferredValue(t)};Rn.useEffect=function(t,e){return jo.current.useEffect(t,e)};Rn.useId=function(){return jo.current.useId()};Rn.useImperativeHandle=function(t,e,n){return jo.current.useImperativeHandle(t,e,n)};Rn.useInsertionEffect=function(t,e){return jo.current.useInsertionEffect(t,e)};Rn.useLayoutEffect=function(t,e){return jo.current.useLayoutEffect(t,e)};Rn.useMemo=function(t,e){return jo.current.useMemo(t,e)};Rn.useReducer=function(t,e,n){return jo.current.useReducer(t,e,n)};Rn.useRef=function(t){return jo.current.useRef(t)};Rn.useState=function(t){return jo.current.useState(t)};Rn.useSyncExternalStore=function(t,e,n){return jo.current.useSyncExternalStore(t,e,n)};Rn.useTransition=function(){return jo.current.useTransition()};Rn.version="18.3.1";OD.exports=Rn;var je=OD.exports;const De=Ar(je);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uH=je,cH=Symbol.for("react.element"),fH=Symbol.for("react.fragment"),hH=Object.prototype.hasOwnProperty,dH=uH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pH={key:!0,ref:!0,__self:!0,__source:!0};function jD(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hH.call(e,r)&&!pH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cH,type:t,key:a,ref:o,props:i,_owner:dH.current}}c_.Fragment=fH;c_.jsx=jD;c_.jsxs=jD;ND.exports=c_;var oe=ND.exports,HD={exports:{}},Bs={},WD={exports:{}},GD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,z){var $=B.length;B.push(z);e:for(;0<$;){var X=$-1>>>1,k=B[X];if(0<i(k,z))B[X]=z,B[$]=k,$=X;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var z=B[0],$=B.pop();if($!==z){B[0]=$;e:for(var X=0,k=B.length,V=k>>>1;X<V;){var G=2*(X+1)-1,K=B[G],ne=G+1,ue=B[ne];if(0>i(K,$))ne<k&&0>i(ue,K)?(B[X]=ue,B[ne]=$,X=ne):(B[X]=K,B[G]=$,X=G);else if(ne<k&&0>i(ue,$))B[X]=ue,B[ne]=$,X=ne;else break e}}return z}function i(B,z){var $=B.sortIndex-z.sortIndex;return $!==0?$:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,m=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=B)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function S(B){if(x=!1,b(B),!m)if(n(l)!==null)m=!0,H(A);else{var z=n(u);z!==null&&q(S,z.startTime-B)}}function A(B,z){m=!1,x&&(x=!1,g(P),P=-1),d=!0;var $=h;try{for(b(z),f=n(l);f!==null&&(!(f.expirationTime>z)||B&&!C());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var k=X(f.expirationTime<=z);z=t.unstable_now(),typeof k=="function"?f.callback=k:f===n(l)&&r(l),b(z)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var G=n(u);G!==null&&q(S,G.startTime-z),V=!1}return V}finally{f=null,h=$,d=!1}}var E=!1,M=null,P=-1,D=5,N=-1;function C(){return!(t.unstable_now()-N<D)}function O(){if(M!==null){var B=t.unstable_now();N=B;var z=!0;try{z=M(!0,B)}finally{z?j():(E=!1,M=null)}}else E=!1}var j;if(typeof _=="function")j=function(){_(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Z=F.port2;F.port1.onmessage=O,j=function(){Z.postMessage(null)}}else j=function(){y(O,0)};function H(B){M=B,E||(E=!0,j())}function q(B,z){P=y(function(){B(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,H(A))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var $=h;h=z;try{return B()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=h;h=B;try{return z()}finally{h=$}},t.unstable_scheduleCallback=function(B,z,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=$+k,B={id:c++,callback:z,priorityLevel:B,startTime:$,expirationTime:k,sortIndex:-1},$>X?(B.sortIndex=$,e(u,B),n(l)===null&&B===n(u)&&(x?(g(P),P=-1):x=!0,q(S,$-X))):(B.sortIndex=k,e(l,B),m||d||(m=!0,H(A))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var z=h;return function(){var $=h;h=z;try{return B.apply(this,arguments)}finally{h=$}}}})(GD);WD.exports=GD;var mH=WD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gH=je,Ds=mH;function Tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VD=new Set,x0={};function Kd(t,e){jm(t,e),jm(t+"Capture",e)}function jm(t,e){for(x0[t]=e,t=0;t<e.length;t++)VD.add(e[t])}var Nc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gA=Object.prototype.hasOwnProperty,vH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qC={},XC={};function yH(t){return gA.call(XC,t)?!0:gA.call(qC,t)?!1:vH.test(t)?XC[t]=!0:(qC[t]=!0,!1)}function xH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bH(t,e,n,r){if(e===null||typeof e>"u"||xH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ho(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var eo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){eo[t]=new Ho(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];eo[e]=new Ho(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){eo[t]=new Ho(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){eo[t]=new Ho(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){eo[t]=new Ho(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){eo[t]=new Ho(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){eo[t]=new Ho(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){eo[t]=new Ho(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){eo[t]=new Ho(t,5,!1,t.toLowerCase(),null,!1,!1)});var V3=/[\-:]([a-z])/g;function $3(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(V3,$3);eo[e]=new Ho(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(V3,$3);eo[e]=new Ho(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(V3,$3);eo[e]=new Ho(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){eo[t]=new Ho(t,1,!1,t.toLowerCase(),null,!1,!1)});eo.xlinkHref=new Ho("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){eo[t]=new Ho(t,1,!1,t.toLowerCase(),null,!0,!0)});function q3(t,e,n,r){var i=eo.hasOwnProperty(e)?eo[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bH(e,n,i,r)&&(n=null),r||i===null?yH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hc=gH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O1=Symbol.for("react.element"),um=Symbol.for("react.portal"),cm=Symbol.for("react.fragment"),X3=Symbol.for("react.strict_mode"),vA=Symbol.for("react.profiler"),$D=Symbol.for("react.provider"),qD=Symbol.for("react.context"),Y3=Symbol.for("react.forward_ref"),yA=Symbol.for("react.suspense"),xA=Symbol.for("react.suspense_list"),K3=Symbol.for("react.memo"),Of=Symbol.for("react.lazy"),XD=Symbol.for("react.offscreen"),YC=Symbol.iterator;function ov(t){return t===null||typeof t!="object"?null:(t=YC&&t[YC]||t["@@iterator"],typeof t=="function"?t:null)}var xi=Object.assign,uS;function zv(t){if(uS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uS=e&&e[1]||""}return`
`+uS+t}var cS=!1;function fS(t,e){if(!t||cS)return"";cS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{cS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zv(t):""}function _H(t){switch(t.tag){case 5:return zv(t.type);case 16:return zv("Lazy");case 13:return zv("Suspense");case 19:return zv("SuspenseList");case 0:case 2:case 15:return t=fS(t.type,!1),t;case 11:return t=fS(t.type.render,!1),t;case 1:return t=fS(t.type,!0),t;default:return""}}function bA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cm:return"Fragment";case um:return"Portal";case vA:return"Profiler";case X3:return"StrictMode";case yA:return"Suspense";case xA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qD:return(t.displayName||"Context")+".Consumer";case $D:return(t._context.displayName||"Context")+".Provider";case Y3:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K3:return e=t.displayName||null,e!==null?e:bA(t.type)||"Memo";case Of:e=t._payload,t=t._init;try{return bA(t(e))}catch{}}return null}function wH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bA(e);case 8:return e===X3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ah(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SH(t){var e=YD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function R1(t){t._valueTracker||(t._valueTracker=SH(t))}function KD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ox(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _A(t,e){var n=e.checked;return xi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function KC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ah(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZD(t,e){e=e.checked,e!=null&&q3(t,"checked",e,!1)}function wA(t,e){ZD(t,e);var n=ah(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?SA(t,e.type,n):e.hasOwnProperty("defaultValue")&&SA(t,e.type,ah(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function SA(t,e,n){(e!=="number"||Ox(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jv=Array.isArray;function Lm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ah(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function AA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Tt(91));return xi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Tt(92));if(jv(n)){if(1<n.length)throw Error(Tt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ah(n)}}function JD(t,e){var n=ah(e.value),r=ah(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function QC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function MA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var I1,e6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(I1=I1||document.createElement("div"),I1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=I1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function b0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $v={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AH=["Webkit","ms","Moz","O"];Object.keys($v).forEach(function(t){AH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$v[e]=$v[t]})});function t6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$v.hasOwnProperty(t)&&$v[t]?(""+e).trim():e+"px"}function n6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=t6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MH=xi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function EA(t,e){if(e){if(MH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Tt(62))}}function TA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PA=null;function Z3(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var CA=null,Nm=null,Om=null;function e4(t){if(t=Vy(t)){if(typeof CA!="function")throw Error(Tt(280));var e=t.stateNode;e&&(e=m_(e),CA(t.stateNode,t.type,e))}}function r6(t){Nm?Om?Om.push(t):Om=[t]:Nm=t}function i6(){if(Nm){var t=Nm,e=Om;if(Om=Nm=null,e4(t),e)for(t=0;t<e.length;t++)e4(e[t])}}function a6(t,e){return t(e)}function o6(){}var hS=!1;function s6(t,e,n){if(hS)return t(e,n);hS=!0;try{return a6(t,e,n)}finally{hS=!1,(Nm!==null||Om!==null)&&(o6(),i6())}}function _0(t,e){var n=t.stateNode;if(n===null)return null;var r=m_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Tt(231,e,typeof n));return n}var LA=!1;if(Nc)try{var sv={};Object.defineProperty(sv,"passive",{get:function(){LA=!0}}),window.addEventListener("test",sv,sv),window.removeEventListener("test",sv,sv)}catch{LA=!1}function EH(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var qv=!1,Rx=null,Ix=!1,NA=null,TH={onError:function(t){qv=!0,Rx=t}};function PH(t,e,n,r,i,a,o,s,l){qv=!1,Rx=null,EH.apply(TH,arguments)}function CH(t,e,n,r,i,a,o,s,l){if(PH.apply(this,arguments),qv){if(qv){var u=Rx;qv=!1,Rx=null}else throw Error(Tt(198));Ix||(Ix=!0,NA=u)}}function Zd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function l6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t4(t){if(Zd(t)!==t)throw Error(Tt(188))}function LH(t){var e=t.alternate;if(!e){if(e=Zd(t),e===null)throw Error(Tt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return t4(i),t;if(a===r)return t4(i),e;a=a.sibling}throw Error(Tt(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Tt(189))}}if(n.alternate!==r)throw Error(Tt(190))}if(n.tag!==3)throw Error(Tt(188));return n.stateNode.current===n?t:e}function u6(t){return t=LH(t),t!==null?c6(t):null}function c6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=c6(t);if(e!==null)return e;t=t.sibling}return null}var f6=Ds.unstable_scheduleCallback,n4=Ds.unstable_cancelCallback,NH=Ds.unstable_shouldYield,OH=Ds.unstable_requestPaint,Fi=Ds.unstable_now,RH=Ds.unstable_getCurrentPriorityLevel,J3=Ds.unstable_ImmediatePriority,h6=Ds.unstable_UserBlockingPriority,kx=Ds.unstable_NormalPriority,IH=Ds.unstable_LowPriority,d6=Ds.unstable_IdlePriority,f_=null,Ou=null;function kH(t){if(Ou&&typeof Ou.onCommitFiberRoot=="function")try{Ou.onCommitFiberRoot(f_,t,void 0,(t.current.flags&128)===128)}catch{}}var nu=Math.clz32?Math.clz32:UH,DH=Math.log,FH=Math.LN2;function UH(t){return t>>>=0,t===0?32:31-(DH(t)/FH|0)|0}var k1=64,D1=4194304;function Hv(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dx(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Hv(s):(a&=o,a!==0&&(r=Hv(a)))}else o=n&~i,o!==0?r=Hv(o):a!==0&&(r=Hv(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nu(e),i=1<<n,r|=t[n],e&=~i;return r}function BH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-nu(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=BH(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function OA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p6(){var t=k1;return k1<<=1,!(k1&4194240)&&(k1=64),t}function dS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wy(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nu(e),t[e]=n}function jH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nu(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Q3(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vr=0;function m6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g6,eT,v6,y6,x6,RA=!1,F1=[],Gf=null,Vf=null,$f=null,w0=new Map,S0=new Map,kf=[],HH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r4(t,e){switch(t){case"focusin":case"focusout":Gf=null;break;case"dragenter":case"dragleave":Vf=null;break;case"mouseover":case"mouseout":$f=null;break;case"pointerover":case"pointerout":w0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":S0.delete(e.pointerId)}}function lv(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Vy(e),e!==null&&eT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WH(t,e,n,r,i){switch(e){case"focusin":return Gf=lv(Gf,t,e,n,r,i),!0;case"dragenter":return Vf=lv(Vf,t,e,n,r,i),!0;case"mouseover":return $f=lv($f,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return w0.set(a,lv(w0.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,S0.set(a,lv(S0.get(a)||null,t,e,n,r,i)),!0}return!1}function b6(t){var e=ud(t.target);if(e!==null){var n=Zd(e);if(n!==null){if(e=n.tag,e===13){if(e=l6(n),e!==null){t.blockedOn=e,x6(t.priority,function(){v6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=IA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);PA=r,n.target.dispatchEvent(r),PA=null}else return e=Vy(n),e!==null&&eT(e),t.blockedOn=n,!1;e.shift()}return!0}function i4(t,e,n){hx(t)&&n.delete(e)}function GH(){RA=!1,Gf!==null&&hx(Gf)&&(Gf=null),Vf!==null&&hx(Vf)&&(Vf=null),$f!==null&&hx($f)&&($f=null),w0.forEach(i4),S0.forEach(i4)}function uv(t,e){t.blockedOn===e&&(t.blockedOn=null,RA||(RA=!0,Ds.unstable_scheduleCallback(Ds.unstable_NormalPriority,GH)))}function A0(t){function e(i){return uv(i,t)}if(0<F1.length){uv(F1[0],t);for(var n=1;n<F1.length;n++){var r=F1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gf!==null&&uv(Gf,t),Vf!==null&&uv(Vf,t),$f!==null&&uv($f,t),w0.forEach(e),S0.forEach(e),n=0;n<kf.length;n++)r=kf[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kf.length&&(n=kf[0],n.blockedOn===null);)b6(n),n.blockedOn===null&&kf.shift()}var Rm=Hc.ReactCurrentBatchConfig,Fx=!0;function VH(t,e,n,r){var i=vr,a=Rm.transition;Rm.transition=null;try{vr=1,tT(t,e,n,r)}finally{vr=i,Rm.transition=a}}function $H(t,e,n,r){var i=vr,a=Rm.transition;Rm.transition=null;try{vr=4,tT(t,e,n,r)}finally{vr=i,Rm.transition=a}}function tT(t,e,n,r){if(Fx){var i=IA(t,e,n,r);if(i===null)SS(t,e,r,Ux,n),r4(t,r);else if(WH(i,t,e,n,r))r.stopPropagation();else if(r4(t,r),e&4&&-1<HH.indexOf(t)){for(;i!==null;){var a=Vy(i);if(a!==null&&g6(a),a=IA(t,e,n,r),a===null&&SS(t,e,r,Ux,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else SS(t,e,r,null,n)}}var Ux=null;function IA(t,e,n,r){if(Ux=null,t=Z3(r),t=ud(t),t!==null)if(e=Zd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=l6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ux=t,null}function _6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RH()){case J3:return 1;case h6:return 4;case kx:case IH:return 16;case d6:return 536870912;default:return 16}default:return 16}}var zf=null,nT=null,dx=null;function w6(){if(dx)return dx;var t,e=nT,n=e.length,r,i="value"in zf?zf.value:zf.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return dx=i.slice(t,1<r?1-r:void 0)}function px(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function U1(){return!0}function a4(){return!1}function zs(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?U1:a4,this.isPropagationStopped=a4,this}return xi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=U1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=U1)},persist:function(){},isPersistent:U1}),e}var wg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rT=zs(wg),Gy=xi({},wg,{view:0,detail:0}),qH=zs(Gy),pS,mS,cv,h_=xi({},Gy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cv&&(cv&&t.type==="mousemove"?(pS=t.screenX-cv.screenX,mS=t.screenY-cv.screenY):mS=pS=0,cv=t),pS)},movementY:function(t){return"movementY"in t?t.movementY:mS}}),o4=zs(h_),XH=xi({},h_,{dataTransfer:0}),YH=zs(XH),KH=xi({},Gy,{relatedTarget:0}),gS=zs(KH),ZH=xi({},wg,{animationName:0,elapsedTime:0,pseudoElement:0}),JH=zs(ZH),QH=xi({},wg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eW=zs(QH),tW=xi({},wg,{data:0}),s4=zs(tW),nW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iW[t])?!!e[t]:!1}function iT(){return aW}var oW=xi({},Gy,{key:function(t){if(t.key){var e=nW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=px(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iT,charCode:function(t){return t.type==="keypress"?px(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?px(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sW=zs(oW),lW=xi({},h_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l4=zs(lW),uW=xi({},Gy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iT}),cW=zs(uW),fW=xi({},wg,{propertyName:0,elapsedTime:0,pseudoElement:0}),hW=zs(fW),dW=xi({},h_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pW=zs(dW),mW=[9,13,27,32],aT=Nc&&"CompositionEvent"in window,Xv=null;Nc&&"documentMode"in document&&(Xv=document.documentMode);var gW=Nc&&"TextEvent"in window&&!Xv,S6=Nc&&(!aT||Xv&&8<Xv&&11>=Xv),u4=" ",c4=!1;function A6(t,e){switch(t){case"keyup":return mW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fm=!1;function vW(t,e){switch(t){case"compositionend":return M6(e);case"keypress":return e.which!==32?null:(c4=!0,u4);case"textInput":return t=e.data,t===u4&&c4?null:t;default:return null}}function yW(t,e){if(fm)return t==="compositionend"||!aT&&A6(t,e)?(t=w6(),dx=nT=zf=null,fm=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S6&&e.locale!=="ko"?null:e.data;default:return null}}var xW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xW[t.type]:e==="textarea"}function E6(t,e,n,r){r6(r),e=Bx(e,"onChange"),0<e.length&&(n=new rT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yv=null,M0=null;function bW(t){F6(t,0)}function d_(t){var e=pm(t);if(KD(e))return t}function _W(t,e){if(t==="change")return e}var T6=!1;if(Nc){var vS;if(Nc){var yS="oninput"in document;if(!yS){var h4=document.createElement("div");h4.setAttribute("oninput","return;"),yS=typeof h4.oninput=="function"}vS=yS}else vS=!1;T6=vS&&(!document.documentMode||9<document.documentMode)}function d4(){Yv&&(Yv.detachEvent("onpropertychange",P6),M0=Yv=null)}function P6(t){if(t.propertyName==="value"&&d_(M0)){var e=[];E6(e,M0,t,Z3(t)),s6(bW,e)}}function wW(t,e,n){t==="focusin"?(d4(),Yv=e,M0=n,Yv.attachEvent("onpropertychange",P6)):t==="focusout"&&d4()}function SW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return d_(M0)}function AW(t,e){if(t==="click")return d_(e)}function MW(t,e){if(t==="input"||t==="change")return d_(e)}function EW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iu=typeof Object.is=="function"?Object.is:EW;function E0(t,e){if(iu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gA.call(e,i)||!iu(t[i],e[i]))return!1}return!0}function p4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m4(t,e){var n=p4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p4(n)}}function C6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L6(){for(var t=window,e=Ox();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ox(t.document)}return e}function oT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TW(t){var e=L6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&C6(n.ownerDocument.documentElement,n)){if(r!==null&&oT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=m4(n,a);var o=m4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PW=Nc&&"documentMode"in document&&11>=document.documentMode,hm=null,kA=null,Kv=null,DA=!1;function g4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;DA||hm==null||hm!==Ox(r)||(r=hm,"selectionStart"in r&&oT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kv&&E0(Kv,r)||(Kv=r,r=Bx(kA,"onSelect"),0<r.length&&(e=new rT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hm)))}function B1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dm={animationend:B1("Animation","AnimationEnd"),animationiteration:B1("Animation","AnimationIteration"),animationstart:B1("Animation","AnimationStart"),transitionend:B1("Transition","TransitionEnd")},xS={},N6={};Nc&&(N6=document.createElement("div").style,"AnimationEvent"in window||(delete dm.animationend.animation,delete dm.animationiteration.animation,delete dm.animationstart.animation),"TransitionEvent"in window||delete dm.transitionend.transition);function p_(t){if(xS[t])return xS[t];if(!dm[t])return t;var e=dm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in N6)return xS[t]=e[n];return t}var O6=p_("animationend"),R6=p_("animationiteration"),I6=p_("animationstart"),k6=p_("transitionend"),D6=new Map,v4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fh(t,e){D6.set(t,e),Kd(e,[t])}for(var bS=0;bS<v4.length;bS++){var _S=v4[bS],CW=_S.toLowerCase(),LW=_S[0].toUpperCase()+_S.slice(1);fh(CW,"on"+LW)}fh(O6,"onAnimationEnd");fh(R6,"onAnimationIteration");fh(I6,"onAnimationStart");fh("dblclick","onDoubleClick");fh("focusin","onFocus");fh("focusout","onBlur");fh(k6,"onTransitionEnd");jm("onMouseEnter",["mouseout","mouseover"]);jm("onMouseLeave",["mouseout","mouseover"]);jm("onPointerEnter",["pointerout","pointerover"]);jm("onPointerLeave",["pointerout","pointerover"]);Kd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wv));function y4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CH(r,e,void 0,t),t.currentTarget=null}function F6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;y4(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;y4(i,s,u),a=l}}}if(Ix)throw t=NA,Ix=!1,NA=null,t}function Vr(t,e){var n=e[jA];n===void 0&&(n=e[jA]=new Set);var r=t+"__bubble";n.has(r)||(U6(e,t,2,!1),n.add(r))}function wS(t,e,n){var r=0;e&&(r|=4),U6(n,t,r,e)}var z1="_reactListening"+Math.random().toString(36).slice(2);function T0(t){if(!t[z1]){t[z1]=!0,VD.forEach(function(n){n!=="selectionchange"&&(NW.has(n)||wS(n,!1,t),wS(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[z1]||(e[z1]=!0,wS("selectionchange",!1,e))}}function U6(t,e,n,r){switch(_6(e)){case 1:var i=VH;break;case 4:i=$H;break;default:i=tT}n=i.bind(null,e,n,t),i=void 0,!LA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function SS(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ud(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}s6(function(){var u=a,c=Z3(n),f=[];e:{var h=D6.get(t);if(h!==void 0){var d=rT,m=t;switch(t){case"keypress":if(px(n)===0)break e;case"keydown":case"keyup":d=sW;break;case"focusin":m="focus",d=gS;break;case"focusout":m="blur",d=gS;break;case"beforeblur":case"afterblur":d=gS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=o4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=YH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=cW;break;case O6:case R6:case I6:d=JH;break;case k6:d=hW;break;case"scroll":d=qH;break;case"wheel":d=pW;break;case"copy":case"cut":case"paste":d=eW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=l4}var x=(e&4)!==0,y=!x&&t==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var _=u,b;_!==null;){b=_;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,g!==null&&(S=_0(_,g),S!=null&&x.push(P0(_,S,b)))),y)break;_=_.return}0<x.length&&(h=new d(h,m,null,n,c),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==PA&&(m=n.relatedTarget||n.fromElement)&&(ud(m)||m[Oc]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=u,m=m?ud(m):null,m!==null&&(y=Zd(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(x=o4,S="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=l4,S="onPointerLeave",g="onPointerEnter",_="pointer"),y=d==null?h:pm(d),b=m==null?h:pm(m),h=new x(S,_+"leave",d,n,c),h.target=y,h.relatedTarget=b,S=null,ud(c)===u&&(x=new x(g,_+"enter",m,n,c),x.target=b,x.relatedTarget=y,S=x),y=S,d&&m)t:{for(x=d,g=m,_=0,b=x;b;b=Tp(b))_++;for(b=0,S=g;S;S=Tp(S))b++;for(;0<_-b;)x=Tp(x),_--;for(;0<b-_;)g=Tp(g),b--;for(;_--;){if(x===g||g!==null&&x===g.alternate)break t;x=Tp(x),g=Tp(g)}x=null}else x=null;d!==null&&x4(f,h,d,x,!1),m!==null&&y!==null&&x4(f,y,m,x,!0)}}e:{if(h=u?pm(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var A=_W;else if(f4(h))if(T6)A=MW;else{A=SW;var E=wW}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=AW);if(A&&(A=A(t,u))){E6(f,A,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&SA(h,"number",h.value)}switch(E=u?pm(u):window,t){case"focusin":(f4(E)||E.contentEditable==="true")&&(hm=E,kA=u,Kv=null);break;case"focusout":Kv=kA=hm=null;break;case"mousedown":DA=!0;break;case"contextmenu":case"mouseup":case"dragend":DA=!1,g4(f,n,c);break;case"selectionchange":if(PW)break;case"keydown":case"keyup":g4(f,n,c)}var M;if(aT)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else fm?A6(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(S6&&n.locale!=="ko"&&(fm||P!=="onCompositionStart"?P==="onCompositionEnd"&&fm&&(M=w6()):(zf=c,nT="value"in zf?zf.value:zf.textContent,fm=!0)),E=Bx(u,P),0<E.length&&(P=new s4(P,t,null,n,c),f.push({event:P,listeners:E}),M?P.data=M:(M=M6(n),M!==null&&(P.data=M)))),(M=gW?vW(t,n):yW(t,n))&&(u=Bx(u,"onBeforeInput"),0<u.length&&(c=new s4("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=M))}F6(f,e)})}function P0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=_0(t,n),a!=null&&r.unshift(P0(t,a,i)),a=_0(t,e),a!=null&&r.push(P0(t,a,i))),t=t.return}return r}function Tp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x4(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=_0(n,a),l!=null&&o.unshift(P0(n,l,s))):i||(l=_0(n,a),l!=null&&o.push(P0(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var OW=/\r\n?/g,RW=/\u0000|\uFFFD/g;function b4(t){return(typeof t=="string"?t:""+t).replace(OW,`
`).replace(RW,"")}function j1(t,e,n){if(e=b4(e),b4(t)!==e&&n)throw Error(Tt(425))}function zx(){}var FA=null,UA=null;function BA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zA=typeof setTimeout=="function"?setTimeout:void 0,IW=typeof clearTimeout=="function"?clearTimeout:void 0,_4=typeof Promise=="function"?Promise:void 0,kW=typeof queueMicrotask=="function"?queueMicrotask:typeof _4<"u"?function(t){return _4.resolve(null).then(t).catch(DW)}:zA;function DW(t){setTimeout(function(){throw t})}function AS(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),A0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);A0(e)}function qf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sg=Math.random().toString(36).slice(2),Tu="__reactFiber$"+Sg,C0="__reactProps$"+Sg,Oc="__reactContainer$"+Sg,jA="__reactEvents$"+Sg,FW="__reactListeners$"+Sg,UW="__reactHandles$"+Sg;function ud(t){var e=t[Tu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oc]||n[Tu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=w4(t);t!==null;){if(n=t[Tu])return n;t=w4(t)}return e}t=n,n=t.parentNode}return null}function Vy(t){return t=t[Tu]||t[Oc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Tt(33))}function m_(t){return t[C0]||null}var HA=[],mm=-1;function hh(t){return{current:t}}function Kr(t){0>mm||(t.current=HA[mm],HA[mm]=null,mm--)}function Br(t,e){mm++,HA[mm]=t.current,t.current=e}var oh={},Mo=hh(oh),as=hh(!1),Fd=oh;function Hm(t,e){var n=t.type.contextTypes;if(!n)return oh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function os(t){return t=t.childContextTypes,t!=null}function jx(){Kr(as),Kr(Mo)}function S4(t,e,n){if(Mo.current!==oh)throw Error(Tt(168));Br(Mo,e),Br(as,n)}function B6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Tt(108,wH(t)||"Unknown",i));return xi({},n,r)}function Hx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oh,Fd=Mo.current,Br(Mo,t),Br(as,as.current),!0}function A4(t,e,n){var r=t.stateNode;if(!r)throw Error(Tt(169));n?(t=B6(t,e,Fd),r.__reactInternalMemoizedMergedChildContext=t,Kr(as),Kr(Mo),Br(Mo,t)):Kr(as),Br(as,n)}var pc=null,g_=!1,MS=!1;function z6(t){pc===null?pc=[t]:pc.push(t)}function BW(t){g_=!0,z6(t)}function dh(){if(!MS&&pc!==null){MS=!0;var t=0,e=vr;try{var n=pc;for(vr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pc=null,g_=!1}catch(i){throw pc!==null&&(pc=pc.slice(t+1)),f6(J3,dh),i}finally{vr=e,MS=!1}}return null}var gm=[],vm=0,Wx=null,Gx=0,dl=[],pl=0,Ud=null,yc=1,xc="";function Kh(t,e){gm[vm++]=Gx,gm[vm++]=Wx,Wx=t,Gx=e}function j6(t,e,n){dl[pl++]=yc,dl[pl++]=xc,dl[pl++]=Ud,Ud=t;var r=yc;t=xc;var i=32-nu(r)-1;r&=~(1<<i),n+=1;var a=32-nu(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yc=1<<32-nu(e)+i|n<<i|r,xc=a+t}else yc=1<<a|n<<i|r,xc=t}function sT(t){t.return!==null&&(Kh(t,1),j6(t,1,0))}function lT(t){for(;t===Wx;)Wx=gm[--vm],gm[vm]=null,Gx=gm[--vm],gm[vm]=null;for(;t===Ud;)Ud=dl[--pl],dl[pl]=null,xc=dl[--pl],dl[pl]=null,yc=dl[--pl],dl[pl]=null}var Is=null,Os=null,ni=!1,Kl=null;function H6(t,e){var n=ml(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Is=t,Os=qf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Is=t,Os=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ud!==null?{id:yc,overflow:xc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ml(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Is=t,Os=null,!0):!1;default:return!1}}function WA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function GA(t){if(ni){var e=Os;if(e){var n=e;if(!M4(t,e)){if(WA(t))throw Error(Tt(418));e=qf(n.nextSibling);var r=Is;e&&M4(t,e)?H6(r,n):(t.flags=t.flags&-4097|2,ni=!1,Is=t)}}else{if(WA(t))throw Error(Tt(418));t.flags=t.flags&-4097|2,ni=!1,Is=t}}}function E4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Is=t}function H1(t){if(t!==Is)return!1;if(!ni)return E4(t),ni=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!BA(t.type,t.memoizedProps)),e&&(e=Os)){if(WA(t))throw W6(),Error(Tt(418));for(;e;)H6(t,e),e=qf(e.nextSibling)}if(E4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Os=qf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Os=null}}else Os=Is?qf(t.stateNode.nextSibling):null;return!0}function W6(){for(var t=Os;t;)t=qf(t.nextSibling)}function Wm(){Os=Is=null,ni=!1}function uT(t){Kl===null?Kl=[t]:Kl.push(t)}var zW=Hc.ReactCurrentBatchConfig;function fv(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Tt(309));var r=n.stateNode}if(!r)throw Error(Tt(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Tt(284));if(!n._owner)throw Error(Tt(290,t))}return t}function W1(t,e){throw t=Object.prototype.toString.call(e),Error(Tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T4(t){var e=t._init;return e(t._payload)}function G6(t){function e(g,_){if(t){var b=g.deletions;b===null?(g.deletions=[_],g.flags|=16):b.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Zf(g,_),g.index=0,g.sibling=null,g}function a(g,_,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<_?(g.flags|=2,_):b):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,_,b,S){return _===null||_.tag!==6?(_=OS(b,g.mode,S),_.return=g,_):(_=i(_,b),_.return=g,_)}function l(g,_,b,S){var A=b.type;return A===cm?c(g,_,b.props.children,S,b.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Of&&T4(A)===_.type)?(S=i(_,b.props),S.ref=fv(g,_,b),S.return=g,S):(S=_x(b.type,b.key,b.props,null,g.mode,S),S.ref=fv(g,_,b),S.return=g,S)}function u(g,_,b,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=RS(b,g.mode,S),_.return=g,_):(_=i(_,b.children||[]),_.return=g,_)}function c(g,_,b,S,A){return _===null||_.tag!==7?(_=Sd(b,g.mode,S,A),_.return=g,_):(_=i(_,b),_.return=g,_)}function f(g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=OS(""+_,g.mode,b),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O1:return b=_x(_.type,_.key,_.props,null,g.mode,b),b.ref=fv(g,null,_),b.return=g,b;case um:return _=RS(_,g.mode,b),_.return=g,_;case Of:var S=_._init;return f(g,S(_._payload),b)}if(jv(_)||ov(_))return _=Sd(_,g.mode,b,null),_.return=g,_;W1(g,_)}return null}function h(g,_,b,S){var A=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return A!==null?null:s(g,_,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case O1:return b.key===A?l(g,_,b,S):null;case um:return b.key===A?u(g,_,b,S):null;case Of:return A=b._init,h(g,_,A(b._payload),S)}if(jv(b)||ov(b))return A!==null?null:c(g,_,b,S,null);W1(g,b)}return null}function d(g,_,b,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(b)||null,s(_,g,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case O1:return g=g.get(S.key===null?b:S.key)||null,l(_,g,S,A);case um:return g=g.get(S.key===null?b:S.key)||null,u(_,g,S,A);case Of:var E=S._init;return d(g,_,b,E(S._payload),A)}if(jv(S)||ov(S))return g=g.get(b)||null,c(_,g,S,A,null);W1(_,S)}return null}function m(g,_,b,S){for(var A=null,E=null,M=_,P=_=0,D=null;M!==null&&P<b.length;P++){M.index>P?(D=M,M=null):D=M.sibling;var N=h(g,M,b[P],S);if(N===null){M===null&&(M=D);break}t&&M&&N.alternate===null&&e(g,M),_=a(N,_,P),E===null?A=N:E.sibling=N,E=N,M=D}if(P===b.length)return n(g,M),ni&&Kh(g,P),A;if(M===null){for(;P<b.length;P++)M=f(g,b[P],S),M!==null&&(_=a(M,_,P),E===null?A=M:E.sibling=M,E=M);return ni&&Kh(g,P),A}for(M=r(g,M);P<b.length;P++)D=d(M,g,P,b[P],S),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?P:D.key),_=a(D,_,P),E===null?A=D:E.sibling=D,E=D);return t&&M.forEach(function(C){return e(g,C)}),ni&&Kh(g,P),A}function x(g,_,b,S){var A=ov(b);if(typeof A!="function")throw Error(Tt(150));if(b=A.call(b),b==null)throw Error(Tt(151));for(var E=A=null,M=_,P=_=0,D=null,N=b.next();M!==null&&!N.done;P++,N=b.next()){M.index>P?(D=M,M=null):D=M.sibling;var C=h(g,M,N.value,S);if(C===null){M===null&&(M=D);break}t&&M&&C.alternate===null&&e(g,M),_=a(C,_,P),E===null?A=C:E.sibling=C,E=C,M=D}if(N.done)return n(g,M),ni&&Kh(g,P),A;if(M===null){for(;!N.done;P++,N=b.next())N=f(g,N.value,S),N!==null&&(_=a(N,_,P),E===null?A=N:E.sibling=N,E=N);return ni&&Kh(g,P),A}for(M=r(g,M);!N.done;P++,N=b.next())N=d(M,g,P,N.value,S),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?P:N.key),_=a(N,_,P),E===null?A=N:E.sibling=N,E=N);return t&&M.forEach(function(O){return e(g,O)}),ni&&Kh(g,P),A}function y(g,_,b,S){if(typeof b=="object"&&b!==null&&b.type===cm&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case O1:e:{for(var A=b.key,E=_;E!==null;){if(E.key===A){if(A=b.type,A===cm){if(E.tag===7){n(g,E.sibling),_=i(E,b.props.children),_.return=g,g=_;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Of&&T4(A)===E.type){n(g,E.sibling),_=i(E,b.props),_.ref=fv(g,E,b),_.return=g,g=_;break e}n(g,E);break}else e(g,E);E=E.sibling}b.type===cm?(_=Sd(b.props.children,g.mode,S,b.key),_.return=g,g=_):(S=_x(b.type,b.key,b.props,null,g.mode,S),S.ref=fv(g,_,b),S.return=g,g=S)}return o(g);case um:e:{for(E=b.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(g,_.sibling),_=i(_,b.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=RS(b,g.mode,S),_.return=g,g=_}return o(g);case Of:return E=b._init,y(g,_,E(b._payload),S)}if(jv(b))return m(g,_,b,S);if(ov(b))return x(g,_,b,S);W1(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,b),_.return=g,g=_):(n(g,_),_=OS(b,g.mode,S),_.return=g,g=_),o(g)):n(g,_)}return y}var Gm=G6(!0),V6=G6(!1),Vx=hh(null),$x=null,ym=null,cT=null;function fT(){cT=ym=$x=null}function hT(t){var e=Vx.current;Kr(Vx),t._currentValue=e}function VA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Im(t,e){$x=t,cT=ym=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rs=!0),t.firstContext=null)}function bl(t){var e=t._currentValue;if(cT!==t)if(t={context:t,memoizedValue:e,next:null},ym===null){if($x===null)throw Error(Tt(308));ym=t,$x.dependencies={lanes:0,firstContext:t}}else ym=ym.next=t;return e}var cd=null;function dT(t){cd===null?cd=[t]:cd.push(t)}function $6(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rc(t,r)}function Rc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rf=!1;function pT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$n&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rc(t,n)}return i=r.interleaved,i===null?(e.next=e,dT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rc(t,n)}function mx(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Q3(t,n)}}function P4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qx(t,e,n,r){var i=t.updateQueue;Rf=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,d=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,x=s;switch(h=e,d=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=xi({},f,h);break e;case 2:Rf=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);zd|=o,t.lanes=o,t.memoizedState=f}}function C4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Tt(191,i));i.call(r)}}}var $y={},Ru=hh($y),L0=hh($y),N0=hh($y);function fd(t){if(t===$y)throw Error(Tt(174));return t}function mT(t,e){switch(Br(N0,e),Br(L0,t),Br(Ru,$y),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:MA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=MA(e,t)}Kr(Ru),Br(Ru,e)}function Vm(){Kr(Ru),Kr(L0),Kr(N0)}function X6(t){fd(N0.current);var e=fd(Ru.current),n=MA(e,t.type);e!==n&&(Br(L0,t),Br(Ru,n))}function gT(t){L0.current===t&&(Kr(Ru),Kr(L0))}var pi=hh(0);function Xx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ES=[];function vT(){for(var t=0;t<ES.length;t++)ES[t]._workInProgressVersionPrimary=null;ES.length=0}var gx=Hc.ReactCurrentDispatcher,TS=Hc.ReactCurrentBatchConfig,Bd=0,vi=null,fa=null,ka=null,Yx=!1,Zv=!1,O0=0,jW=0;function so(){throw Error(Tt(321))}function yT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!iu(t[n],e[n]))return!1;return!0}function xT(t,e,n,r,i,a){if(Bd=a,vi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gx.current=t===null||t.memoizedState===null?VW:$W,t=n(r,i),Zv){a=0;do{if(Zv=!1,O0=0,25<=a)throw Error(Tt(301));a+=1,ka=fa=null,e.updateQueue=null,gx.current=qW,t=n(r,i)}while(Zv)}if(gx.current=Kx,e=fa!==null&&fa.next!==null,Bd=0,ka=fa=vi=null,Yx=!1,e)throw Error(Tt(300));return t}function bT(){var t=O0!==0;return O0=0,t}function Mu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ka===null?vi.memoizedState=ka=t:ka=ka.next=t,ka}function _l(){if(fa===null){var t=vi.alternate;t=t!==null?t.memoizedState:null}else t=fa.next;var e=ka===null?vi.memoizedState:ka.next;if(e!==null)ka=e,fa=t;else{if(t===null)throw Error(Tt(310));fa=t,t={memoizedState:fa.memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},ka===null?vi.memoizedState=ka=t:ka=ka.next=t}return ka}function R0(t,e){return typeof e=="function"?e(t):e}function PS(t){var e=_l(),n=e.queue;if(n===null)throw Error(Tt(311));n.lastRenderedReducer=t;var r=fa,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Bd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,vi.lanes|=c,zd|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,iu(r,e.memoizedState)||(rs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,vi.lanes|=a,zd|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function CS(t){var e=_l(),n=e.queue;if(n===null)throw Error(Tt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);iu(a,e.memoizedState)||(rs=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Y6(){}function K6(t,e){var n=vi,r=_l(),i=e(),a=!iu(r.memoizedState,i);if(a&&(r.memoizedState=i,rs=!0),r=r.queue,_T(Q6.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ka!==null&&ka.memoizedState.tag&1){if(n.flags|=2048,I0(9,J6.bind(null,n,r,i,e),void 0,null),Da===null)throw Error(Tt(349));Bd&30||Z6(n,e,i)}return i}function Z6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vi.updateQueue,e===null?(e={lastEffect:null,stores:null},vi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function J6(t,e,n,r){e.value=n,e.getSnapshot=r,eF(e)&&tF(t)}function Q6(t,e,n){return n(function(){eF(e)&&tF(t)})}function eF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iu(t,n)}catch{return!0}}function tF(t){var e=Rc(t,1);e!==null&&ru(e,t,1,-1)}function L4(t){var e=Mu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:t},e.queue=t,t=t.dispatch=GW.bind(null,vi,t),[e.memoizedState,t]}function I0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vi.updateQueue,e===null?(e={lastEffect:null,stores:null},vi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nF(){return _l().memoizedState}function vx(t,e,n,r){var i=Mu();vi.flags|=t,i.memoizedState=I0(1|e,n,void 0,r===void 0?null:r)}function v_(t,e,n,r){var i=_l();r=r===void 0?null:r;var a=void 0;if(fa!==null){var o=fa.memoizedState;if(a=o.destroy,r!==null&&yT(r,o.deps)){i.memoizedState=I0(e,n,a,r);return}}vi.flags|=t,i.memoizedState=I0(1|e,n,a,r)}function N4(t,e){return vx(8390656,8,t,e)}function _T(t,e){return v_(2048,8,t,e)}function rF(t,e){return v_(4,2,t,e)}function iF(t,e){return v_(4,4,t,e)}function aF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oF(t,e,n){return n=n!=null?n.concat([t]):null,v_(4,4,aF.bind(null,e,t),n)}function wT(){}function sF(t,e){var n=_l();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lF(t,e){var n=_l();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uF(t,e,n){return Bd&21?(iu(n,e)||(n=p6(),vi.lanes|=n,zd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rs=!0),t.memoizedState=n)}function HW(t,e){var n=vr;vr=n!==0&&4>n?n:4,t(!0);var r=TS.transition;TS.transition={};try{t(!1),e()}finally{vr=n,TS.transition=r}}function cF(){return _l().memoizedState}function WW(t,e,n){var r=Kf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fF(t))hF(e,n);else if(n=$6(t,e,n,r),n!==null){var i=zo();ru(n,t,r,i),dF(n,e,r)}}function GW(t,e,n){var r=Kf(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fF(t))hF(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,iu(s,o)){var l=e.interleaved;l===null?(i.next=i,dT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$6(t,e,i,r),n!==null&&(i=zo(),ru(n,t,r,i),dF(n,e,r))}}function fF(t){var e=t.alternate;return t===vi||e!==null&&e===vi}function hF(t,e){Zv=Yx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Q3(t,n)}}var Kx={readContext:bl,useCallback:so,useContext:so,useEffect:so,useImperativeHandle:so,useInsertionEffect:so,useLayoutEffect:so,useMemo:so,useReducer:so,useRef:so,useState:so,useDebugValue:so,useDeferredValue:so,useTransition:so,useMutableSource:so,useSyncExternalStore:so,useId:so,unstable_isNewReconciler:!1},VW={readContext:bl,useCallback:function(t,e){return Mu().memoizedState=[t,e===void 0?null:e],t},useContext:bl,useEffect:N4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vx(4194308,4,aF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vx(4194308,4,t,e)},useInsertionEffect:function(t,e){return vx(4,2,t,e)},useMemo:function(t,e){var n=Mu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WW.bind(null,vi,t),[r.memoizedState,t]},useRef:function(t){var e=Mu();return t={current:t},e.memoizedState=t},useState:L4,useDebugValue:wT,useDeferredValue:function(t){return Mu().memoizedState=t},useTransition:function(){var t=L4(!1),e=t[0];return t=HW.bind(null,t[1]),Mu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vi,i=Mu();if(ni){if(n===void 0)throw Error(Tt(407));n=n()}else{if(n=e(),Da===null)throw Error(Tt(349));Bd&30||Z6(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,N4(Q6.bind(null,r,a,t),[t]),r.flags|=2048,I0(9,J6.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Mu(),e=Da.identifierPrefix;if(ni){var n=xc,r=yc;n=(r&~(1<<32-nu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=O0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$W={readContext:bl,useCallback:sF,useContext:bl,useEffect:_T,useImperativeHandle:oF,useInsertionEffect:rF,useLayoutEffect:iF,useMemo:lF,useReducer:PS,useRef:nF,useState:function(){return PS(R0)},useDebugValue:wT,useDeferredValue:function(t){var e=_l();return uF(e,fa.memoizedState,t)},useTransition:function(){var t=PS(R0)[0],e=_l().memoizedState;return[t,e]},useMutableSource:Y6,useSyncExternalStore:K6,useId:cF,unstable_isNewReconciler:!1},qW={readContext:bl,useCallback:sF,useContext:bl,useEffect:_T,useImperativeHandle:oF,useInsertionEffect:rF,useLayoutEffect:iF,useMemo:lF,useReducer:CS,useRef:nF,useState:function(){return CS(R0)},useDebugValue:wT,useDeferredValue:function(t){var e=_l();return fa===null?e.memoizedState=t:uF(e,fa.memoizedState,t)},useTransition:function(){var t=CS(R0)[0],e=_l().memoizedState;return[t,e]},useMutableSource:Y6,useSyncExternalStore:K6,useId:cF,unstable_isNewReconciler:!1};function Gl(t,e){if(t&&t.defaultProps){e=xi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $A(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var y_={isMounted:function(t){return(t=t._reactInternals)?Zd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zo(),i=Kf(t),a=Mc(r,i);a.payload=e,n!=null&&(a.callback=n),e=Xf(t,a,i),e!==null&&(ru(e,t,i,r),mx(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zo(),i=Kf(t),a=Mc(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Xf(t,a,i),e!==null&&(ru(e,t,i,r),mx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zo(),r=Kf(t),i=Mc(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xf(t,i,r),e!==null&&(ru(e,t,r,n),mx(e,t,r))}};function O4(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!E0(n,r)||!E0(i,a):!0}function pF(t,e,n){var r=!1,i=oh,a=e.contextType;return typeof a=="object"&&a!==null?a=bl(a):(i=os(e)?Fd:Mo.current,r=e.contextTypes,a=(r=r!=null)?Hm(t,i):oh),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=y_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function R4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&y_.enqueueReplaceState(e,e.state,null)}function qA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pT(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=bl(a):(a=os(e)?Fd:Mo.current,i.context=Hm(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&($A(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&y_.enqueueReplaceState(i,i.state,null),qx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $m(t,e){try{var n="",r=e;do n+=_H(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function LS(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function XA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XW=typeof WeakMap=="function"?WeakMap:Map;function mF(t,e,n){n=Mc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jx||(Jx=!0,iM=r),XA(t,e)},n}function gF(t,e,n){n=Mc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){XA(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){XA(t,e),typeof r!="function"&&(Yf===null?Yf=new Set([this]):Yf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lG.bind(null,t,e,n),e.then(t,t))}function k4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function D4(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mc(-1,1),e.tag=2,Xf(n,e,1))),n.lanes|=1),t)}var YW=Hc.ReactCurrentOwner,rs=!1;function Do(t,e,n,r){e.child=t===null?V6(e,null,n,r):Gm(e,t.child,n,r)}function F4(t,e,n,r,i){n=n.render;var a=e.ref;return Im(e,i),r=xT(t,e,n,r,a,i),n=bT(),t!==null&&!rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ic(t,e,i)):(ni&&n&&sT(e),e.flags|=1,Do(t,e,r,i),e.child)}function U4(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!LT(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,vF(t,e,a,r,i)):(t=_x(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:E0,n(o,r)&&t.ref===e.ref)return Ic(t,e,i)}return e.flags|=1,t=Zf(a,r),t.ref=e.ref,t.return=e,e.child=t}function vF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(E0(a,r)&&t.ref===e.ref)if(rs=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(rs=!0);else return e.lanes=t.lanes,Ic(t,e,i)}return YA(t,e,n,r,i)}function yF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Br(bm,Ts),Ts|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Br(bm,Ts),Ts|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Br(bm,Ts),Ts|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Br(bm,Ts),Ts|=r;return Do(t,e,i,n),e.child}function xF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function YA(t,e,n,r,i){var a=os(n)?Fd:Mo.current;return a=Hm(e,a),Im(e,i),n=xT(t,e,n,r,a,i),r=bT(),t!==null&&!rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ic(t,e,i)):(ni&&r&&sT(e),e.flags|=1,Do(t,e,n,i),e.child)}function B4(t,e,n,r,i){if(os(n)){var a=!0;Hx(e)}else a=!1;if(Im(e,i),e.stateNode===null)yx(t,e),pF(e,n,r),qA(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bl(u):(u=os(n)?Fd:Mo.current,u=Hm(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&R4(e,o,r,u),Rf=!1;var h=e.memoizedState;o.state=h,qx(e,r,o,i),l=e.memoizedState,s!==r||h!==l||as.current||Rf?(typeof c=="function"&&($A(e,n,c,r),l=e.memoizedState),(s=Rf||O4(e,n,s,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,q6(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Gl(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bl(l):(l=os(n)?Fd:Mo.current,l=Hm(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&R4(e,o,r,l),Rf=!1,h=e.memoizedState,o.state=h,qx(e,r,o,i);var m=e.memoizedState;s!==f||h!==m||as.current||Rf?(typeof d=="function"&&($A(e,n,d,r),m=e.memoizedState),(u=Rf||O4(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return KA(t,e,n,r,a,i)}function KA(t,e,n,r,i,a){xF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&A4(e,n,!1),Ic(t,e,a);r=e.stateNode,YW.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gm(e,t.child,null,a),e.child=Gm(e,null,s,a)):Do(t,e,s,a),e.memoizedState=r.state,i&&A4(e,n,!0),e.child}function bF(t){var e=t.stateNode;e.pendingContext?S4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S4(t,e.context,!1),mT(t,e.containerInfo)}function z4(t,e,n,r,i){return Wm(),uT(i),e.flags|=256,Do(t,e,n,r),e.child}var ZA={dehydrated:null,treeContext:null,retryLane:0};function JA(t){return{baseLanes:t,cachePool:null,transitions:null}}function _F(t,e,n){var r=e.pendingProps,i=pi.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Br(pi,i&1),t===null)return GA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=__(o,r,0,null),t=Sd(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=JA(n),e.memoizedState=ZA,t):ST(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return KW(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Zf(s,a):(a=Sd(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?JA(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=ZA,r}return a=t.child,t=a.sibling,r=Zf(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ST(t,e){return e=__({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function G1(t,e,n,r){return r!==null&&uT(r),Gm(e,t.child,null,n),t=ST(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KW(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=LS(Error(Tt(422))),G1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=__({mode:"visible",children:r.children},i,0,null),a=Sd(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Gm(e,t.child,null,o),e.child.memoizedState=JA(o),e.memoizedState=ZA,a);if(!(e.mode&1))return G1(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Tt(419)),r=LS(a,r,void 0),G1(t,e,o,r)}if(s=(o&t.childLanes)!==0,rs||s){if(r=Da,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Rc(t,i),ru(r,t,i,-1))}return CT(),r=LS(Error(Tt(421))),G1(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uG.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Os=qf(i.nextSibling),Is=e,ni=!0,Kl=null,t!==null&&(dl[pl++]=yc,dl[pl++]=xc,dl[pl++]=Ud,yc=t.id,xc=t.overflow,Ud=e),e=ST(e,r.children),e.flags|=4096,e)}function j4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),VA(t.return,e,n)}function NS(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function wF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Do(t,e,r.children,n),r=pi.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j4(t,n,e);else if(t.tag===19)j4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Br(pi,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xx(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),NS(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xx(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}NS(e,!0,n,null,a);break;case"together":NS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ic(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Tt(153));if(e.child!==null){for(t=e.child,n=Zf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZW(t,e,n){switch(e.tag){case 3:bF(e),Wm();break;case 5:X6(e);break;case 1:os(e.type)&&Hx(e);break;case 4:mT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Br(Vx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Br(pi,pi.current&1),e.flags|=128,null):n&e.child.childLanes?_F(t,e,n):(Br(pi,pi.current&1),t=Ic(t,e,n),t!==null?t.sibling:null);Br(pi,pi.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Br(pi,pi.current),r)break;return null;case 22:case 23:return e.lanes=0,yF(t,e,n)}return Ic(t,e,n)}var SF,QA,AF,MF;SF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};QA=function(){};AF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fd(Ru.current);var a=null;switch(n){case"input":i=_A(t,i),r=_A(t,r),a=[];break;case"select":i=xi({},i,{value:void 0}),r=xi({},r,{value:void 0}),a=[];break;case"textarea":i=AA(t,i),r=AA(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zx)}EA(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(x0.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(x0.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Vr("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};MF=function(t,e,n,r){n!==r&&(e.flags|=4)};function hv(t,e){if(!ni)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JW(t,e,n){var r=e.pendingProps;switch(lT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lo(e),null;case 1:return os(e.type)&&jx(),lo(e),null;case 3:return r=e.stateNode,Vm(),Kr(as),Kr(Mo),vT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(H1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kl!==null&&(sM(Kl),Kl=null))),QA(t,e),lo(e),null;case 5:gT(e);var i=fd(N0.current);if(n=e.type,t!==null&&e.stateNode!=null)AF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Tt(166));return lo(e),null}if(t=fd(Ru.current),H1(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Tu]=e,r[C0]=a,t=(e.mode&1)!==0,n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Wv.length;i++)Vr(Wv[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":KC(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":JC(r,a),Vr("invalid",r)}EA(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&j1(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&j1(r.textContent,s,t),i=["children",""+s]):x0.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Vr("scroll",r)}switch(n){case"input":R1(r),ZC(r,a,!0);break;case"textarea":R1(r),QC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=zx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tu]=e,t[C0]=r,SF(t,e,!1,!1),e.stateNode=t;e:{switch(o=TA(n,r),n){case"dialog":Vr("cancel",t),Vr("close",t),i=r;break;case"iframe":case"object":case"embed":Vr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wv.length;i++)Vr(Wv[i],t);i=r;break;case"source":Vr("error",t),i=r;break;case"img":case"image":case"link":Vr("error",t),Vr("load",t),i=r;break;case"details":Vr("toggle",t),i=r;break;case"input":KC(t,r),i=_A(t,r),Vr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xi({},r,{value:void 0}),Vr("invalid",t);break;case"textarea":JC(t,r),i=AA(t,r),Vr("invalid",t);break;default:i=r}EA(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?n6(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&e6(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&b0(t,l):typeof l=="number"&&b0(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(x0.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Vr("scroll",t):l!=null&&q3(t,a,l,o))}switch(n){case"input":R1(t),ZC(t,r,!1);break;case"textarea":R1(t),QC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ah(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Lm(t,!!r.multiple,a,!1):r.defaultValue!=null&&Lm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lo(e),null;case 6:if(t&&e.stateNode!=null)MF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Tt(166));if(n=fd(N0.current),fd(Ru.current),H1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tu]=e,(a=r.nodeValue!==n)&&(t=Is,t!==null))switch(t.tag){case 3:j1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&j1(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tu]=e,e.stateNode=r}return lo(e),null;case 13:if(Kr(pi),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ni&&Os!==null&&e.mode&1&&!(e.flags&128))W6(),Wm(),e.flags|=98560,a=!1;else if(a=H1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Tt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Tt(317));a[Tu]=e}else Wm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lo(e),a=!1}else Kl!==null&&(sM(Kl),Kl=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pi.current&1?da===0&&(da=3):CT())),e.updateQueue!==null&&(e.flags|=4),lo(e),null);case 4:return Vm(),QA(t,e),t===null&&T0(e.stateNode.containerInfo),lo(e),null;case 10:return hT(e.type._context),lo(e),null;case 17:return os(e.type)&&jx(),lo(e),null;case 19:if(Kr(pi),a=e.memoizedState,a===null)return lo(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)hv(a,!1);else{if(da!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xx(t),o!==null){for(e.flags|=128,hv(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Br(pi,pi.current&1|2),e.child}t=t.sibling}a.tail!==null&&Fi()>qm&&(e.flags|=128,r=!0,hv(a,!1),e.lanes=4194304)}else{if(!r)if(t=Xx(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hv(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ni)return lo(e),null}else 2*Fi()-a.renderingStartTime>qm&&n!==1073741824&&(e.flags|=128,r=!0,hv(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Fi(),e.sibling=null,n=pi.current,Br(pi,r?n&1|2:n&1),e):(lo(e),null);case 22:case 23:return PT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ts&1073741824&&(lo(e),e.subtreeFlags&6&&(e.flags|=8192)):lo(e),null;case 24:return null;case 25:return null}throw Error(Tt(156,e.tag))}function QW(t,e){switch(lT(e),e.tag){case 1:return os(e.type)&&jx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vm(),Kr(as),Kr(Mo),vT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gT(e),null;case 13:if(Kr(pi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Tt(340));Wm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kr(pi),null;case 4:return Vm(),null;case 10:return hT(e.type._context),null;case 22:case 23:return PT(),null;case 24:return null;default:return null}}var V1=!1,yo=!1,eG=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function xm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ti(t,e,r)}else n.current=null}function eM(t,e,n){try{n()}catch(r){Ti(t,e,r)}}var H4=!1;function tG(t,e){if(FA=Fx,t=L6(),oT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(UA={focusedElem:t,selectionRange:n},Fx=!1,Wt=e;Wt!==null;)if(e=Wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Wt=t;else for(;Wt!==null;){e=Wt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,y=m.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Gl(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Tt(163))}}catch(S){Ti(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Wt=t;break}Wt=e.return}return m=H4,H4=!1,m}function Jv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&eM(e,n,a)}i=i.next}while(i!==r)}}function x_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function EF(t){var e=t.alternate;e!==null&&(t.alternate=null,EF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tu],delete e[C0],delete e[jA],delete e[FW],delete e[UW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TF(t){return t.tag===5||t.tag===3||t.tag===4}function W4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zx));else if(r!==4&&(t=t.child,t!==null))for(nM(t,e,n),t=t.sibling;t!==null;)nM(t,e,n),t=t.sibling}function rM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rM(t,e,n),t=t.sibling;t!==null;)rM(t,e,n),t=t.sibling}var Ya=null,ql=!1;function bf(t,e,n){for(n=n.child;n!==null;)PF(t,e,n),n=n.sibling}function PF(t,e,n){if(Ou&&typeof Ou.onCommitFiberUnmount=="function")try{Ou.onCommitFiberUnmount(f_,n)}catch{}switch(n.tag){case 5:yo||xm(n,e);case 6:var r=Ya,i=ql;Ya=null,bf(t,e,n),Ya=r,ql=i,Ya!==null&&(ql?(t=Ya,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ya.removeChild(n.stateNode));break;case 18:Ya!==null&&(ql?(t=Ya,n=n.stateNode,t.nodeType===8?AS(t.parentNode,n):t.nodeType===1&&AS(t,n),A0(t)):AS(Ya,n.stateNode));break;case 4:r=Ya,i=ql,Ya=n.stateNode.containerInfo,ql=!0,bf(t,e,n),Ya=r,ql=i;break;case 0:case 11:case 14:case 15:if(!yo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&eM(n,e,o),i=i.next}while(i!==r)}bf(t,e,n);break;case 1:if(!yo&&(xm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ti(n,e,s)}bf(t,e,n);break;case 21:bf(t,e,n);break;case 22:n.mode&1?(yo=(r=yo)||n.memoizedState!==null,bf(t,e,n),yo=r):bf(t,e,n);break;default:bf(t,e,n)}}function G4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eG),e.forEach(function(r){var i=cG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fl(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ya=s.stateNode,ql=!1;break e;case 3:Ya=s.stateNode.containerInfo,ql=!0;break e;case 4:Ya=s.stateNode.containerInfo,ql=!0;break e}s=s.return}if(Ya===null)throw Error(Tt(160));PF(a,o,i),Ya=null,ql=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ti(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CF(e,t),e=e.sibling}function CF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fl(e,t),Su(t),r&4){try{Jv(3,t,t.return),x_(3,t)}catch(x){Ti(t,t.return,x)}try{Jv(5,t,t.return)}catch(x){Ti(t,t.return,x)}}break;case 1:Fl(e,t),Su(t),r&512&&n!==null&&xm(n,n.return);break;case 5:if(Fl(e,t),Su(t),r&512&&n!==null&&xm(n,n.return),t.flags&32){var i=t.stateNode;try{b0(i,"")}catch(x){Ti(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&ZD(i,a),TA(s,o);var u=TA(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?n6(i,f):c==="dangerouslySetInnerHTML"?e6(i,f):c==="children"?b0(i,f):q3(i,c,f,u)}switch(s){case"input":wA(i,a);break;case"textarea":JD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Lm(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?Lm(i,!!a.multiple,a.defaultValue,!0):Lm(i,!!a.multiple,a.multiple?[]:"",!1))}i[C0]=a}catch(x){Ti(t,t.return,x)}}break;case 6:if(Fl(e,t),Su(t),r&4){if(t.stateNode===null)throw Error(Tt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){Ti(t,t.return,x)}}break;case 3:if(Fl(e,t),Su(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{A0(e.containerInfo)}catch(x){Ti(t,t.return,x)}break;case 4:Fl(e,t),Su(t);break;case 13:Fl(e,t),Su(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ET=Fi())),r&4&&G4(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(yo=(u=yo)||c,Fl(e,t),yo=u):Fl(e,t),Su(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Wt=t,c=t.child;c!==null;){for(f=Wt=c;Wt!==null;){switch(h=Wt,d=h.child,h.tag){case 0:case 11:case 14:case 15:Jv(4,h,h.return);break;case 1:xm(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(x){Ti(r,n,x)}}break;case 5:xm(h,h.return);break;case 22:if(h.memoizedState!==null){$4(f);continue}}d!==null?(d.return=h,Wt=d):$4(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=t6("display",o))}catch(x){Ti(t,t.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ti(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fl(e,t),Su(t),r&4&&G4(t);break;case 21:break;default:Fl(e,t),Su(t)}}function Su(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TF(n)){var r=n;break e}n=n.return}throw Error(Tt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(b0(i,""),r.flags&=-33);var a=W4(t);rM(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=W4(t);nM(t,s,o);break;default:throw Error(Tt(161))}}catch(l){Ti(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nG(t,e,n){Wt=t,LF(t)}function LF(t,e,n){for(var r=(t.mode&1)!==0;Wt!==null;){var i=Wt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||V1;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||yo;s=V1;var u=yo;if(V1=o,(yo=l)&&!u)for(Wt=i;Wt!==null;)o=Wt,l=o.child,o.tag===22&&o.memoizedState!==null?q4(i):l!==null?(l.return=o,Wt=l):q4(i);for(;a!==null;)Wt=a,LF(a),a=a.sibling;Wt=i,V1=s,yo=u}V4(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Wt=a):V4(t)}}function V4(t){for(;Wt!==null;){var e=Wt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yo||x_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yo)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gl(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&C4(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C4(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&A0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Tt(163))}yo||e.flags&512&&tM(e)}catch(h){Ti(e,e.return,h)}}if(e===t){Wt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Wt=n;break}Wt=e.return}}function $4(t){for(;Wt!==null;){var e=Wt;if(e===t){Wt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Wt=n;break}Wt=e.return}}function q4(t){for(;Wt!==null;){var e=Wt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{x_(4,e)}catch(l){Ti(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ti(e,i,l)}}var a=e.return;try{tM(e)}catch(l){Ti(e,a,l)}break;case 5:var o=e.return;try{tM(e)}catch(l){Ti(e,o,l)}}}catch(l){Ti(e,e.return,l)}if(e===t){Wt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Wt=s;break}Wt=e.return}}var rG=Math.ceil,Zx=Hc.ReactCurrentDispatcher,AT=Hc.ReactCurrentOwner,vl=Hc.ReactCurrentBatchConfig,$n=0,Da=null,Yi=null,Za=0,Ts=0,bm=hh(0),da=0,k0=null,zd=0,b_=0,MT=0,Qv=null,ns=null,ET=0,qm=1/0,dc=null,Jx=!1,iM=null,Yf=null,$1=!1,jf=null,Qx=0,e0=0,aM=null,xx=-1,bx=0;function zo(){return $n&6?Fi():xx!==-1?xx:xx=Fi()}function Kf(t){return t.mode&1?$n&2&&Za!==0?Za&-Za:zW.transition!==null?(bx===0&&(bx=p6()),bx):(t=vr,t!==0||(t=window.event,t=t===void 0?16:_6(t.type)),t):1}function ru(t,e,n,r){if(50<e0)throw e0=0,aM=null,Error(Tt(185));Wy(t,n,r),(!($n&2)||t!==Da)&&(t===Da&&(!($n&2)&&(b_|=n),da===4&&Df(t,Za)),ss(t,r),n===1&&$n===0&&!(e.mode&1)&&(qm=Fi()+500,g_&&dh()))}function ss(t,e){var n=t.callbackNode;zH(t,e);var r=Dx(t,t===Da?Za:0);if(r===0)n!==null&&n4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n4(n),e===1)t.tag===0?BW(X4.bind(null,t)):z6(X4.bind(null,t)),kW(function(){!($n&6)&&dh()}),n=null;else{switch(m6(r)){case 1:n=J3;break;case 4:n=h6;break;case 16:n=kx;break;case 536870912:n=d6;break;default:n=kx}n=UF(n,NF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NF(t,e){if(xx=-1,bx=0,$n&6)throw Error(Tt(327));var n=t.callbackNode;if(km()&&t.callbackNode!==n)return null;var r=Dx(t,t===Da?Za:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eb(t,r);else{e=r;var i=$n;$n|=2;var a=RF();(Da!==t||Za!==e)&&(dc=null,qm=Fi()+500,wd(t,e));do try{oG();break}catch(s){OF(t,s)}while(!0);fT(),Zx.current=a,$n=i,Yi!==null?e=0:(Da=null,Za=0,e=da)}if(e!==0){if(e===2&&(i=OA(t),i!==0&&(r=i,e=oM(t,i))),e===1)throw n=k0,wd(t,0),Df(t,r),ss(t,Fi()),n;if(e===6)Df(t,r);else{if(i=t.current.alternate,!(r&30)&&!iG(i)&&(e=eb(t,r),e===2&&(a=OA(t),a!==0&&(r=a,e=oM(t,a))),e===1))throw n=k0,wd(t,0),Df(t,r),ss(t,Fi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Tt(345));case 2:Zh(t,ns,dc);break;case 3:if(Df(t,r),(r&130023424)===r&&(e=ET+500-Fi(),10<e)){if(Dx(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zA(Zh.bind(null,t,ns,dc),e);break}Zh(t,ns,dc);break;case 4:if(Df(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nu(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Fi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rG(r/1960))-r,10<r){t.timeoutHandle=zA(Zh.bind(null,t,ns,dc),r);break}Zh(t,ns,dc);break;case 5:Zh(t,ns,dc);break;default:throw Error(Tt(329))}}}return ss(t,Fi()),t.callbackNode===n?NF.bind(null,t):null}function oM(t,e){var n=Qv;return t.current.memoizedState.isDehydrated&&(wd(t,e).flags|=256),t=eb(t,e),t!==2&&(e=ns,ns=n,e!==null&&sM(e)),t}function sM(t){ns===null?ns=t:ns.push.apply(ns,t)}function iG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!iu(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Df(t,e){for(e&=~MT,e&=~b_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nu(e),r=1<<n;t[n]=-1,e&=~r}}function X4(t){if($n&6)throw Error(Tt(327));km();var e=Dx(t,0);if(!(e&1))return ss(t,Fi()),null;var n=eb(t,e);if(t.tag!==0&&n===2){var r=OA(t);r!==0&&(e=r,n=oM(t,r))}if(n===1)throw n=k0,wd(t,0),Df(t,e),ss(t,Fi()),n;if(n===6)throw Error(Tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zh(t,ns,dc),ss(t,Fi()),null}function TT(t,e){var n=$n;$n|=1;try{return t(e)}finally{$n=n,$n===0&&(qm=Fi()+500,g_&&dh())}}function jd(t){jf!==null&&jf.tag===0&&!($n&6)&&km();var e=$n;$n|=1;var n=vl.transition,r=vr;try{if(vl.transition=null,vr=1,t)return t()}finally{vr=r,vl.transition=n,$n=e,!($n&6)&&dh()}}function PT(){Ts=bm.current,Kr(bm)}function wd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IW(n)),Yi!==null)for(n=Yi.return;n!==null;){var r=n;switch(lT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jx();break;case 3:Vm(),Kr(as),Kr(Mo),vT();break;case 5:gT(r);break;case 4:Vm();break;case 13:Kr(pi);break;case 19:Kr(pi);break;case 10:hT(r.type._context);break;case 22:case 23:PT()}n=n.return}if(Da=t,Yi=t=Zf(t.current,null),Za=Ts=e,da=0,k0=null,MT=b_=zd=0,ns=Qv=null,cd!==null){for(e=0;e<cd.length;e++)if(n=cd[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}cd=null}return t}function OF(t,e){do{var n=Yi;try{if(fT(),gx.current=Kx,Yx){for(var r=vi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yx=!1}if(Bd=0,ka=fa=vi=null,Zv=!1,O0=0,AT.current=null,n===null||n.return===null){da=1,k0=e,Yi=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Za,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=k4(o);if(d!==null){d.flags&=-257,D4(d,o,s,a,e),d.mode&1&&I4(a,u,e),e=d,l=u;var m=e.updateQueue;if(m===null){var x=new Set;x.add(l),e.updateQueue=x}else m.add(l);break e}else{if(!(e&1)){I4(a,u,e),CT();break e}l=Error(Tt(426))}}else if(ni&&s.mode&1){var y=k4(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),D4(y,o,s,a,e),uT($m(l,s));break e}}a=l=$m(l,s),da!==4&&(da=2),Qv===null?Qv=[a]:Qv.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=mF(a,l,e);P4(a,g);break e;case 1:s=l;var _=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yf===null||!Yf.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=gF(a,s,e);P4(a,S);break e}}a=a.return}while(a!==null)}kF(n)}catch(A){e=A,Yi===n&&n!==null&&(Yi=n=n.return);continue}break}while(!0)}function RF(){var t=Zx.current;return Zx.current=Kx,t===null?Kx:t}function CT(){(da===0||da===3||da===2)&&(da=4),Da===null||!(zd&268435455)&&!(b_&268435455)||Df(Da,Za)}function eb(t,e){var n=$n;$n|=2;var r=RF();(Da!==t||Za!==e)&&(dc=null,wd(t,e));do try{aG();break}catch(i){OF(t,i)}while(!0);if(fT(),$n=n,Zx.current=r,Yi!==null)throw Error(Tt(261));return Da=null,Za=0,da}function aG(){for(;Yi!==null;)IF(Yi)}function oG(){for(;Yi!==null&&!NH();)IF(Yi)}function IF(t){var e=FF(t.alternate,t,Ts);t.memoizedProps=t.pendingProps,e===null?kF(t):Yi=e,AT.current=null}function kF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QW(n,e),n!==null){n.flags&=32767,Yi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{da=6,Yi=null;return}}else if(n=JW(n,e,Ts),n!==null){Yi=n;return}if(e=e.sibling,e!==null){Yi=e;return}Yi=e=t}while(e!==null);da===0&&(da=5)}function Zh(t,e,n){var r=vr,i=vl.transition;try{vl.transition=null,vr=1,sG(t,e,n,r)}finally{vl.transition=i,vr=r}return null}function sG(t,e,n,r){do km();while(jf!==null);if($n&6)throw Error(Tt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Tt(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(jH(t,a),t===Da&&(Yi=Da=null,Za=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$1||($1=!0,UF(kx,function(){return km(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=vl.transition,vl.transition=null;var o=vr;vr=1;var s=$n;$n|=4,AT.current=null,tG(t,n),CF(n,t),TW(UA),Fx=!!FA,UA=FA=null,t.current=n,nG(n),OH(),$n=s,vr=o,vl.transition=a}else t.current=n;if($1&&($1=!1,jf=t,Qx=i),a=t.pendingLanes,a===0&&(Yf=null),kH(n.stateNode),ss(t,Fi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jx)throw Jx=!1,t=iM,iM=null,t;return Qx&1&&t.tag!==0&&km(),a=t.pendingLanes,a&1?t===aM?e0++:(e0=0,aM=t):e0=0,dh(),null}function km(){if(jf!==null){var t=m6(Qx),e=vl.transition,n=vr;try{if(vl.transition=null,vr=16>t?16:t,jf===null)var r=!1;else{if(t=jf,jf=null,Qx=0,$n&6)throw Error(Tt(331));var i=$n;for($n|=4,Wt=t.current;Wt!==null;){var a=Wt,o=a.child;if(Wt.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Wt=u;Wt!==null;){var c=Wt;switch(c.tag){case 0:case 11:case 15:Jv(8,c,a)}var f=c.child;if(f!==null)f.return=c,Wt=f;else for(;Wt!==null;){c=Wt;var h=c.sibling,d=c.return;if(EF(c),c===u){Wt=null;break}if(h!==null){h.return=d,Wt=h;break}Wt=d}}}var m=a.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Wt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Wt=o;else e:for(;Wt!==null;){if(a=Wt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jv(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Wt=g;break e}Wt=a.return}}var _=t.current;for(Wt=_;Wt!==null;){o=Wt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Wt=b;else e:for(o=_;Wt!==null;){if(s=Wt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:x_(9,s)}}catch(A){Ti(s,s.return,A)}if(s===o){Wt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Wt=S;break e}Wt=s.return}}if($n=i,dh(),Ou&&typeof Ou.onPostCommitFiberRoot=="function")try{Ou.onPostCommitFiberRoot(f_,t)}catch{}r=!0}return r}finally{vr=n,vl.transition=e}}return!1}function Y4(t,e,n){e=$m(n,e),e=mF(t,e,1),t=Xf(t,e,1),e=zo(),t!==null&&(Wy(t,1,e),ss(t,e))}function Ti(t,e,n){if(t.tag===3)Y4(t,t,n);else for(;e!==null;){if(e.tag===3){Y4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yf===null||!Yf.has(r))){t=$m(n,t),t=gF(e,t,1),e=Xf(e,t,1),t=zo(),e!==null&&(Wy(e,1,t),ss(e,t));break}}e=e.return}}function lG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zo(),t.pingedLanes|=t.suspendedLanes&n,Da===t&&(Za&n)===n&&(da===4||da===3&&(Za&130023424)===Za&&500>Fi()-ET?wd(t,0):MT|=n),ss(t,e)}function DF(t,e){e===0&&(t.mode&1?(e=D1,D1<<=1,!(D1&130023424)&&(D1=4194304)):e=1);var n=zo();t=Rc(t,e),t!==null&&(Wy(t,e,n),ss(t,n))}function uG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DF(t,n)}function cG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Tt(314))}r!==null&&r.delete(e),DF(t,n)}var FF;FF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||as.current)rs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rs=!1,ZW(t,e,n);rs=!!(t.flags&131072)}else rs=!1,ni&&e.flags&1048576&&j6(e,Gx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yx(t,e),t=e.pendingProps;var i=Hm(e,Mo.current);Im(e,n),i=xT(null,e,r,t,i,n);var a=bT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,os(r)?(a=!0,Hx(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pT(e),i.updater=y_,e.stateNode=i,i._reactInternals=e,qA(e,r,t,n),e=KA(null,e,r,!0,a,n)):(e.tag=0,ni&&a&&sT(e),Do(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yx(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hG(r),t=Gl(r,t),i){case 0:e=YA(null,e,r,t,n);break e;case 1:e=B4(null,e,r,t,n);break e;case 11:e=F4(null,e,r,t,n);break e;case 14:e=U4(null,e,r,Gl(r.type,t),n);break e}throw Error(Tt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gl(r,i),YA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gl(r,i),B4(t,e,r,i,n);case 3:e:{if(bF(e),t===null)throw Error(Tt(387));r=e.pendingProps,a=e.memoizedState,i=a.element,q6(t,e),qx(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=$m(Error(Tt(423)),e),e=z4(t,e,r,n,i);break e}else if(r!==i){i=$m(Error(Tt(424)),e),e=z4(t,e,r,n,i);break e}else for(Os=qf(e.stateNode.containerInfo.firstChild),Is=e,ni=!0,Kl=null,n=V6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wm(),r===i){e=Ic(t,e,n);break e}Do(t,e,r,n)}e=e.child}return e;case 5:return X6(e),t===null&&GA(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,BA(r,i)?o=null:a!==null&&BA(r,a)&&(e.flags|=32),xF(t,e),Do(t,e,o,n),e.child;case 6:return t===null&&GA(e),null;case 13:return _F(t,e,n);case 4:return mT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gm(e,null,r,n):Do(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gl(r,i),F4(t,e,r,i,n);case 7:return Do(t,e,e.pendingProps,n),e.child;case 8:return Do(t,e,e.pendingProps.children,n),e.child;case 12:return Do(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Br(Vx,r._currentValue),r._currentValue=o,a!==null)if(iu(a.value,o)){if(a.children===i.children&&!as.current){e=Ic(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Mc(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),VA(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Tt(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),VA(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Do(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Im(e,n),i=bl(i),r=r(i),e.flags|=1,Do(t,e,r,n),e.child;case 14:return r=e.type,i=Gl(r,e.pendingProps),i=Gl(r.type,i),U4(t,e,r,i,n);case 15:return vF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gl(r,i),yx(t,e),e.tag=1,os(r)?(t=!0,Hx(e)):t=!1,Im(e,n),pF(e,r,i),qA(e,r,i,n),KA(null,e,r,!0,t,n);case 19:return wF(t,e,n);case 22:return yF(t,e,n)}throw Error(Tt(156,e.tag))};function UF(t,e){return f6(t,e)}function fG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ml(t,e,n,r){return new fG(t,e,n,r)}function LT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hG(t){if(typeof t=="function")return LT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y3)return 11;if(t===K3)return 14}return 2}function Zf(t,e){var n=t.alternate;return n===null?(n=ml(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _x(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")LT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cm:return Sd(n.children,i,a,e);case X3:o=8,i|=8;break;case vA:return t=ml(12,n,e,i|2),t.elementType=vA,t.lanes=a,t;case yA:return t=ml(13,n,e,i),t.elementType=yA,t.lanes=a,t;case xA:return t=ml(19,n,e,i),t.elementType=xA,t.lanes=a,t;case XD:return __(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $D:o=10;break e;case qD:o=9;break e;case Y3:o=11;break e;case K3:o=14;break e;case Of:o=16,r=null;break e}throw Error(Tt(130,t==null?t:typeof t,""))}return e=ml(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Sd(t,e,n,r){return t=ml(7,t,r,e),t.lanes=n,t}function __(t,e,n,r){return t=ml(22,t,r,e),t.elementType=XD,t.lanes=n,t.stateNode={isHidden:!1},t}function OS(t,e,n){return t=ml(6,t,null,e),t.lanes=n,t}function RS(t,e,n){return e=ml(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dS(0),this.expirationTimes=dS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NT(t,e,n,r,i,a,o,s,l){return t=new dG(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ml(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pT(a),t}function pG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:um,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BF(t){if(!t)return oh;t=t._reactInternals;e:{if(Zd(t)!==t||t.tag!==1)throw Error(Tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(os(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Tt(171))}if(t.tag===1){var n=t.type;if(os(n))return B6(t,n,e)}return e}function zF(t,e,n,r,i,a,o,s,l){return t=NT(n,r,!0,t,i,a,o,s,l),t.context=BF(null),n=t.current,r=zo(),i=Kf(n),a=Mc(r,i),a.callback=e??null,Xf(n,a,i),t.current.lanes=i,Wy(t,i,r),ss(t,r),t}function w_(t,e,n,r){var i=e.current,a=zo(),o=Kf(i);return n=BF(n),e.context===null?e.context=n:e.pendingContext=n,e=Mc(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xf(i,e,o),t!==null&&(ru(t,i,o,a),mx(t,i,o)),o}function tb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function OT(t,e){K4(t,e),(t=t.alternate)&&K4(t,e)}function mG(){return null}var jF=typeof reportError=="function"?reportError:function(t){console.error(t)};function RT(t){this._internalRoot=t}S_.prototype.render=RT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Tt(409));w_(t,e,null,null)};S_.prototype.unmount=RT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jd(function(){w_(null,t,null,null)}),e[Oc]=null}};function S_(t){this._internalRoot=t}S_.prototype.unstable_scheduleHydration=function(t){if(t){var e=y6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kf.length&&e!==0&&e<kf[n].priority;n++);kf.splice(n,0,t),n===0&&b6(t)}};function IT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function A_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z4(){}function gG(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=tb(o);a.call(u)}}var o=zF(e,r,t,0,null,!1,!1,"",Z4);return t._reactRootContainer=o,t[Oc]=o.current,T0(t.nodeType===8?t.parentNode:t),jd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=tb(l);s.call(u)}}var l=NT(t,0,!1,null,null,!1,!1,"",Z4);return t._reactRootContainer=l,t[Oc]=l.current,T0(t.nodeType===8?t.parentNode:t),jd(function(){w_(e,l,n,r)}),l}function M_(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=tb(o);s.call(l)}}w_(e,o,t,i)}else o=gG(n,e,t,i,r);return tb(o)}g6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hv(e.pendingLanes);n!==0&&(Q3(e,n|1),ss(e,Fi()),!($n&6)&&(qm=Fi()+500,dh()))}break;case 13:jd(function(){var r=Rc(t,1);if(r!==null){var i=zo();ru(r,t,1,i)}}),OT(t,1)}};eT=function(t){if(t.tag===13){var e=Rc(t,134217728);if(e!==null){var n=zo();ru(e,t,134217728,n)}OT(t,134217728)}};v6=function(t){if(t.tag===13){var e=Kf(t),n=Rc(t,e);if(n!==null){var r=zo();ru(n,t,e,r)}OT(t,e)}};y6=function(){return vr};x6=function(t,e){var n=vr;try{return vr=t,e()}finally{vr=n}};CA=function(t,e,n){switch(e){case"input":if(wA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=m_(r);if(!i)throw Error(Tt(90));KD(r),wA(r,i)}}}break;case"textarea":JD(t,n);break;case"select":e=n.value,e!=null&&Lm(t,!!n.multiple,e,!1)}};a6=TT;o6=jd;var vG={usingClientEntryPoint:!1,Events:[Vy,pm,m_,r6,i6,TT]},dv={findFiberByHostInstance:ud,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yG={bundleType:dv.bundleType,version:dv.version,rendererPackageName:dv.rendererPackageName,rendererConfig:dv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u6(t),t===null?null:t.stateNode},findFiberByHostInstance:dv.findFiberByHostInstance||mG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q1.isDisabled&&q1.supportsFiber)try{f_=q1.inject(yG),Ou=q1}catch{}}Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vG;Bs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IT(e))throw Error(Tt(200));return pG(t,e,null,n)};Bs.createRoot=function(t,e){if(!IT(t))throw Error(Tt(299));var n=!1,r="",i=jF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=NT(t,1,!1,null,null,n,!1,r,i),t[Oc]=e.current,T0(t.nodeType===8?t.parentNode:t),new RT(e)};Bs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Tt(188)):(t=Object.keys(t).join(","),Error(Tt(268,t)));return t=u6(e),t=t===null?null:t.stateNode,t};Bs.flushSync=function(t){return jd(t)};Bs.hydrate=function(t,e,n){if(!A_(e))throw Error(Tt(200));return M_(null,t,e,!0,n)};Bs.hydrateRoot=function(t,e,n){if(!IT(t))throw Error(Tt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=jF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zF(e,null,t,1,n??null,i,!1,a,o),t[Oc]=e.current,T0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new S_(e)};Bs.render=function(t,e,n){if(!A_(e))throw Error(Tt(200));return M_(null,t,e,!1,n)};Bs.unmountComponentAtNode=function(t){if(!A_(t))throw Error(Tt(40));return t._reactRootContainer?(jd(function(){M_(null,null,t,!1,function(){t._reactRootContainer=null,t[Oc]=null})}),!0):!1};Bs.unstable_batchedUpdates=TT;Bs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!A_(n))throw Error(Tt(200));if(t==null||t._reactInternals===void 0)throw Error(Tt(38));return M_(t,e,n,!1,r)};Bs.version="18.3.1-next-f1338f8080-20240426";function HF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HF)}catch(t){console.error(t)}}HF(),HD.exports=Bs;var xG=HD.exports,WF,J4=xG;WF=J4.createRoot,J4.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),In=(t,e)=>{const n=je.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>je.createElement("svg",{ref:c,...bG,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${_G(t)}`,s].join(" "),...u},[...e.map(([f,h])=>je.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=In("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=In("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=In("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=In("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=In("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=In("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=In("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=In("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=In("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=In("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=In("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=In("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=In("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=In("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=In("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=In("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=In("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=In("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=In("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=In("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=In("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=In("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=In("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=In("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=In("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=In("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=In("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=In("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=In("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=In("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=In("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=In("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=In("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=In("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=In("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=In("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=In("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function JF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JF(t))&&(r&&(r+=" "),r+=e);return r}var $G=Array.isArray,ls=$G,qG=typeof ld=="object"&&ld&&ld.Object===Object&&ld,QF=qG,XG=QF,YG=typeof self=="object"&&self&&self.Object===Object&&self,KG=XG||YG||Function("return this")(),ju=KG,ZG=ju,JG=ZG.Symbol,qy=JG,nL=qy,e8=Object.prototype,QG=e8.hasOwnProperty,eV=e8.toString,pv=nL?nL.toStringTag:void 0;function tV(t){var e=QG.call(t,pv),n=t[pv];try{t[pv]=void 0;var r=!0}catch{}var i=eV.call(t);return r&&(e?t[pv]=n:delete t[pv]),i}var nV=tV,rV=Object.prototype,iV=rV.toString;function aV(t){return iV.call(t)}var oV=aV,rL=qy,sV=nV,lV=oV,uV="[object Null]",cV="[object Undefined]",iL=rL?rL.toStringTag:void 0;function fV(t){return t==null?t===void 0?cV:uV:iL&&iL in Object(t)?sV(t):lV(t)}var Wc=fV;function hV(t){return t!=null&&typeof t=="object"}var Gc=hV,dV=Wc,pV=Gc,mV="[object Symbol]";function gV(t){return typeof t=="symbol"||pV(t)&&dV(t)==mV}var Ag=gV,vV=ls,yV=Ag,xV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bV=/^\w*$/;function _V(t,e){if(vV(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||yV(t)?!0:bV.test(t)||!xV.test(t)||e!=null&&t in Object(e)}var kT=_V;function wV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ph=wV;const Mg=Ar(ph);var SV=Wc,AV=ph,MV="[object AsyncFunction]",EV="[object Function]",TV="[object GeneratorFunction]",PV="[object Proxy]";function CV(t){if(!AV(t))return!1;var e=SV(t);return e==EV||e==TV||e==MV||e==PV}var DT=CV;const Ln=Ar(DT);var LV=ju,NV=LV["__core-js_shared__"],OV=NV,IS=OV,aL=function(){var t=/[^.]+$/.exec(IS&&IS.keys&&IS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function RV(t){return!!aL&&aL in t}var IV=RV,kV=Function.prototype,DV=kV.toString;function FV(t){if(t!=null){try{return DV.call(t)}catch{}try{return t+""}catch{}}return""}var t8=FV,UV=DT,BV=IV,zV=ph,jV=t8,HV=/[\\^$.*+?()[\]{}|]/g,WV=/^\[object .+?Constructor\]$/,GV=Function.prototype,VV=Object.prototype,$V=GV.toString,qV=VV.hasOwnProperty,XV=RegExp("^"+$V.call(qV).replace(HV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YV(t){if(!zV(t)||BV(t))return!1;var e=UV(t)?XV:WV;return e.test(jV(t))}var KV=YV;function ZV(t,e){return t==null?void 0:t[e]}var JV=ZV,QV=KV,e$=JV;function t$(t,e){var n=e$(t,e);return QV(n)?n:void 0}var Jd=t$,n$=Jd,r$=n$(Object,"create"),T_=r$,oL=T_;function i$(){this.__data__=oL?oL(null):{},this.size=0}var a$=i$;function o$(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var s$=o$,l$=T_,u$="__lodash_hash_undefined__",c$=Object.prototype,f$=c$.hasOwnProperty;function h$(t){var e=this.__data__;if(l$){var n=e[t];return n===u$?void 0:n}return f$.call(e,t)?e[t]:void 0}var d$=h$,p$=T_,m$=Object.prototype,g$=m$.hasOwnProperty;function v$(t){var e=this.__data__;return p$?e[t]!==void 0:g$.call(e,t)}var y$=v$,x$=T_,b$="__lodash_hash_undefined__";function _$(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=x$&&e===void 0?b$:e,this}var w$=_$,S$=a$,A$=s$,M$=d$,E$=y$,T$=w$;function Eg(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eg.prototype.clear=S$;Eg.prototype.delete=A$;Eg.prototype.get=M$;Eg.prototype.has=E$;Eg.prototype.set=T$;var P$=Eg;function C$(){this.__data__=[],this.size=0}var L$=C$;function N$(t,e){return t===e||t!==t&&e!==e}var FT=N$,O$=FT;function R$(t,e){for(var n=t.length;n--;)if(O$(t[n][0],e))return n;return-1}var P_=R$,I$=P_,k$=Array.prototype,D$=k$.splice;function F$(t){var e=this.__data__,n=I$(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():D$.call(e,n,1),--this.size,!0}var U$=F$,B$=P_;function z$(t){var e=this.__data__,n=B$(e,t);return n<0?void 0:e[n][1]}var j$=z$,H$=P_;function W$(t){return H$(this.__data__,t)>-1}var G$=W$,V$=P_;function $$(t,e){var n=this.__data__,r=V$(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var q$=$$,X$=L$,Y$=U$,K$=j$,Z$=G$,J$=q$;function Tg(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tg.prototype.clear=X$;Tg.prototype.delete=Y$;Tg.prototype.get=K$;Tg.prototype.has=Z$;Tg.prototype.set=J$;var C_=Tg,Q$=Jd,eq=ju,tq=Q$(eq,"Map"),UT=tq,sL=P$,nq=C_,rq=UT;function iq(){this.size=0,this.__data__={hash:new sL,map:new(rq||nq),string:new sL}}var aq=iq;function oq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var sq=oq,lq=sq;function uq(t,e){var n=t.__data__;return lq(e)?n[typeof e=="string"?"string":"hash"]:n.map}var L_=uq,cq=L_;function fq(t){var e=cq(this,t).delete(t);return this.size-=e?1:0,e}var hq=fq,dq=L_;function pq(t){return dq(this,t).get(t)}var mq=pq,gq=L_;function vq(t){return gq(this,t).has(t)}var yq=vq,xq=L_;function bq(t,e){var n=xq(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var _q=bq,wq=aq,Sq=hq,Aq=mq,Mq=yq,Eq=_q;function Pg(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pg.prototype.clear=wq;Pg.prototype.delete=Sq;Pg.prototype.get=Aq;Pg.prototype.has=Mq;Pg.prototype.set=Eq;var BT=Pg,n8=BT,Tq="Expected a function";function zT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Tq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(zT.Cache||n8),n}zT.Cache=n8;var r8=zT;const Pq=Ar(r8);var Cq=r8,Lq=500;function Nq(t){var e=Cq(t,function(r){return n.size===Lq&&n.clear(),r}),n=e.cache;return e}var Oq=Nq,Rq=Oq,Iq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kq=/\\(\\)?/g,Dq=Rq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Iq,function(n,r,i,a){e.push(i?a.replace(kq,"$1"):r||n)}),e}),Fq=Dq;function Uq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var jT=Uq,lL=qy,Bq=jT,zq=ls,jq=Ag,Hq=1/0,uL=lL?lL.prototype:void 0,cL=uL?uL.toString:void 0;function i8(t){if(typeof t=="string")return t;if(zq(t))return Bq(t,i8)+"";if(jq(t))return cL?cL.call(t):"";var e=t+"";return e=="0"&&1/t==-Hq?"-0":e}var Wq=i8,Gq=Wq;function Vq(t){return t==null?"":Gq(t)}var a8=Vq,$q=ls,qq=kT,Xq=Fq,Yq=a8;function Kq(t,e){return $q(t)?t:qq(t,e)?[t]:Xq(Yq(t))}var o8=Kq,Zq=Ag,Jq=1/0;function Qq(t){if(typeof t=="string"||Zq(t))return t;var e=t+"";return e=="0"&&1/t==-Jq?"-0":e}var N_=Qq,eX=o8,tX=N_;function nX(t,e){e=eX(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tX(e[n++])];return n&&n==r?t:void 0}var HT=nX,rX=HT;function iX(t,e,n){var r=t==null?void 0:rX(t,e);return r===void 0?n:r}var s8=iX;const yl=Ar(s8);function aX(t){return t==null}var oX=aX;const Fn=Ar(oX);var sX=Wc,lX=ls,uX=Gc,cX="[object String]";function fX(t){return typeof t=="string"||!lX(t)&&uX(t)&&sX(t)==cX}var hX=fX;const Xy=Ar(hX);var l8={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=Symbol.for("react.element"),GT=Symbol.for("react.portal"),O_=Symbol.for("react.fragment"),R_=Symbol.for("react.strict_mode"),I_=Symbol.for("react.profiler"),k_=Symbol.for("react.provider"),D_=Symbol.for("react.context"),dX=Symbol.for("react.server_context"),F_=Symbol.for("react.forward_ref"),U_=Symbol.for("react.suspense"),B_=Symbol.for("react.suspense_list"),z_=Symbol.for("react.memo"),j_=Symbol.for("react.lazy"),pX=Symbol.for("react.offscreen"),u8;u8=Symbol.for("react.module.reference");function Sl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WT:switch(t=t.type,t){case O_:case I_:case R_:case U_:case B_:return t;default:switch(t=t&&t.$$typeof,t){case dX:case D_:case F_:case j_:case z_:case k_:return t;default:return e}}case GT:return e}}}yr.ContextConsumer=D_;yr.ContextProvider=k_;yr.Element=WT;yr.ForwardRef=F_;yr.Fragment=O_;yr.Lazy=j_;yr.Memo=z_;yr.Portal=GT;yr.Profiler=I_;yr.StrictMode=R_;yr.Suspense=U_;yr.SuspenseList=B_;yr.isAsyncMode=function(){return!1};yr.isConcurrentMode=function(){return!1};yr.isContextConsumer=function(t){return Sl(t)===D_};yr.isContextProvider=function(t){return Sl(t)===k_};yr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WT};yr.isForwardRef=function(t){return Sl(t)===F_};yr.isFragment=function(t){return Sl(t)===O_};yr.isLazy=function(t){return Sl(t)===j_};yr.isMemo=function(t){return Sl(t)===z_};yr.isPortal=function(t){return Sl(t)===GT};yr.isProfiler=function(t){return Sl(t)===I_};yr.isStrictMode=function(t){return Sl(t)===R_};yr.isSuspense=function(t){return Sl(t)===U_};yr.isSuspenseList=function(t){return Sl(t)===B_};yr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===O_||t===I_||t===R_||t===U_||t===B_||t===pX||typeof t=="object"&&t!==null&&(t.$$typeof===j_||t.$$typeof===z_||t.$$typeof===k_||t.$$typeof===D_||t.$$typeof===F_||t.$$typeof===u8||t.getModuleId!==void 0)};yr.typeOf=Sl;l8.exports=yr;var mX=l8.exports,gX=Wc,vX=Gc,yX="[object Number]";function xX(t){return typeof t=="number"||vX(t)&&gX(t)==yX}var c8=xX;const bX=Ar(c8);var _X=c8;function wX(t){return _X(t)&&t!=+t}var SX=wX;const Yy=Ar(SX);var tu=function(e){return e===0?0:e>0?1:-1},hd=function(e){return Xy(e)&&e.indexOf("%")===e.length-1},Dt=function(e){return bX(e)&&!Yy(e)},pa=function(e){return Dt(e)||Xy(e)},AX=0,Ky=function(e){var n=++AX;return"".concat(e||"").concat(n)},Hd=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Dt(e)&&!Xy(e))return r;var a;if(hd(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Yy(a)&&(a=r),i&&a>n&&(a=n),a},Ff=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},MX=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Zl=function(e,n){return Dt(e)&&Dt(n)?function(r){return e+r*(n-e)}:function(){return n}};function nb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):yl(r,e))===n})}function Dm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function uM(t){"@babel/helpers - typeof";return uM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uM(t)}var EX=["viewBox","children"],TX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fL=["points","pathLength"],kS={svg:EX,polygon:fL,polyline:fL},VT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(je.isValidElement(e)&&(r=e.props),!Mg(r))return null;var i={};return Object.keys(r).forEach(function(a){VT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},PX=function(e,n,r){return function(i){return e(n,r,i),null}},ib=function(e,n,r){if(!Mg(e)||uM(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];VT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=PX(o,n,r))}),i},CX=["children"],LX=["children"];function hL(t,e){if(t==null)return{};var n=NX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cM(t){"@babel/helpers - typeof";return cM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cM(t)}var dL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ec=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},pL=null,DS=null,$T=function t(e){if(e===pL&&Array.isArray(DS))return DS;var n=[];return je.Children.forEach(e,function(r){Fn(r)||(mX.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),DS=n,pL=e,n};function xl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ec(i)}):r=[Ec(e)],$T(t).forEach(function(i){var a=yl(i,"type.displayName")||yl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ps(t,e){var n=xl(t,e);return n&&n[0]}var mL=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Dt(r)||r<=0||!Dt(i)||i<=0)},OX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],RX=function(e){return e&&e.type&&Xy(e.type)&&OX.indexOf(e.type)>=0},IX=function(e){return e&&cM(e)==="object"&&"clipDot"in e},kX=function(e,n,r,i){var a,o=(a=kS==null?void 0:kS[i])!==null&&a!==void 0?a:[];return!Ln(e)&&(i&&o.includes(n)||TX.includes(n))||r&&VT.includes(n)},jn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(je.isValidElement(e)&&(i=e.props),!Mg(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;kX((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},fM=function t(e,n){if(e===n)return!0;var r=je.Children.count(e);if(r!==je.Children.count(n))return!1;if(r===0)return!0;if(r===1)return gL(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!gL(a,o))return!1}return!0},gL=function(e,n){if(Fn(e)&&Fn(n))return!0;if(!Fn(e)&&!Fn(n)){var r=e.props||{},i=r.children,a=hL(r,CX),o=n.props||{},s=o.children,l=hL(o,LX);return i&&s?Dm(a,l)&&fM(i,s):!i&&!s?Dm(a,l):!1}return!1},vL=function(e,n){var r=[],i={};return $T(e).forEach(function(a,o){if(RX(a))r.push(a);else if(a){var s=Ec(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},DX=function(e){var n=e&&e.type;return n&&dL[n]?dL[n]:null},FX=function(e,n){return $T(n).indexOf(e)},UX=["children","width","height","viewBox","className","style","title","desc"];function hM(){return hM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hM.apply(this,arguments)}function BX(t,e){if(t==null)return{};var n=zX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dM(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=BX(t,UX),c=i||{width:n,height:r,x:0,y:0},f=Qn("recharts-surface",a);return De.createElement("svg",hM({},jn(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),De.createElement("title",null,s),De.createElement("desc",null,l),e)}var jX=["children","className"];function pM(){return pM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pM.apply(this,arguments)}function HX(t,e){if(t==null)return{};var n=WX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Hi=De.forwardRef(function(t,e){var n=t.children,r=t.className,i=HX(t,jX),a=Qn("recharts-layer",r);return De.createElement("g",pM({className:a},jn(i,!0),{ref:e}),n)}),Tc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function GX(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var VX=GX,$X=VX;function qX(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:$X(t,e,n)}var XX=qX,YX="\\ud800-\\udfff",KX="\\u0300-\\u036f",ZX="\\ufe20-\\ufe2f",JX="\\u20d0-\\u20ff",QX=KX+ZX+JX,eY="\\ufe0e\\ufe0f",tY="\\u200d",nY=RegExp("["+tY+YX+QX+eY+"]");function rY(t){return nY.test(t)}var f8=rY;function iY(t){return t.split("")}var aY=iY,h8="\\ud800-\\udfff",oY="\\u0300-\\u036f",sY="\\ufe20-\\ufe2f",lY="\\u20d0-\\u20ff",uY=oY+sY+lY,cY="\\ufe0e\\ufe0f",fY="["+h8+"]",mM="["+uY+"]",gM="\\ud83c[\\udffb-\\udfff]",hY="(?:"+mM+"|"+gM+")",d8="[^"+h8+"]",p8="(?:\\ud83c[\\udde6-\\uddff]){2}",m8="[\\ud800-\\udbff][\\udc00-\\udfff]",dY="\\u200d",g8=hY+"?",v8="["+cY+"]?",pY="(?:"+dY+"(?:"+[d8,p8,m8].join("|")+")"+v8+g8+")*",mY=v8+g8+pY,gY="(?:"+[d8+mM+"?",mM,p8,m8,fY].join("|")+")",vY=RegExp(gM+"(?="+gM+")|"+gY+mY,"g");function yY(t){return t.match(vY)||[]}var xY=yY,bY=aY,_Y=f8,wY=xY;function SY(t){return _Y(t)?wY(t):bY(t)}var AY=SY,MY=XX,EY=f8,TY=AY,PY=a8;function CY(t){return function(e){e=PY(e);var n=EY(e)?TY(e):void 0,r=n?n[0]:e.charAt(0),i=n?MY(n,1).join(""):e.slice(1);return r[t]()+i}}var LY=CY,NY=LY,OY=NY("toUpperCase"),RY=OY;const H_=Ar(RY);function Fr(t){return function(){return t}}const y8=Math.cos,ab=Math.sin,su=Math.sqrt,ob=Math.PI,W_=2*ob,vM=Math.PI,yM=2*vM,Jh=1e-6,IY=yM-Jh;function x8(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return x8;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let DY=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?x8:kY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Jh)if(!(Math.abs(f*l-u*c)>Jh)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,m=i-s,x=l*l+u*u,y=d*d+m*m,g=Math.sqrt(x),_=Math.sqrt(h),b=a*Math.tan((vM-Math.acos((x+h-y)/(2*g*_)))/2),S=b/_,A=b/g;Math.abs(S-1)>Jh&&this._append`L${e+S*c},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*d>c*m)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Jh||Math.abs(this._y1-c)>Jh)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%yM+yM),h>IY?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Jh&&this._append`A${r},${r},0,${+(h>=vM)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function qT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new DY(e)}function XT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b8(t){this._context=t}b8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function G_(t){return new b8(t)}function _8(t){return t[0]}function w8(t){return t[1]}function S8(t,e){var n=Fr(!0),r=null,i=G_,a=null,o=qT(s);t=typeof t=="function"?t:t===void 0?_8:Fr(t),e=typeof e=="function"?e:e===void 0?w8:Fr(e);function s(l){var u,c=(l=XT(l)).length,f,h=!1,d;for(r==null&&(a=i(d=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(d)return a=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fr(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fr(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function X1(t,e,n){var r=null,i=Fr(!0),a=null,o=G_,s=null,l=qT(u);t=typeof t=="function"?t:t===void 0?_8:Fr(+t),e=typeof e=="function"?e:Fr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?w8:Fr(+n);function u(f){var h,d,m,x=(f=XT(f)).length,y,g=!1,_,b=new Array(x),S=new Array(x);for(a==null&&(s=o(_=l())),h=0;h<=x;++h){if(!(h<x&&i(y=f[h],h,f))===g)if(g=!g)d=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=d;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}g&&(b[h]=+t(y,h,f),S[h]=+e(y,h,f),s.point(r?+r(y,h,f):b[h],n?+n(y,h,f):S[h]))}if(_)return s=null,_+""||null}function c(){return S8().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Fr(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Fr(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fr(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Fr(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Fr(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fr(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Fr(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class A8{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function FY(t){return new A8(t,!0)}function UY(t){return new A8(t,!1)}const YT={draw(t,e){const n=su(e/ob);t.moveTo(n,0),t.arc(0,0,n,0,W_)}},BY={draw(t,e){const n=su(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},M8=su(1/3),zY=M8*2,jY={draw(t,e){const n=su(e/zY),r=n*M8;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},HY={draw(t,e){const n=su(e),r=-n/2;t.rect(r,r,n,n)}},WY=.8908130915292852,E8=ab(ob/10)/ab(7*ob/10),GY=ab(W_/10)*E8,VY=-y8(W_/10)*E8,$Y={draw(t,e){const n=su(e*WY),r=GY*n,i=VY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=W_*a/5,s=y8(o),l=ab(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},FS=su(3),qY={draw(t,e){const n=-su(e/(FS*3));t.moveTo(0,n*2),t.lineTo(-FS*n,-n),t.lineTo(FS*n,-n),t.closePath()}},ll=-.5,ul=su(3)/2,xM=1/su(12),XY=(xM/2+1)*3,YY={draw(t,e){const n=su(e/XY),r=n/2,i=n*xM,a=r,o=n*xM+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(ll*r-ul*i,ul*r+ll*i),t.lineTo(ll*a-ul*o,ul*a+ll*o),t.lineTo(ll*s-ul*l,ul*s+ll*l),t.lineTo(ll*r+ul*i,ll*i-ul*r),t.lineTo(ll*a+ul*o,ll*o-ul*a),t.lineTo(ll*s+ul*l,ll*l-ul*s),t.closePath()}};function KY(t,e){let n=null,r=qT(i);t=typeof t=="function"?t:Fr(t||YT),e=typeof e=="function"?e:Fr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Fr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Fr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function sb(){}function lb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T8(t){this._context=t}T8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZY(t){return new T8(t)}function P8(t){this._context=t}P8.prototype={areaStart:sb,areaEnd:sb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JY(t){return new P8(t)}function C8(t){this._context=t}C8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QY(t){return new C8(t)}function L8(t){this._context=t}L8.prototype={areaStart:sb,areaEnd:sb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function eK(t){return new L8(t)}function yL(t){return t<0?-1:1}function xL(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(yL(a)+yL(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function bL(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function US(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function ub(t){this._context=t}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:US(this,this._t0,bL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,US(this,bL(this,n=xL(this,t,e)),n);break;default:US(this,this._t0,n=xL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function N8(t){this._context=new O8(t)}(N8.prototype=Object.create(ub.prototype)).point=function(t,e){ub.prototype.point.call(this,e,t)};function O8(t){this._context=t}O8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function tK(t){return new ub(t)}function nK(t){return new N8(t)}function R8(t){this._context=t}R8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=_L(t),i=_L(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _L(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function rK(t){return new R8(t)}function V_(t,e){this._context=t,this._t=e}V_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function iK(t){return new V_(t,.5)}function aK(t){return new V_(t,0)}function oK(t){return new V_(t,1)}function Xm(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bM(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function sK(t,e){return t[e]}function lK(t){const e=[];return e.key=t,e}function uK(){var t=Fr([]),e=bM,n=Xm,r=sK;function i(a){var o=Array.from(t.apply(this,arguments),lK),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=XT(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Fr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Fr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?bM:typeof a=="function"?a:Fr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Xm,i):n},i}function cK(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Xm(t,e)}}function fK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Xm(t,e)}}function hK(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,d=(f-h)/2,m=0;m<s;++m){var x=t[e[m]],y=x[r][1]||0,g=x[r-1][1]||0;d+=y-g}l+=f,u+=d*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Xm(t,e)}}function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}var dK=["type","size","sizeType"];function _M(){return _M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_M.apply(this,arguments)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){pK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pK(t,e,n){return e=mK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mK(t){var e=gK(t,"string");return D0(e)=="symbol"?e:e+""}function gK(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vK(t,e){if(t==null)return{};var n=yK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var I8={symbolCircle:YT,symbolCross:BY,symbolDiamond:jY,symbolSquare:HY,symbolStar:$Y,symbolTriangle:qY,symbolWye:YY},xK=Math.PI/180,bK=function(e){var n="symbol".concat(H_(e));return I8[n]||YT},_K=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*xK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wK=function(e,n){I8["symbol".concat(H_(e))]=n},KT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=vK(e,dK),u=SL(SL({},l),{},{type:r,size:a,sizeType:s}),c=function(){var y=bK(r),g=KY().type(y).size(_K(a,s,r));return g()},f=u.className,h=u.cx,d=u.cy,m=jn(u,!0);return h===+h&&d===+d&&a===+a?De.createElement("path",_M({},m,{className:Qn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:c()})):null};KT.registerSymbol=wK;function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function wM(){return wM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wM.apply(this,arguments)}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D8(r.key),r)}}function EK(t,e,n){return e&&MK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TK(t,e,n){return e=cb(e),PK(t,k8()?Reflect.construct(e,n||[],cb(t).constructor):e.apply(t,n))}function PK(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CK(t)}function CK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k8=function(){return!!t})()}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cb(t)}function LK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SM(t,e)}function SM(t,e){return SM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SM(t,e)}function F0(t,e,n){return e=D8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8(t){var e=NK(t,"string");return Ym(e)=="symbol"?e:e+""}function NK(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cl=32,ZT=function(t){function e(){return AK(this,e),TK(this,e,arguments)}return LK(e,t),EK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=cl/2,o=cl/6,s=cl/3,l=r.inactive?i:r.color;if(r.type==="plainline")return De.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:cl,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return De.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(cl,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return De.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(cl/8,"h").concat(cl,"v").concat(cl*3/4,"h").concat(-cl,"z"),className:"recharts-legend-icon"});if(De.isValidElement(r.legendIcon)){var u=SK({},r);return delete u.legendIcon,De.cloneElement(r.legendIcon,u)}return De.createElement(KT,{fill:l,cx:a,cy:a,size:cl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:cl,height:cl},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(d,m){var x=d.formatter||l,y=Qn(F0(F0({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",d.inactive));if(d.type==="none")return null;var g=Ln(d.value)?null:d.value;Tc(!Ln(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=d.inactive?u:d.color;return De.createElement("li",wM({className:y,style:f,key:"legend-item-".concat(m)},ib(r.props,d,m)),De.createElement(dM,{width:o,height:o,viewBox:c,style:h},r.renderIcon(d)),De.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(g,d,m):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return De.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(je.PureComponent);F0(ZT,"displayName","Legend");F0(ZT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var OK=C_;function RK(){this.__data__=new OK,this.size=0}var IK=RK;function kK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var DK=kK;function FK(t){return this.__data__.get(t)}var UK=FK;function BK(t){return this.__data__.has(t)}var zK=BK,jK=C_,HK=UT,WK=BT,GK=200;function VK(t,e){var n=this.__data__;if(n instanceof jK){var r=n.__data__;if(!HK||r.length<GK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new WK(r)}return n.set(t,e),this.size=n.size,this}var $K=VK,qK=C_,XK=IK,YK=DK,KK=UK,ZK=zK,JK=$K;function Cg(t){var e=this.__data__=new qK(t);this.size=e.size}Cg.prototype.clear=XK;Cg.prototype.delete=YK;Cg.prototype.get=KK;Cg.prototype.has=ZK;Cg.prototype.set=JK;var F8=Cg,QK="__lodash_hash_undefined__";function eZ(t){return this.__data__.set(t,QK),this}var tZ=eZ;function nZ(t){return this.__data__.has(t)}var rZ=nZ,iZ=BT,aZ=tZ,oZ=rZ;function fb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new iZ;++e<n;)this.add(t[e])}fb.prototype.add=fb.prototype.push=aZ;fb.prototype.has=oZ;var U8=fb;function sZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var B8=sZ;function lZ(t,e){return t.has(e)}var z8=lZ,uZ=U8,cZ=B8,fZ=z8,hZ=1,dZ=2;function pZ(t,e,n,r,i,a){var o=n&hZ,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,d=n&dZ?new uZ:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var m=t[f],x=e[f];if(r)var y=o?r(x,m,f,e,t,a):r(m,x,f,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!cZ(e,function(g,_){if(!fZ(d,_)&&(m===g||i(m,g,n,r,a)))return d.push(_)})){h=!1;break}}else if(!(m===x||i(m,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var j8=pZ,mZ=ju,gZ=mZ.Uint8Array,vZ=gZ;function yZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var xZ=yZ;function bZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var JT=bZ,ML=qy,EL=vZ,_Z=FT,wZ=j8,SZ=xZ,AZ=JT,MZ=1,EZ=2,TZ="[object Boolean]",PZ="[object Date]",CZ="[object Error]",LZ="[object Map]",NZ="[object Number]",OZ="[object RegExp]",RZ="[object Set]",IZ="[object String]",kZ="[object Symbol]",DZ="[object ArrayBuffer]",FZ="[object DataView]",TL=ML?ML.prototype:void 0,BS=TL?TL.valueOf:void 0;function UZ(t,e,n,r,i,a,o){switch(n){case FZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case DZ:return!(t.byteLength!=e.byteLength||!a(new EL(t),new EL(e)));case TZ:case PZ:case NZ:return _Z(+t,+e);case CZ:return t.name==e.name&&t.message==e.message;case OZ:case IZ:return t==e+"";case LZ:var s=SZ;case RZ:var l=r&MZ;if(s||(s=AZ),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=EZ,o.set(t,e);var c=wZ(s(t),s(e),r,i,a,o);return o.delete(t),c;case kZ:if(BS)return BS.call(t)==BS.call(e)}return!1}var BZ=UZ;function zZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var H8=zZ,jZ=H8,HZ=ls;function WZ(t,e,n){var r=e(t);return HZ(t)?r:jZ(r,n(t))}var GZ=WZ;function VZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var $Z=VZ;function qZ(){return[]}var XZ=qZ,YZ=$Z,KZ=XZ,ZZ=Object.prototype,JZ=ZZ.propertyIsEnumerable,PL=Object.getOwnPropertySymbols,QZ=PL?function(t){return t==null?[]:(t=Object(t),YZ(PL(t),function(e){return JZ.call(t,e)}))}:KZ,eJ=QZ;function tJ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var nJ=tJ,rJ=Wc,iJ=Gc,aJ="[object Arguments]";function oJ(t){return iJ(t)&&rJ(t)==aJ}var sJ=oJ,CL=sJ,lJ=Gc,W8=Object.prototype,uJ=W8.hasOwnProperty,cJ=W8.propertyIsEnumerable,fJ=CL(function(){return arguments}())?CL:function(t){return lJ(t)&&uJ.call(t,"callee")&&!cJ.call(t,"callee")},QT=fJ,hb={exports:{}};function hJ(){return!1}var dJ=hJ;hb.exports;(function(t,e){var n=ju,r=dJ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(hb,hb.exports);var G8=hb.exports,pJ=9007199254740991,mJ=/^(?:0|[1-9]\d*)$/;function gJ(t,e){var n=typeof t;return e=e??pJ,!!e&&(n=="number"||n!="symbol"&&mJ.test(t))&&t>-1&&t%1==0&&t<e}var eP=gJ,vJ=9007199254740991;function yJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vJ}var tP=yJ,xJ=Wc,bJ=tP,_J=Gc,wJ="[object Arguments]",SJ="[object Array]",AJ="[object Boolean]",MJ="[object Date]",EJ="[object Error]",TJ="[object Function]",PJ="[object Map]",CJ="[object Number]",LJ="[object Object]",NJ="[object RegExp]",OJ="[object Set]",RJ="[object String]",IJ="[object WeakMap]",kJ="[object ArrayBuffer]",DJ="[object DataView]",FJ="[object Float32Array]",UJ="[object Float64Array]",BJ="[object Int8Array]",zJ="[object Int16Array]",jJ="[object Int32Array]",HJ="[object Uint8Array]",WJ="[object Uint8ClampedArray]",GJ="[object Uint16Array]",VJ="[object Uint32Array]",$r={};$r[FJ]=$r[UJ]=$r[BJ]=$r[zJ]=$r[jJ]=$r[HJ]=$r[WJ]=$r[GJ]=$r[VJ]=!0;$r[wJ]=$r[SJ]=$r[kJ]=$r[AJ]=$r[DJ]=$r[MJ]=$r[EJ]=$r[TJ]=$r[PJ]=$r[CJ]=$r[LJ]=$r[NJ]=$r[OJ]=$r[RJ]=$r[IJ]=!1;function $J(t){return _J(t)&&bJ(t.length)&&!!$r[xJ(t)]}var qJ=$J;function XJ(t){return function(e){return t(e)}}var V8=XJ,db={exports:{}};db.exports;(function(t,e){var n=QF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(db,db.exports);var YJ=db.exports,KJ=qJ,ZJ=V8,LL=YJ,NL=LL&&LL.isTypedArray,JJ=NL?ZJ(NL):KJ,$8=JJ,QJ=nJ,eQ=QT,tQ=ls,nQ=G8,rQ=eP,iQ=$8,aQ=Object.prototype,oQ=aQ.hasOwnProperty;function sQ(t,e){var n=tQ(t),r=!n&&eQ(t),i=!n&&!r&&nQ(t),a=!n&&!r&&!i&&iQ(t),o=n||r||i||a,s=o?QJ(t.length,String):[],l=s.length;for(var u in t)(e||oQ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rQ(u,l)))&&s.push(u);return s}var lQ=sQ,uQ=Object.prototype;function cQ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||uQ;return t===n}var fQ=cQ;function hQ(t,e){return function(n){return t(e(n))}}var q8=hQ,dQ=q8,pQ=dQ(Object.keys,Object),mQ=pQ,gQ=fQ,vQ=mQ,yQ=Object.prototype,xQ=yQ.hasOwnProperty;function bQ(t){if(!gQ(t))return vQ(t);var e=[];for(var n in Object(t))xQ.call(t,n)&&n!="constructor"&&e.push(n);return e}var _Q=bQ,wQ=DT,SQ=tP;function AQ(t){return t!=null&&SQ(t.length)&&!wQ(t)}var Zy=AQ,MQ=lQ,EQ=_Q,TQ=Zy;function PQ(t){return TQ(t)?MQ(t):EQ(t)}var $_=PQ,CQ=GZ,LQ=eJ,NQ=$_;function OQ(t){return CQ(t,NQ,LQ)}var RQ=OQ,OL=RQ,IQ=1,kQ=Object.prototype,DQ=kQ.hasOwnProperty;function FQ(t,e,n,r,i,a){var o=n&IQ,s=OL(t),l=s.length,u=OL(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:DQ.call(e,h)))return!1}var d=a.get(t),m=a.get(e);if(d&&m)return d==e&&m==t;var x=!0;a.set(t,e),a.set(e,t);for(var y=o;++f<l;){h=s[f];var g=t[h],_=e[h];if(r)var b=o?r(_,g,h,e,t,a):r(g,_,h,t,e,a);if(!(b===void 0?g===_||i(g,_,n,r,a):b)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var S=t.constructor,A=e.constructor;S!=A&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof A=="function"&&A instanceof A)&&(x=!1)}return a.delete(t),a.delete(e),x}var UQ=FQ,BQ=Jd,zQ=ju,jQ=BQ(zQ,"DataView"),HQ=jQ,WQ=Jd,GQ=ju,VQ=WQ(GQ,"Promise"),$Q=VQ,qQ=Jd,XQ=ju,YQ=qQ(XQ,"Set"),X8=YQ,KQ=Jd,ZQ=ju,JQ=KQ(ZQ,"WeakMap"),QQ=JQ,AM=HQ,MM=UT,EM=$Q,TM=X8,PM=QQ,Y8=Wc,Lg=t8,RL="[object Map]",eee="[object Object]",IL="[object Promise]",kL="[object Set]",DL="[object WeakMap]",FL="[object DataView]",tee=Lg(AM),nee=Lg(MM),ree=Lg(EM),iee=Lg(TM),aee=Lg(PM),Qh=Y8;(AM&&Qh(new AM(new ArrayBuffer(1)))!=FL||MM&&Qh(new MM)!=RL||EM&&Qh(EM.resolve())!=IL||TM&&Qh(new TM)!=kL||PM&&Qh(new PM)!=DL)&&(Qh=function(t){var e=Y8(t),n=e==eee?t.constructor:void 0,r=n?Lg(n):"";if(r)switch(r){case tee:return FL;case nee:return RL;case ree:return IL;case iee:return kL;case aee:return DL}return e});var oee=Qh,zS=F8,see=j8,lee=BZ,uee=UQ,UL=oee,BL=ls,zL=G8,cee=$8,fee=1,jL="[object Arguments]",HL="[object Array]",Y1="[object Object]",hee=Object.prototype,WL=hee.hasOwnProperty;function dee(t,e,n,r,i,a){var o=BL(t),s=BL(e),l=o?HL:UL(t),u=s?HL:UL(e);l=l==jL?Y1:l,u=u==jL?Y1:u;var c=l==Y1,f=u==Y1,h=l==u;if(h&&zL(t)){if(!zL(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new zS),o||cee(t)?see(t,e,n,r,i,a):lee(t,e,l,n,r,i,a);if(!(n&fee)){var d=c&&WL.call(t,"__wrapped__"),m=f&&WL.call(e,"__wrapped__");if(d||m){var x=d?t.value():t,y=m?e.value():e;return a||(a=new zS),i(x,y,n,r,a)}}return h?(a||(a=new zS),uee(t,e,n,r,i,a)):!1}var pee=dee,mee=pee,GL=Gc;function K8(t,e,n,r,i){return t===e?!0:t==null||e==null||!GL(t)&&!GL(e)?t!==t&&e!==e:mee(t,e,n,r,K8,i)}var nP=K8,gee=F8,vee=nP,yee=1,xee=2;function bee(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new gee;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?vee(c,u,yee|xee,r,f):h))return!1}}return!0}var _ee=bee,wee=ph;function See(t){return t===t&&!wee(t)}var Z8=See,Aee=Z8,Mee=$_;function Eee(t){for(var e=Mee(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Aee(i)]}return e}var Tee=Eee;function Pee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var J8=Pee,Cee=_ee,Lee=Tee,Nee=J8;function Oee(t){var e=Lee(t);return e.length==1&&e[0][2]?Nee(e[0][0],e[0][1]):function(n){return n===t||Cee(n,t,e)}}var Ree=Oee;function Iee(t,e){return t!=null&&e in Object(t)}var kee=Iee,Dee=o8,Fee=QT,Uee=ls,Bee=eP,zee=tP,jee=N_;function Hee(t,e,n){e=Dee(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=jee(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&zee(i)&&Bee(o,i)&&(Uee(t)||Fee(t)))}var Wee=Hee,Gee=kee,Vee=Wee;function $ee(t,e){return t!=null&&Vee(t,e,Gee)}var qee=$ee,Xee=nP,Yee=s8,Kee=qee,Zee=kT,Jee=Z8,Qee=J8,ete=N_,tte=1,nte=2;function rte(t,e){return Zee(t)&&Jee(e)?Qee(ete(t),e):function(n){var r=Yee(n,t);return r===void 0&&r===e?Kee(n,t):Xee(e,r,tte|nte)}}var ite=rte;function ate(t){return t}var Ng=ate;function ote(t){return function(e){return e==null?void 0:e[t]}}var ste=ote,lte=HT;function ute(t){return function(e){return lte(e,t)}}var cte=ute,fte=ste,hte=cte,dte=kT,pte=N_;function mte(t){return dte(t)?fte(pte(t)):hte(t)}var gte=mte,vte=Ree,yte=ite,xte=Ng,bte=ls,_te=gte;function wte(t){return typeof t=="function"?t:t==null?xte:typeof t=="object"?bte(t)?yte(t[0],t[1]):vte(t):_te(t)}var mh=wte;function Ste(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Q8=Ste;function Ate(t){return t!==t}var Mte=Ate;function Ete(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Tte=Ete,Pte=Q8,Cte=Mte,Lte=Tte;function Nte(t,e,n){return e===e?Lte(t,e,n):Pte(t,Cte,n)}var Ote=Nte,Rte=Ote;function Ite(t,e){var n=t==null?0:t.length;return!!n&&Rte(t,e,0)>-1}var kte=Ite;function Dte(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Fte=Dte;function Ute(){}var Bte=Ute,jS=X8,zte=Bte,jte=JT,Hte=1/0,Wte=jS&&1/jte(new jS([,-0]))[1]==Hte?function(t){return new jS(t)}:zte,Gte=Wte,Vte=U8,$te=kte,qte=Fte,Xte=z8,Yte=Gte,Kte=JT,Zte=200;function Jte(t,e,n){var r=-1,i=$te,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=qte;else if(a>=Zte){var u=e?null:Yte(t);if(u)return Kte(u);o=!1,i=Xte,l=new Vte}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Qte=Jte,ene=mh,tne=Qte;function nne(t,e){return t&&t.length?tne(t,ene(e)):[]}var rne=nne;const VL=Ar(rne);function eU(t,e,n){return e===!0?VL(t,n):Ln(e)?VL(t,e):t}function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}var ine=["ref"];function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nU(r.key),r)}}function one(t,e,n){return e&&qL(t.prototype,e),n&&qL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sne(t,e,n){return e=pb(e),lne(t,tU()?Reflect.construct(e,n||[],pb(t).constructor):e.apply(t,n))}function lne(t,e){if(e&&(Km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return une(t)}function une(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tU=function(){return!!t})()}function pb(t){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pb(t)}function cne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CM(t,e)}function CM(t,e){return CM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CM(t,e)}function q_(t,e,n){return e=nU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nU(t){var e=fne(t,"string");return Km(e)=="symbol"?e:e+""}function fne(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hne(t,e){if(t==null)return{};var n=dne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pne(t){return t.value}function mne(t,e){if(De.isValidElement(t))return De.cloneElement(t,e);if(typeof t=="function")return De.createElement(t,e);e.ref;var n=hne(e,ine);return De.createElement(ZT,n)}var XL=1,Ad=function(t){function e(){var n;ane(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=sne(this,e,[].concat(i)),q_(n,"lastBoundingBox",{width:-1,height:-1}),n}return cne(e,t),one(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>XL||Math.abs(i.height-this.lastBoundingBox.height)>XL)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ic({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var d=this.getBBoxSnapshot();f={left:((u||0)-d.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((c||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ic(ic({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ic(ic({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return De.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){r.wrapperNode=d}},mne(a,ic(ic({},this.props),{},{payload:eU(c,u,pne)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ic(ic({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Dt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(je.PureComponent);q_(Ad,"displayName","Legend");q_(Ad,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var YL=qy,gne=QT,vne=ls,KL=YL?YL.isConcatSpreadable:void 0;function yne(t){return vne(t)||gne(t)||!!(KL&&t&&t[KL])}var xne=yne,bne=H8,_ne=xne;function rU(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=_ne),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?rU(s,e-1,n,r,i):bne(i,s):r||(i[i.length]=s)}return i}var iU=rU;function wne(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Sne=wne,Ane=Sne,Mne=Ane(),Ene=Mne,Tne=Ene,Pne=$_;function Cne(t,e){return t&&Tne(t,e,Pne)}var aU=Cne,Lne=Zy;function Nne(t,e){return function(n,r){if(n==null)return n;if(!Lne(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var One=Nne,Rne=aU,Ine=One,kne=Ine(Rne),rP=kne,Dne=rP,Fne=Zy;function Une(t,e){var n=-1,r=Fne(t)?Array(t.length):[];return Dne(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var oU=Une;function Bne(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var zne=Bne,ZL=Ag;function jne(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=ZL(t),o=e!==void 0,s=e===null,l=e===e,u=ZL(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Hne=jne,Wne=Hne;function Gne(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Wne(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Vne=Gne,HS=jT,$ne=HT,qne=mh,Xne=oU,Yne=zne,Kne=V8,Zne=Vne,Jne=Ng,Qne=ls;function ere(t,e,n){e.length?e=HS(e,function(a){return Qne(a)?function(o){return $ne(o,a.length===1?a[0]:a)}:a}):e=[Jne];var r=-1;e=HS(e,Kne(qne));var i=Xne(t,function(a,o,s){var l=HS(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Yne(i,function(a,o){return Zne(a,o,n)})}var tre=ere;function nre(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var rre=nre,ire=rre,JL=Math.max;function are(t,e,n){return e=JL(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=JL(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),ire(t,this,s)}}var ore=are;function sre(t){return function(){return t}}var lre=sre,ure=Jd,cre=function(){try{var t=ure(Object,"defineProperty");return t({},"",{}),t}catch{}}(),sU=cre,fre=lre,QL=sU,hre=Ng,dre=QL?function(t,e){return QL(t,"toString",{configurable:!0,enumerable:!1,value:fre(e),writable:!0})}:hre,pre=dre,mre=800,gre=16,vre=Date.now;function yre(t){var e=0,n=0;return function(){var r=vre(),i=gre-(r-n);if(n=r,i>0){if(++e>=mre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xre=yre,bre=pre,_re=xre,wre=_re(bre),Sre=wre,Are=Ng,Mre=ore,Ere=Sre;function Tre(t,e){return Ere(Mre(t,e,Are),t+"")}var Pre=Tre,Cre=FT,Lre=Zy,Nre=eP,Ore=ph;function Rre(t,e,n){if(!Ore(n))return!1;var r=typeof e;return(r=="number"?Lre(n)&&Nre(e,n.length):r=="string"&&e in n)?Cre(n[e],t):!1}var X_=Rre,Ire=iU,kre=tre,Dre=Pre,eN=X_,Fre=Dre(function(t,e){if(t==null)return[];var n=e.length;return n>1&&eN(t,e[0],e[1])?e=[]:n>2&&eN(e[0],e[1],e[2])&&(e=[e[0]]),kre(t,Ire(e,1),[])}),Ure=Fre;const iP=Ar(Ure);function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function LM(){return LM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LM.apply(this,arguments)}function Bre(t,e){return Wre(t)||Hre(t,e)||jre(t,e)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jre(t,e){if(t){if(typeof t=="string")return tN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tN(t,e)}}function tN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Wre(t){if(Array.isArray(t))return t}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return e=Vre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=$re(t,"string");return U0(e)=="symbol"?e:e+""}function $re(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qre(t){return Array.isArray(t)&&pa(t[0])&&pa(t[1])?t.join(" ~ "):t}var Xre=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,d=e.wrapperClassName,m=e.labelClassName,x=e.label,y=e.labelFormatter,g=e.accessibilityLayer,_=g===void 0?!1:g,b=function(){if(c&&c.length){var O={padding:0,margin:0},j=(h?iP(c,h):c).map(function(F,Z){if(F.type==="none")return null;var H=WS({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),q=F.formatter||f||qre,B=F.value,z=F.name,$=B,X=z;if(q&&$!=null&&X!=null){var k=q(B,z,F,Z,c);if(Array.isArray(k)){var V=Bre(k,2);$=V[0],X=V[1]}else $=k}return De.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:H},pa(X)?De.createElement("span",{className:"recharts-tooltip-item-name"},X):null,pa(X)?De.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,De.createElement("span",{className:"recharts-tooltip-item-value"},$),De.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return De.createElement("ul",{className:"recharts-tooltip-item-list",style:O},j)}return null},S=WS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=WS({margin:0},u),E=!Fn(x),M=E?x:"",P=Qn("recharts-default-tooltip",d),D=Qn("recharts-tooltip-label",m);E&&y&&c!==void 0&&c!==null&&(M=y(x,c));var N=_?{role:"status","aria-live":"assertive"}:{};return De.createElement("div",LM({className:P,style:S},N),De.createElement("p",{className:D,style:A},De.isValidElement(M)?M:"".concat(M)),b())};function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function K1(t,e,n){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Kre(t,"string");return B0(e)=="symbol"?e:e+""}function Kre(t,e){if(B0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mv="recharts-tooltip-wrapper",Zre={visibility:"hidden"};function Jre(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Qn(mv,K1(K1(K1(K1({},"".concat(mv,"-right"),Dt(n)&&e&&Dt(e.x)&&n>=e.x),"".concat(mv,"-left"),Dt(n)&&e&&Dt(e.x)&&n<e.x),"".concat(mv,"-bottom"),Dt(r)&&e&&Dt(e.y)&&r>=e.y),"".concat(mv,"-top"),Dt(r)&&e&&Dt(e.y)&&r<e.y))}function rN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Dt(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,d=l[r];return h<d?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,x=l[r]+u;return m>x?Math.max(c,l[r]):Math.max(f,l[r])}function Qre(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function eie(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=rN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=rN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Qre({translateX:c,translateY:f,useTranslate3d:s})):u=Zre,{cssProperties:u,cssClasses:Jre({translateX:c,translateY:f,coordinate:n})}}function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){OM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uU(r.key),r)}}function rie(t,e,n){return e&&nie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iie(t,e,n){return e=mb(e),aie(t,lU()?Reflect.construct(e,n||[],mb(t).constructor):e.apply(t,n))}function aie(t,e){if(e&&(Zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oie(t)}function oie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!t})()}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mb(t)}function sie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NM(t,e)}function NM(t,e){return NM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NM(t,e)}function OM(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=lie(t,"string");return Zm(e)=="symbol"?e:e+""}function lie(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oN=1,uie=function(t){function e(){var n;tie(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=iie(this,e,[].concat(i)),OM(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),OM(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return sie(e,t),rie(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>oN||Math.abs(r.height-this.state.lastBoundingBox.height)>oN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,d=i.offset,m=i.position,x=i.reverseDirection,y=i.useTranslate3d,g=i.viewBox,_=i.wrapperStyle,b=eie({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:d,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:g}),S=b.cssClasses,A=b.cssProperties,E=aN(aN({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return De.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(P){r.wrapperNode=P}},u)}}])}(je.PureComponent),cie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pc={isSsr:cie(),get:function(e){return Pc[e]},set:function(e,n){if(typeof e=="string")Pc[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Pc[i]=e[i]})}}};function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){aP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fU(r.key),r)}}function die(t,e,n){return e&&hie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pie(t,e,n){return e=gb(e),mie(t,cU()?Reflect.construct(e,n||[],gb(t).constructor):e.apply(t,n))}function mie(t,e){if(e&&(Jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gie(t)}function gie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cU=function(){return!!t})()}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gb(t)}function vie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RM(t,e)}function RM(t,e){return RM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RM(t,e)}function aP(t,e,n){return e=fU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fU(t){var e=yie(t,"string");return Jm(e)=="symbol"?e:e+""}function yie(t,e){if(Jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t){return t.dataKey}function bie(t,e){return De.isValidElement(t)?De.cloneElement(t,e):typeof t=="function"?De.createElement(t,e):De.createElement(Xre,e)}var Eu=function(t){function e(){return fie(this,e),pie(this,e,arguments)}return vie(e,t),die(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,d=i.offset,m=i.payload,x=i.payloadUniqBy,y=i.position,g=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,A=m??[];f&&A.length&&(A=eU(m.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),x,xie));var E=A.length>0;return De.createElement(uie,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:E,offset:d,position:y,reverseDirection:g,useTranslate3d:_,viewBox:b,wrapperStyle:S},bie(u,lN(lN({},this.props),{},{payload:A})))}}])}(je.PureComponent);aP(Eu,"displayName","Tooltip");aP(Eu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _ie=ju,wie=function(){return _ie.Date.now()},Sie=wie,Aie=/\s/;function Mie(t){for(var e=t.length;e--&&Aie.test(t.charAt(e)););return e}var Eie=Mie,Tie=Eie,Pie=/^\s+/;function Cie(t){return t&&t.slice(0,Tie(t)+1).replace(Pie,"")}var Lie=Cie,Nie=Lie,uN=ph,Oie=Ag,cN=NaN,Rie=/^[-+]0x[0-9a-f]+$/i,Iie=/^0b[01]+$/i,kie=/^0o[0-7]+$/i,Die=parseInt;function Fie(t){if(typeof t=="number")return t;if(Oie(t))return cN;if(uN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=uN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Nie(t);var n=Iie.test(t);return n||kie.test(t)?Die(t.slice(2),n?2:8):Rie.test(t)?cN:+t}var hU=Fie,Uie=ph,GS=Sie,fN=hU,Bie="Expected a function",zie=Math.max,jie=Math.min;function Hie(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Bie);e=fN(e)||0,Uie(n)&&(c=!!n.leading,f="maxWait"in n,a=f?zie(fN(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function d(E){var M=r,P=i;return r=i=void 0,u=E,o=t.apply(P,M),o}function m(E){return u=E,s=setTimeout(g,e),c?d(E):o}function x(E){var M=E-l,P=E-u,D=e-M;return f?jie(D,a-P):D}function y(E){var M=E-l,P=E-u;return l===void 0||M>=e||M<0||f&&P>=a}function g(){var E=GS();if(y(E))return _(E);s=setTimeout(g,x(E))}function _(E){return s=void 0,h&&r?d(E):(r=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function S(){return s===void 0?o:_(GS())}function A(){var E=GS(),M=y(E);if(r=arguments,i=this,l=E,M){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(g,e),d(l)}return s===void 0&&(s=setTimeout(g,e)),o}return A.cancel=b,A.flush=S,A}var Wie=Hie,Gie=Wie,Vie=ph,$ie="Expected a function";function qie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError($ie);return Vie(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Gie(t,e,{leading:r,maxWait:e,trailing:i})}var Xie=qie;const dU=Ar(Xie);function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){Yie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yie(t,e,n){return e=Kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Zie(t,"string");return z0(e)=="symbol"?e:e+""}function Zie(t,e){if(z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jie(t,e){return nae(t)||tae(t,e)||eae(t,e)||Qie()}function Qie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eae(t,e){if(t){if(typeof t=="string")return dN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(t,e)}}function dN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function nae(t){if(Array.isArray(t))return t}var rae=je.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,d=t.children,m=t.debounce,x=m===void 0?0:m,y=t.id,g=t.className,_=t.onResize,b=t.style,S=b===void 0?{}:b,A=je.useRef(null),E=je.useRef();E.current=_,je.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var M=je.useState({containerWidth:i.width,containerHeight:i.height}),P=Jie(M,2),D=P[0],N=P[1],C=je.useCallback(function(j,F){N(function(Z){var H=Math.round(j),q=Math.round(F);return Z.containerWidth===H&&Z.containerHeight===q?Z:{containerWidth:H,containerHeight:q}})},[]);je.useEffect(function(){var j=function(z){var $,X=z[0].contentRect,k=X.width,V=X.height;C(k,V),($=E.current)===null||$===void 0||$.call(E,k,V)};x>0&&(j=dU(j,x,{trailing:!0,leading:!1}));var F=new ResizeObserver(j),Z=A.current.getBoundingClientRect(),H=Z.width,q=Z.height;return C(H,q),F.observe(A.current),function(){F.disconnect()}},[C,x]);var O=je.useMemo(function(){var j=D.containerWidth,F=D.containerHeight;if(j<0||F<0)return null;Tc(hd(o)||hd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Tc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Z=hd(o)?j:o,H=hd(l)?F:l;n&&n>0&&(Z?H=Z/n:H&&(Z=H*n),h&&H>h&&(H=h)),Tc(Z>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,H,o,l,c,f,n);var q=!Array.isArray(d)&&Ec(d.type).endsWith("Chart");return De.Children.map(d,function(B){return De.isValidElement(B)?je.cloneElement(B,Z1({width:Z,height:H},q?{style:Z1({height:"100%",width:"100%",maxHeight:H,maxWidth:Z},B.props.style)}:{})):B})},[n,d,l,h,f,c,D,o]);return De.createElement("div",{id:y?"".concat(y):void 0,className:Qn("recharts-responsive-container",g),style:Z1(Z1({},S),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:A},O)}),pU=function(e){return null};pU.displayName="Cell";function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return e=aae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aae(t){var e=oae(t,"string");return j0(e)=="symbol"?e:e+""}function oae(t,e){if(j0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pp={widthCache:{},cacheCount:0},sae=2e3,lae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mN="recharts_measurement_span";function uae(t){var e=IM({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var t0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pc.isSsr)return{width:0,height:0};var r=uae(n),i=JSON.stringify({text:e,copyStyle:r});if(Pp.widthCache[i])return Pp.widthCache[i];try{var a=document.getElementById(mN);a||(a=document.createElement("span"),a.setAttribute("id",mN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=IM(IM({},lae),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Pp.widthCache[i]=l,++Pp.cacheCount>sae&&(Pp.cacheCount=0,Pp.widthCache={}),l}catch{return{width:0,height:0}}},cae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function vb(t,e){return pae(t)||dae(t,e)||hae(t,e)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t,e){if(t){if(typeof t=="string")return gN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gN(t,e)}}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function pae(t){if(Array.isArray(t))return t}function mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vae(r.key),r)}}function gae(t,e,n){return e&&vN(t.prototype,e),n&&vN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vae(t){var e=yae(t,"string");return H0(e)=="symbol"?e:e+""}function yae(t,e){if(H0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(H0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_ae=Object.keys(mU),_m="NaN";function wae(t,e){return t*mU[e]}var J1=function(){function t(e,n){mae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!xae.test(n)&&(this.num=NaN,this.unit=""),_ae.includes(n)&&(this.num=wae(e,n),this.unit="px")}return gae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=bae.exec(n))!==null&&r!==void 0?r:[],a=vb(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function gU(t){if(t.includes(_m))return _m;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=yN.exec(e))!==null&&n!==void 0?n:[],i=vb(r,4),a=i[1],o=i[2],s=i[3],l=J1.parse(a??""),u=J1.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return _m;e=e.replace(yN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=xN.exec(e))!==null&&f!==void 0?f:[],d=vb(h,4),m=d[1],x=d[2],y=d[3],g=J1.parse(m??""),_=J1.parse(y??""),b=x==="+"?g.add(_):g.subtract(_);if(b.isNaN())return _m;e=e.replace(xN,b.toString())}return e}var bN=/\(([^()]*)\)/;function Sae(t){for(var e=t;e.includes("(");){var n=bN.exec(e),r=vb(n,2),i=r[1];e=e.replace(bN,gU(i))}return e}function Aae(t){var e=t.replace(/\s+/g,"");return e=Sae(e),e=gU(e),e}function Mae(t){try{return Aae(t)}catch{return _m}}function VS(t){var e=Mae(t.slice(5,-1));return e===_m?"":e}var Eae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tae=["dx","dy","angle","className","breakAll"];function kM(){return kM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kM.apply(this,arguments)}function _N(t,e){if(t==null)return{};var n=Pae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wN(t,e){return Oae(t)||Nae(t,e)||Lae(t,e)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lae(t,e){if(t){if(typeof t=="string")return SN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SN(t,e)}}function SN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Oae(t){if(Array.isArray(t))return t}var vU=/[ \f\n\r\t\v\u2028\u2029]+/,yU=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Fn(n)||(r?a=n.toString().split(""):a=n.toString().split(vU));var o=a.map(function(l){return{word:l,width:t0(l,i).width}}),s=r?0:t0(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Rae=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Dt(o),f=s,h=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(H,q){var B=q.word,z=q.width,$=H[H.length-1];if($&&(i==null||a||$.width+z+r<Number(i)))$.words.push(B),$.width+=z+r;else{var X={words:[B],width:z};H.push(X)}return H},[])},d=h(n),m=function(Z){return Z.reduce(function(H,q){return H.width>q.width?H:q})};if(!c)return d;for(var x="…",y=function(Z){var H=f.slice(0,Z),q=yU({breakAll:u,style:l,children:H+x}).wordsWithComputedWidth,B=h(q),z=B.length>o||m(B).width>Number(i);return[z,B]},g=0,_=f.length-1,b=0,S;g<=_&&b<=f.length-1;){var A=Math.floor((g+_)/2),E=A-1,M=y(E),P=wN(M,2),D=P[0],N=P[1],C=y(A),O=wN(C,1),j=O[0];if(!D&&!j&&(g=A+1),D&&j&&(_=A-1),!D&&j){S=N;break}b++}return S||d},AN=function(e){var n=Fn(e)?[]:e.toString().split(vU);return[{words:n}]},Iae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Pc.isSsr){var l,u,c=yU({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return AN(i);return Rae({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return AN(i)},MN="#808080",yb=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,d=h===void 0?"start":h,m=e.verticalAnchor,x=m===void 0?"end":m,y=e.fill,g=y===void 0?MN:y,_=_N(e,Eae),b=je.useMemo(function(){return Iae({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),S=_.dx,A=_.dy,E=_.angle,M=_.className,P=_.breakAll,D=_N(_,Tae);if(!pa(r)||!pa(a))return null;var N=r+(Dt(S)?S:0),C=a+(Dt(A)?A:0),O;switch(x){case"start":O=VS("calc(".concat(u,")"));break;case"middle":O=VS("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=VS("calc(".concat(b.length-1," * -").concat(s,")"));break}var j=[];if(f){var F=b[0].width,Z=_.width;j.push("scale(".concat((Dt(Z)?Z/F:1)/F,")"))}return E&&j.push("rotate(".concat(E,", ").concat(N,", ").concat(C,")")),j.length&&(D.transform=j.join(" ")),De.createElement("text",kM({},jn(D,!0),{x:N,y:C,className:Qn("recharts-text",M),textAnchor:d,fill:g.includes("url")?MN:g}),b.map(function(H,q){var B=H.words.join(P?"":" ");return De.createElement("tspan",{x:N,dy:q===0?O:s,key:"".concat(B,"-").concat(q)},B)}))};function Jf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oP(t){let e,n,r;t.length!==2?(e=Jf,n=(s,l)=>Jf(t(s),l),r=(s,l)=>t(s)-l):(e=t===Jf||t===kae?t:Dae,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Dae(){return 0}function xU(t){return t===null?NaN:+t}function*Fae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Uae=oP(Jf),Jy=Uae.right;oP(xU).center;class EN extends Map{constructor(e,n=jae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(TN(this,e))}has(e){return super.has(TN(this,e))}set(e,n){return super.set(Bae(this,e),n)}delete(e){return super.delete(zae(this,e))}}function TN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Bae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function jae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hae(t=Jf){if(t===Jf)return bU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function bU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Wae=Math.sqrt(50),Gae=Math.sqrt(10),Vae=Math.sqrt(2);function xb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Wae?10:a>=Gae?5:a>=Vae?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?xb(t,e,n*2):[s,l,u]}function DM(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?xb(e,t,n):xb(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function FM(t,e,n){return e=+e,t=+t,n=+n,xb(t,e,n)[2]}function UM(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?FM(e,t,n):FM(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function PN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function CN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _U(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?bU:Hae(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(e-u*f/l+h)),m=Math.min(r,Math.floor(e+(l-u)*f/l+h));_U(t,e,d,m,i)}const a=t[e];let o=n,s=r;for(gv(t,n,e),i(t[r],a)>0&&gv(t,n,r);o<s;){for(gv(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?gv(t,n,s):(++s,gv(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function gv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $ae(t,e,n){if(t=Float64Array.from(Fae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return CN(t);if(e>=1)return PN(t);var r,i=(r-1)*e,a=Math.floor(i),o=PN(_U(t,a).subarray(0,a+1)),s=CN(t.subarray(a+1));return o+(s-o)*(i-a)}}function qae(t,e,n=xU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Xae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Al(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BM=Symbol("implicit");function sP(){var t=new EN,e=[],n=[],r=BM;function i(a){let o=t.get(a);if(o===void 0){if(r!==BM)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new EN;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sP(e,n).unknown(r)},Al.apply(i,arguments),i}function W0(){var t=sP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,d=i<r,m=d?i:r,x=d?r:i;a=(x-m)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),m+=(x-m-a*(h-l))*c,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var y=Xae(h).map(function(g){return m+a*g});return n(d?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return W0(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Al.apply(f(),arguments)}function wU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wU(e())},t}function n0(){return wU(W0.apply(null,arguments).paddingInner(1))}function lP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function SU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qy(){}var G0=.7,bb=1/G0,Fm="\\s*([+-]?\\d+)\\s*",V0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Iu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yae=/^#([0-9a-f]{3,8})$/,Kae=new RegExp(`^rgb\\(${Fm},${Fm},${Fm}\\)$`),Zae=new RegExp(`^rgb\\(${Iu},${Iu},${Iu}\\)$`),Jae=new RegExp(`^rgba\\(${Fm},${Fm},${Fm},${V0}\\)$`),Qae=new RegExp(`^rgba\\(${Iu},${Iu},${Iu},${V0}\\)$`),eoe=new RegExp(`^hsl\\(${V0},${Iu},${Iu}\\)$`),toe=new RegExp(`^hsla\\(${V0},${Iu},${Iu},${V0}\\)$`),LN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lP(Qy,$0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:NN,formatHex:NN,formatHex8:noe,formatHsl:roe,formatRgb:ON,toString:ON});function NN(){return this.rgb().formatHex()}function noe(){return this.rgb().formatHex8()}function roe(){return AU(this).formatHsl()}function ON(){return this.rgb().formatRgb()}function $0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Yae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?RN(e):n===3?new is(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Q1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Q1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Kae.exec(t))?new is(e[1],e[2],e[3],1):(e=Zae.exec(t))?new is(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jae.exec(t))?Q1(e[1],e[2],e[3],e[4]):(e=Qae.exec(t))?Q1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eoe.exec(t))?DN(e[1],e[2]/100,e[3]/100,1):(e=toe.exec(t))?DN(e[1],e[2]/100,e[3]/100,e[4]):LN.hasOwnProperty(t)?RN(LN[t]):t==="transparent"?new is(NaN,NaN,NaN,0):null}function RN(t){return new is(t>>16&255,t>>8&255,t&255,1)}function Q1(t,e,n,r){return r<=0&&(t=e=n=NaN),new is(t,e,n,r)}function ioe(t){return t instanceof Qy||(t=$0(t)),t?(t=t.rgb(),new is(t.r,t.g,t.b,t.opacity)):new is}function zM(t,e,n,r){return arguments.length===1?ioe(t):new is(t,e,n,r??1)}function is(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}lP(is,zM,SU(Qy,{brighter(t){return t=t==null?bb:Math.pow(bb,t),new is(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?G0:Math.pow(G0,t),new is(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new is(Md(this.r),Md(this.g),Md(this.b),_b(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IN,formatHex:IN,formatHex8:aoe,formatRgb:kN,toString:kN}));function IN(){return`#${dd(this.r)}${dd(this.g)}${dd(this.b)}`}function aoe(){return`#${dd(this.r)}${dd(this.g)}${dd(this.b)}${dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function kN(){const t=_b(this.opacity);return`${t===1?"rgb(":"rgba("}${Md(this.r)}, ${Md(this.g)}, ${Md(this.b)}${t===1?")":`, ${t})`}`}function _b(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Md(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dd(t){return t=Md(t),(t<16?"0":"")+t.toString(16)}function DN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ql(t,e,n,r)}function AU(t){if(t instanceof Ql)return new Ql(t.h,t.s,t.l,t.opacity);if(t instanceof Qy||(t=$0(t)),!t)return new Ql;if(t instanceof Ql)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ql(o,s,l,t.opacity)}function ooe(t,e,n,r){return arguments.length===1?AU(t):new Ql(t,e,n,r??1)}function Ql(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}lP(Ql,ooe,SU(Qy,{brighter(t){return t=t==null?bb:Math.pow(bb,t),new Ql(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?G0:Math.pow(G0,t),new Ql(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new is($S(t>=240?t-240:t+120,i,r),$S(t,i,r),$S(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ql(FN(this.h),e2(this.s),e2(this.l),_b(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_b(this.opacity);return`${t===1?"hsl(":"hsla("}${FN(this.h)}, ${e2(this.s)*100}%, ${e2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function FN(t){return t=(t||0)%360,t<0?t+360:t}function e2(t){return Math.max(0,Math.min(1,t||0))}function $S(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uP=t=>()=>t;function soe(t,e){return function(n){return t+n*e}}function loe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uoe(t){return(t=+t)==1?MU:function(e,n){return n-e?loe(e,n,t):uP(isNaN(e)?n:e)}}function MU(t,e){var n=e-t;return n?soe(t,n):uP(isNaN(t)?e:t)}const UN=function t(e){var n=uoe(e);function r(i,a){var o=n((i=zM(i)).r,(a=zM(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=MU(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function coe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function foe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hoe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Og(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function doe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function poe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Og(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var jM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qS=new RegExp(jM.source,"g");function moe(t){return function(){return t}}function goe(t){return function(e){return t(e)+""}}function voe(t,e){var n=jM.lastIndex=qS.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=jM.exec(t))&&(i=qS.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:wb(r,i)})),n=qS.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?goe(l[0].x):moe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Og(t,e){var n=typeof e,r;return e==null||n==="boolean"?uP(e):(n==="number"?wb:n==="string"?(r=$0(e))?(e=r,UN):voe:e instanceof $0?UN:e instanceof Date?doe:foe(e)?coe:Array.isArray(e)?hoe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?poe:wb)(t,e)}function cP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yoe(t,e){e===void 0&&(e=t,t=Og);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function xoe(t){return function(){return t}}function Sb(t){return+t}var BN=[0,1];function Bo(t){return t}function HM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xoe(isNaN(e)?NaN:.5)}function boe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _oe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=HM(i,r),a=n(o,a)):(r=HM(r,i),a=n(a,o)),function(s){return a(r(s))}}function woe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=HM(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Jy(t,s,1,r)-1;return a[l](i[l](s))}}function e1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Y_(){var t=BN,e=BN,n=Og,r,i,a,o=Bo,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==Bo&&(o=boe(t[0],t[h-1])),s=h>2?woe:_oe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),wb)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Sb),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=cP,c()},f.clamp=function(h){return arguments.length?(o=h?!0:Bo,c()):o!==Bo},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,c()}}function fP(){return Y_()(Bo,Bo)}function Soe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ab(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qm(t){return t=Ab(Math.abs(t)),t?t[1]:NaN}function Aoe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Moe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Eoe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function q0(t){if(!(e=Eoe.exec(t)))throw new Error("invalid format: "+t);var e;return new hP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}q0.prototype=hP.prototype;function hP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Toe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var EU;function Poe(t,e){var n=Ab(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(EU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ab(t,Math.max(0,e+a-1))[0]}function zN(t,e){var n=Ab(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Soe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zN(t*100,e),r:zN,s:Poe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HN(t){return t}var WN=Array.prototype.map,GN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Coe(t){var e=t.grouping===void 0||t.thousands===void 0?HN:Aoe(WN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?HN:Moe(WN.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=q0(f);var h=f.fill,d=f.align,m=f.sign,x=f.symbol,y=f.zero,g=f.width,_=f.comma,b=f.precision,S=f.trim,A=f.type;A==="n"?(_=!0,A="g"):jN[A]||(b===void 0&&(b=12),S=!0,A="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var E=x==="$"?n:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",M=x==="$"?r:/[%p]/.test(A)?o:"",P=jN[A],D=/[defgprs%]/.test(A);b=b===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(C){var O=E,j=M,F,Z,H;if(A==="c")j=P(C)+j,C="";else{C=+C;var q=C<0||1/C<0;if(C=isNaN(C)?l:P(Math.abs(C),b),S&&(C=Toe(C)),q&&+C==0&&m!=="+"&&(q=!1),O=(q?m==="("?m:s:m==="-"||m==="("?"":m)+O,j=(A==="s"?GN[8+EU/3]:"")+j+(q&&m==="("?")":""),D){for(F=-1,Z=C.length;++F<Z;)if(H=C.charCodeAt(F),48>H||H>57){j=(H===46?i+C.slice(F+1):C.slice(F))+j,C=C.slice(0,F);break}}}_&&!y&&(C=e(C,1/0));var B=O.length+C.length+j.length,z=B<g?new Array(g-B+1).join(h):"";switch(_&&y&&(C=e(z+C,z.length?g-j.length:1/0),z=""),d){case"<":C=O+C+j+z;break;case"=":C=O+z+C+j;break;case"^":C=z.slice(0,B=z.length>>1)+O+C+j+z.slice(B);break;default:C=z+O+C+j;break}return a(C)}return N.toString=function(){return f+""},N}function c(f,h){var d=u((f=q0(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Qm(h)/3)))*3,x=Math.pow(10,-m),y=GN[8+m/3];return function(g){return d(x*g)+y}}return{format:u,formatPrefix:c}}var t2,dP,TU;Loe({thousands:",",grouping:[3],currency:["$",""]});function Loe(t){return t2=Coe(t),dP=t2.format,TU=t2.formatPrefix,t2}function Noe(t){return Math.max(0,-Qm(Math.abs(t)))}function Ooe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qm(e)/3)))*3-Qm(Math.abs(t)))}function Roe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qm(e)-Qm(t))+1}function PU(t,e,n,r){var i=UM(t,e,n),a;switch(r=q0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Ooe(i,o))&&(r.precision=a),TU(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Roe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Noe(i))&&(r.precision=a-(r.type==="%")*2);break}}return dP(r)}function gh(t){var e=t.domain;return t.ticks=function(n){var r=e();return DM(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return PU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=FM(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Mb(){var t=fP();return t.copy=function(){return e1(t,Mb())},Al.apply(t,arguments),gh(t)}function CU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return CU(t).unknown(e)},t=arguments.length?Array.from(t,Sb):[0,1],gh(n)}function LU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function VN(t){return Math.log(t)}function $N(t){return Math.exp(t)}function Ioe(t){return-Math.log(-t)}function koe(t){return-Math.exp(-t)}function Doe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Foe(t){return t===10?Doe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Uoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qN(t){return(e,n)=>-t(-e,n)}function pP(t){const e=t(VN,$N),n=e.domain;let r=10,i,a;function o(){return i=Uoe(r),a=Foe(r),n()[0]<0?(i=qN(i),a=qN(a),t(Ioe,koe)):t(VN,$N),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),d=i(c),m,x;const y=s==null?10:+s;let g=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(m=1;m<r;++m)if(x=h<0?m/a(-h):m*a(h),!(x<u)){if(x>c)break;g.push(x)}}else for(;h<=d;++h)for(m=r-1;m>=1;--m)if(x=h>0?m/a(-h):m*a(h),!(x<u)){if(x>c)break;g.push(x)}g.length*2<y&&(g=DM(u,c,y))}else g=DM(h,d,Math.min(d-h,y)).map(a);return f?g.reverse():g},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=q0(l)).precision==null&&(l.trim=!0),l=dP(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(LU(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function NU(){const t=pP(Y_()).domain([1,10]);return t.copy=()=>e1(t,NU()).base(t.base()),Al.apply(t,arguments),t}function XN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mP(t){var e=1,n=t(XN(e),YN(e));return n.constant=function(r){return arguments.length?t(XN(e=+r),YN(e)):e},gh(n)}function OU(){var t=mP(Y_());return t.copy=function(){return e1(t,OU()).constant(t.constant())},Al.apply(t,arguments)}function KN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Boe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zoe(t){return t<0?-t*t:t*t}function gP(t){var e=t(Bo,Bo),n=1;function r(){return n===1?t(Bo,Bo):n===.5?t(Boe,zoe):t(KN(n),KN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gh(e)}function vP(){var t=gP(Y_());return t.copy=function(){return e1(t,vP()).exponent(t.exponent())},Al.apply(t,arguments),t}function joe(){return vP.apply(null,arguments).exponent(.5)}function ZN(t){return Math.sign(t)*t*t}function Hoe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RU(){var t=fP(),e=[0,1],n=!1,r;function i(a){var o=Hoe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(ZN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Sb)).map(ZN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return RU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Al.apply(i,arguments),gh(i)}function IU(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=qae(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Jy(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Jf),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return IU().domain(t).range(e).unknown(r)},Al.apply(a,arguments)}function kU(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Jy(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return kU().domain([t,e]).range(i).unknown(a)},Al.apply(gh(o),arguments)}function DU(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Jy(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return DU().domain(t).range(e).unknown(n)},Al.apply(i,arguments)}const XS=new Date,YS=new Date;function va(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>va(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(XS.setTime(+a),YS.setTime(+o),t(XS),t(YS),Math.floor(n(XS,YS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Eb=va(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Eb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?va(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Eb);Eb.range;const bc=1e3,gl=bc*60,_c=gl*60,kc=_c*24,yP=kc*7,JN=kc*30,KS=kc*365,pd=va(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bc)},(t,e)=>(e-t)/bc,t=>t.getUTCSeconds());pd.range;const xP=va(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bc)},(t,e)=>{t.setTime(+t+e*gl)},(t,e)=>(e-t)/gl,t=>t.getMinutes());xP.range;const bP=va(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*gl)},(t,e)=>(e-t)/gl,t=>t.getUTCMinutes());bP.range;const _P=va(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bc-t.getMinutes()*gl)},(t,e)=>{t.setTime(+t+e*_c)},(t,e)=>(e-t)/_c,t=>t.getHours());_P.range;const wP=va(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_c)},(t,e)=>(e-t)/_c,t=>t.getUTCHours());wP.range;const t1=va(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gl)/kc,t=>t.getDate()-1);t1.range;const K_=va(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kc,t=>t.getUTCDate()-1);K_.range;const FU=va(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kc,t=>Math.floor(t/kc));FU.range;function Qd(t){return va(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*gl)/yP)}const Z_=Qd(0),Tb=Qd(1),Woe=Qd(2),Goe=Qd(3),eg=Qd(4),Voe=Qd(5),$oe=Qd(6);Z_.range;Tb.range;Woe.range;Goe.range;eg.range;Voe.range;$oe.range;function ep(t){return va(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/yP)}const J_=ep(0),Pb=ep(1),qoe=ep(2),Xoe=ep(3),tg=ep(4),Yoe=ep(5),Koe=ep(6);J_.range;Pb.range;qoe.range;Xoe.range;tg.range;Yoe.range;Koe.range;const SP=va(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SP.range;const AP=va(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AP.range;const Dc=va(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:va(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Dc.range;const Fc=va(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:va(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fc.range;function UU(t,e,n,r,i,a){const o=[[pd,1,bc],[pd,5,5*bc],[pd,15,15*bc],[pd,30,30*bc],[a,1,gl],[a,5,5*gl],[a,15,15*gl],[a,30,30*gl],[i,1,_c],[i,3,3*_c],[i,6,6*_c],[i,12,12*_c],[r,1,kc],[r,2,2*kc],[n,1,yP],[e,1,JN],[e,3,3*JN],[t,1,KS]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const d=f&&typeof f.range=="function"?f:l(u,c,f),m=d?d.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,f){const h=Math.abs(c-u)/f,d=oP(([,,y])=>y).right(o,h);if(d===o.length)return t.every(UM(u/KS,c/KS,f));if(d===0)return Eb.every(Math.max(UM(u,c,f),1));const[m,x]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return m.every(x)}return[s,l]}const[Zoe,Joe]=UU(Fc,AP,J_,FU,wP,bP),[Qoe,ese]=UU(Dc,SP,Z_,t1,_P,xP);function ZS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function JS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=yv(i),c=xv(i),f=yv(a),h=xv(a),d=yv(o),m=xv(o),x=yv(s),y=xv(s),g=yv(l),_=xv(l),b={a:q,A:B,b:z,B:$,c:null,d:iO,e:iO,f:Ase,g:Ise,G:Dse,H:_se,I:wse,j:Sse,L:BU,m:Mse,M:Ese,p:X,q:k,Q:sO,s:lO,S:Tse,u:Pse,U:Cse,V:Lse,w:Nse,W:Ose,x:null,X:null,y:Rse,Y:kse,Z:Fse,"%":oO},S={a:V,A:G,b:K,B:ne,c:null,d:aO,e:aO,f:jse,g:Zse,G:Qse,H:Use,I:Bse,j:zse,L:jU,m:Hse,M:Wse,p:ue,q:he,Q:sO,s:lO,S:Gse,u:Vse,U:$se,V:qse,w:Xse,W:Yse,x:null,X:null,y:Kse,Y:Jse,Z:ele,"%":oO},A={a:N,A:C,b:O,B:j,c:F,d:nO,e:nO,f:vse,g:tO,G:eO,H:rO,I:rO,j:dse,L:gse,m:hse,M:pse,p:D,q:fse,Q:xse,s:bse,S:mse,u:ose,U:sse,V:lse,w:ase,W:use,x:Z,X:H,y:tO,Y:eO,Z:cse,"%":yse};b.x=E(n,b),b.X=E(r,b),b.c=E(e,b),S.x=E(n,S),S.X=E(r,S),S.c=E(e,S);function E(ce,Me){return function(ye){var J=[],Ee=-1,Ae=0,me=ce.length,ie,He,Ce;for(ye instanceof Date||(ye=new Date(+ye));++Ee<me;)ce.charCodeAt(Ee)===37&&(J.push(ce.slice(Ae,Ee)),(He=QN[ie=ce.charAt(++Ee)])!=null?ie=ce.charAt(++Ee):He=ie==="e"?" ":"0",(Ce=Me[ie])&&(ie=Ce(ye,He)),J.push(ie),Ae=Ee+1);return J.push(ce.slice(Ae,Ee)),J.join("")}}function M(ce,Me){return function(ye){var J=vv(1900,void 0,1),Ee=P(J,ce,ye+="",0),Ae,me;if(Ee!=ye.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Me&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Ae=JS(vv(J.y,0,1)),me=Ae.getUTCDay(),Ae=me>4||me===0?Pb.ceil(Ae):Pb(Ae),Ae=K_.offset(Ae,(J.V-1)*7),J.y=Ae.getUTCFullYear(),J.m=Ae.getUTCMonth(),J.d=Ae.getUTCDate()+(J.w+6)%7):(Ae=ZS(vv(J.y,0,1)),me=Ae.getDay(),Ae=me>4||me===0?Tb.ceil(Ae):Tb(Ae),Ae=t1.offset(Ae,(J.V-1)*7),J.y=Ae.getFullYear(),J.m=Ae.getMonth(),J.d=Ae.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),me="Z"in J?JS(vv(J.y,0,1)).getUTCDay():ZS(vv(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(me+5)%7:J.w+J.U*7-(me+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,JS(J)):ZS(J)}}function P(ce,Me,ye,J){for(var Ee=0,Ae=Me.length,me=ye.length,ie,He;Ee<Ae;){if(J>=me)return-1;if(ie=Me.charCodeAt(Ee++),ie===37){if(ie=Me.charAt(Ee++),He=A[ie in QN?Me.charAt(Ee++):ie],!He||(J=He(ce,ye,J))<0)return-1}else if(ie!=ye.charCodeAt(J++))return-1}return J}function D(ce,Me,ye){var J=u.exec(Me.slice(ye));return J?(ce.p=c.get(J[0].toLowerCase()),ye+J[0].length):-1}function N(ce,Me,ye){var J=d.exec(Me.slice(ye));return J?(ce.w=m.get(J[0].toLowerCase()),ye+J[0].length):-1}function C(ce,Me,ye){var J=f.exec(Me.slice(ye));return J?(ce.w=h.get(J[0].toLowerCase()),ye+J[0].length):-1}function O(ce,Me,ye){var J=g.exec(Me.slice(ye));return J?(ce.m=_.get(J[0].toLowerCase()),ye+J[0].length):-1}function j(ce,Me,ye){var J=x.exec(Me.slice(ye));return J?(ce.m=y.get(J[0].toLowerCase()),ye+J[0].length):-1}function F(ce,Me,ye){return P(ce,e,Me,ye)}function Z(ce,Me,ye){return P(ce,n,Me,ye)}function H(ce,Me,ye){return P(ce,r,Me,ye)}function q(ce){return o[ce.getDay()]}function B(ce){return a[ce.getDay()]}function z(ce){return l[ce.getMonth()]}function $(ce){return s[ce.getMonth()]}function X(ce){return i[+(ce.getHours()>=12)]}function k(ce){return 1+~~(ce.getMonth()/3)}function V(ce){return o[ce.getUTCDay()]}function G(ce){return a[ce.getUTCDay()]}function K(ce){return l[ce.getUTCMonth()]}function ne(ce){return s[ce.getUTCMonth()]}function ue(ce){return i[+(ce.getUTCHours()>=12)]}function he(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Me=E(ce+="",b);return Me.toString=function(){return ce},Me},parse:function(ce){var Me=M(ce+="",!1);return Me.toString=function(){return ce},Me},utcFormat:function(ce){var Me=E(ce+="",S);return Me.toString=function(){return ce},Me},utcParse:function(ce){var Me=M(ce+="",!0);return Me.toString=function(){return ce},Me}}}var QN={"-":"",_:" ",0:"0"},Fa=/^\s*\d+/,nse=/^%/,rse=/[\\^$*+?|[\]().{}]/g;function tr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function ise(t){return t.replace(rse,"\\$&")}function yv(t){return new RegExp("^(?:"+t.map(ise).join("|")+")","i")}function xv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ase(t,e,n){var r=Fa.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ose(t,e,n){var r=Fa.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sse(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lse(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function use(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eO(t,e,n){var r=Fa.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tO(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fse(t,e,n){var r=Fa.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hse(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nO(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function dse(t,e,n){var r=Fa.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rO(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pse(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mse(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gse(t,e,n){var r=Fa.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vse(t,e,n){var r=Fa.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yse(t,e,n){var r=nse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xse(t,e,n){var r=Fa.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bse(t,e,n){var r=Fa.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iO(t,e){return tr(t.getDate(),e,2)}function _se(t,e){return tr(t.getHours(),e,2)}function wse(t,e){return tr(t.getHours()%12||12,e,2)}function Sse(t,e){return tr(1+t1.count(Dc(t),t),e,3)}function BU(t,e){return tr(t.getMilliseconds(),e,3)}function Ase(t,e){return BU(t,e)+"000"}function Mse(t,e){return tr(t.getMonth()+1,e,2)}function Ese(t,e){return tr(t.getMinutes(),e,2)}function Tse(t,e){return tr(t.getSeconds(),e,2)}function Pse(t){var e=t.getDay();return e===0?7:e}function Cse(t,e){return tr(Z_.count(Dc(t)-1,t),e,2)}function zU(t){var e=t.getDay();return e>=4||e===0?eg(t):eg.ceil(t)}function Lse(t,e){return t=zU(t),tr(eg.count(Dc(t),t)+(Dc(t).getDay()===4),e,2)}function Nse(t){return t.getDay()}function Ose(t,e){return tr(Tb.count(Dc(t)-1,t),e,2)}function Rse(t,e){return tr(t.getFullYear()%100,e,2)}function Ise(t,e){return t=zU(t),tr(t.getFullYear()%100,e,2)}function kse(t,e){return tr(t.getFullYear()%1e4,e,4)}function Dse(t,e){var n=t.getDay();return t=n>=4||n===0?eg(t):eg.ceil(t),tr(t.getFullYear()%1e4,e,4)}function Fse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tr(e/60|0,"0",2)+tr(e%60,"0",2)}function aO(t,e){return tr(t.getUTCDate(),e,2)}function Use(t,e){return tr(t.getUTCHours(),e,2)}function Bse(t,e){return tr(t.getUTCHours()%12||12,e,2)}function zse(t,e){return tr(1+K_.count(Fc(t),t),e,3)}function jU(t,e){return tr(t.getUTCMilliseconds(),e,3)}function jse(t,e){return jU(t,e)+"000"}function Hse(t,e){return tr(t.getUTCMonth()+1,e,2)}function Wse(t,e){return tr(t.getUTCMinutes(),e,2)}function Gse(t,e){return tr(t.getUTCSeconds(),e,2)}function Vse(t){var e=t.getUTCDay();return e===0?7:e}function $se(t,e){return tr(J_.count(Fc(t)-1,t),e,2)}function HU(t){var e=t.getUTCDay();return e>=4||e===0?tg(t):tg.ceil(t)}function qse(t,e){return t=HU(t),tr(tg.count(Fc(t),t)+(Fc(t).getUTCDay()===4),e,2)}function Xse(t){return t.getUTCDay()}function Yse(t,e){return tr(Pb.count(Fc(t)-1,t),e,2)}function Kse(t,e){return tr(t.getUTCFullYear()%100,e,2)}function Zse(t,e){return t=HU(t),tr(t.getUTCFullYear()%100,e,2)}function Jse(t,e){return tr(t.getUTCFullYear()%1e4,e,4)}function Qse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?tg(t):tg.ceil(t),tr(t.getUTCFullYear()%1e4,e,4)}function ele(){return"+0000"}function oO(){return"%"}function sO(t){return+t}function lO(t){return Math.floor(+t/1e3)}var Cp,WU,GU;tle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tle(t){return Cp=tse(t),WU=Cp.format,Cp.parse,GU=Cp.utcFormat,Cp.utcParse,Cp}function nle(t){return new Date(t)}function rle(t){return t instanceof Date?+t:+new Date(+t)}function MP(t,e,n,r,i,a,o,s,l,u){var c=fP(),f=c.invert,h=c.domain,d=u(".%L"),m=u(":%S"),x=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),_=u("%b %d"),b=u("%B"),S=u("%Y");function A(E){return(l(E)<E?d:s(E)<E?m:o(E)<E?x:a(E)<E?y:r(E)<E?i(E)<E?g:_:n(E)<E?b:S)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?h(Array.from(E,rle)):h().map(nle)},c.ticks=function(E){var M=h();return t(M[0],M[M.length-1],E??10)},c.tickFormat=function(E,M){return M==null?A:u(M)},c.nice=function(E){var M=h();return(!E||typeof E.range!="function")&&(E=e(M[0],M[M.length-1],E??10)),E?h(LU(M,E)):c},c.copy=function(){return e1(c,MP(t,e,n,r,i,a,o,s,l,u))},c}function ile(){return Al.apply(MP(Qoe,ese,Dc,SP,Z_,t1,_P,xP,pd,WU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ale(){return Al.apply(MP(Zoe,Joe,Fc,AP,J_,K_,wP,bP,pd,GU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Q_(){var t=0,e=1,n,r,i,a,o=Bo,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var d,m;return arguments.length?([d,m]=h,o=f(d,m),u):[o(0),o(1)]}}return u.range=c(Og),u.rangeRound=c(cP),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function vh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function VU(){var t=gh(Q_()(Bo));return t.copy=function(){return vh(t,VU())},Vc.apply(t,arguments)}function $U(){var t=pP(Q_()).domain([1,10]);return t.copy=function(){return vh(t,$U()).base(t.base())},Vc.apply(t,arguments)}function qU(){var t=mP(Q_());return t.copy=function(){return vh(t,qU()).constant(t.constant())},Vc.apply(t,arguments)}function EP(){var t=gP(Q_());return t.copy=function(){return vh(t,EP()).exponent(t.exponent())},Vc.apply(t,arguments)}function ole(){return EP.apply(null,arguments).exponent(.5)}function XU(){var t=[],e=Bo;function n(r){if(r!=null&&!isNaN(r=+r))return e((Jy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>$ae(t,a/r))},n.copy=function(){return XU(e).domain(t)},Vc.apply(n,arguments)}function ew(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Bo,c,f=!1,h;function d(x){return isNaN(x=+x)?h:(x=.5+((x=+c(x))-a)*(r*x<r*a?s:l),u(f?Math.max(0,Math.min(1,x)):x))}d.domain=function(x){return arguments.length?([t,e,n]=x,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d):[t,e,n]},d.clamp=function(x){return arguments.length?(f=!!x,d):f},d.interpolator=function(x){return arguments.length?(u=x,d):u};function m(x){return function(y){var g,_,b;return arguments.length?([g,_,b]=y,u=yoe(x,[g,_,b]),d):[u(0),u(.5),u(1)]}}return d.range=m(Og),d.rangeRound=m(cP),d.unknown=function(x){return arguments.length?(h=x,d):h},function(x){return c=x,i=x(t),a=x(e),o=x(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function YU(){var t=gh(ew()(Bo));return t.copy=function(){return vh(t,YU())},Vc.apply(t,arguments)}function KU(){var t=pP(ew()).domain([.1,1,10]);return t.copy=function(){return vh(t,KU()).base(t.base())},Vc.apply(t,arguments)}function ZU(){var t=mP(ew());return t.copy=function(){return vh(t,ZU()).constant(t.constant())},Vc.apply(t,arguments)}function TP(){var t=gP(ew());return t.copy=function(){return vh(t,TP()).exponent(t.exponent())},Vc.apply(t,arguments)}function sle(){return TP.apply(null,arguments).exponent(.5)}const uO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:W0,scaleDiverging:YU,scaleDivergingLog:KU,scaleDivergingPow:TP,scaleDivergingSqrt:sle,scaleDivergingSymlog:ZU,scaleIdentity:CU,scaleImplicit:BM,scaleLinear:Mb,scaleLog:NU,scaleOrdinal:sP,scalePoint:n0,scalePow:vP,scaleQuantile:IU,scaleQuantize:kU,scaleRadial:RU,scaleSequential:VU,scaleSequentialLog:$U,scaleSequentialPow:EP,scaleSequentialQuantile:XU,scaleSequentialSqrt:ole,scaleSequentialSymlog:qU,scaleSqrt:joe,scaleSymlog:OU,scaleThreshold:DU,scaleTime:ile,scaleUtc:ale,tickFormat:PU},Symbol.toStringTag,{value:"Module"}));var lle=Ag;function ule(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!lle(o):n(o,s)))var s=o,l=a}return l}var JU=ule;function cle(t,e){return t>e}var fle=cle,hle=JU,dle=fle,ple=Ng;function mle(t){return t&&t.length?hle(t,ple,dle):void 0}var gle=mle;const tw=Ar(gle);function vle(t,e){return t<e}var yle=vle,xle=JU,ble=yle,_le=Ng;function wle(t){return t&&t.length?xle(t,_le,ble):void 0}var Sle=wle;const nw=Ar(Sle);var Ale=jT,Mle=mh,Ele=oU,Tle=ls;function Ple(t,e){var n=Tle(t)?Ale:Ele;return n(t,Mle(e))}var Cle=Ple,Lle=iU,Nle=Cle;function Ole(t,e){return Lle(Nle(t,e),1)}var Rle=Ole;const Ile=Ar(Rle);var kle=nP;function Dle(t,e){return kle(t,e)}var Fle=Dle;const rw=Ar(Fle);var Rg=1e9,Ule={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CP,ri=!0,wl="[DecimalError] ",Ed=wl+"Invalid argument: ",PP=wl+"Exponent out of range: ",Ig=Math.floor,ed=Math.pow,Ble=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cs,Ia=1e7,qr=7,QU=9007199254740991,Cb=Ig(QU/qr),Gt={};Gt.absoluteValue=Gt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Gt.comparedTo=Gt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Gt.decimalPlaces=Gt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Gt.dividedBy=Gt.div=function(t){return Cc(this,new this.constructor(t))};Gt.dividedToIntegerBy=Gt.idiv=function(t){var e=this,n=e.constructor;return Nr(Cc(e,new n(t),0,1),n.precision)};Gt.equals=Gt.eq=function(t){return!this.cmp(t)};Gt.exponent=function(){return Ki(this)};Gt.greaterThan=Gt.gt=function(t){return this.cmp(t)>0};Gt.greaterThanOrEqualTo=Gt.gte=function(t){return this.cmp(t)>=0};Gt.isInteger=Gt.isint=function(){return this.e>this.d.length-2};Gt.isNegative=Gt.isneg=function(){return this.s<0};Gt.isPositive=Gt.ispos=function(){return this.s>0};Gt.isZero=function(){return this.s===0};Gt.lessThan=Gt.lt=function(t){return this.cmp(t)<0};Gt.lessThanOrEqualTo=Gt.lte=function(t){return this.cmp(t)<1};Gt.logarithm=Gt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Cs))throw Error(wl+"NaN");if(n.s<1)throw Error(wl+(n.s?"NaN":"-Infinity"));return n.eq(Cs)?new r(0):(ri=!1,e=Cc(X0(n,a),X0(t,a),a),ri=!0,Nr(e,i))};Gt.minus=Gt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nB(e,t):eB(e,(t.s=-t.s,t))};Gt.modulo=Gt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(wl+"NaN");return n.s?(ri=!1,e=Cc(n,t,0,1).times(t),ri=!0,n.minus(e)):Nr(new r(n),i)};Gt.naturalExponential=Gt.exp=function(){return tB(this)};Gt.naturalLogarithm=Gt.ln=function(){return X0(this)};Gt.negated=Gt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Gt.plus=Gt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eB(e,t):nB(e,(t.s=-t.s,t))};Gt.precision=Gt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ed+t);if(e=Ki(i)+1,r=i.d.length-1,n=r*qr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Gt.squareRoot=Gt.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(wl+"NaN")}for(t=Ki(s),ri=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Pu(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ig((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Cc(s,a,o+2)).times(.5),Pu(a.d).slice(0,o)===(e=Pu(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Nr(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return ri=!0,Nr(r,n)};Gt.times=Gt.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,d=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=d.length,l<u&&(a=h,h=d,d=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+d[r]*h[i-r-1]+e,a[i--]=s%Ia|0,e=s/Ia|0;a[i]=(a[i]+e)%Ia|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ri?Nr(t,f.precision):t};Gt.toDecimalPlaces=Gt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(zu(t,0,Rg),e===void 0?e=r.rounding:zu(e,0,8),Nr(n,t+Ki(n)+1,e))};Gt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Wd(r,!0):(zu(t,0,Rg),e===void 0?e=i.rounding:zu(e,0,8),r=Nr(new i(r),t+1,e),n=Wd(r,!0,t+1)),n};Gt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Wd(i):(zu(t,0,Rg),e===void 0?e=a.rounding:zu(e,0,8),r=Nr(new a(i),t+Ki(i)+1,e),n=Wd(r.abs(),!1,t+Ki(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Gt.toInteger=Gt.toint=function(){var t=this,e=t.constructor;return Nr(new e(t),Ki(t)+1,e.rounding)};Gt.toNumber=function(){return+this};Gt.toPower=Gt.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Cs);if(s=new l(s),!s.s){if(t.s<1)throw Error(wl+"Infinity");return s}if(s.eq(Cs))return s;if(r=l.precision,t.eq(Cs))return Nr(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=QU){for(i=new l(Cs),e=Math.ceil(r/qr+4),ri=!1;n%2&&(i=i.times(s),fO(i.d,e)),n=Ig(n/2),n!==0;)s=s.times(s),fO(s.d,e);return ri=!0,t.s<0?new l(Cs).div(i):Nr(i,r)}}else if(a<0)throw Error(wl+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ri=!1,i=t.times(X0(s,r+u)),ri=!0,i=tB(i),i.s=a,i};Gt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ki(i),r=Wd(i,n<=a.toExpNeg||n>=a.toExpPos)):(zu(t,1,Rg),e===void 0?e=a.rounding:zu(e,0,8),i=Nr(new a(i),t,e),n=Ki(i),r=Wd(i,t<=n||n<=a.toExpNeg,t)),r};Gt.toSignificantDigits=Gt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(zu(t,1,Rg),e===void 0?e=r.rounding:zu(e,0,8)),Nr(new r(n),t,e)};Gt.toString=Gt.valueOf=Gt.val=Gt.toJSON=Gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ki(t),n=t.constructor;return Wd(t,e<=n.toExpNeg||e>=n.toExpPos)};function eB(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ri?Nr(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/qr),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Ia|0,l[a]%=Ia;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ri?Nr(e,f):e}function zu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ed+t)}function Pu(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=qr-r.length,n&&(a+=If(n)),a+=r;o=t[e],r=o+"",n=qr-r.length,n&&(a+=If(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Cc=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Ia|0,o=a/Ia|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ia+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,d,m,x,y,g,_,b,S,A,E,M,P,D=r.constructor,N=r.s==i.s?1:-1,C=r.d,O=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(wl+"Division by zero");for(l=r.e-i.e,M=O.length,A=C.length,d=new D(N),m=d.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--l,a==null?_=a=D.precision:o?_=a+(Ki(r)-Ki(i))+1:_=a,_<0)return new D(0);if(_=_/qr+2|0,u=0,M==1)for(c=0,O=O[0],_++;(u<A||c)&&_--;u++)b=c*Ia+(C[u]||0),m[u]=b/O|0,c=b%O|0;else{for(c=Ia/(O[0]+1)|0,c>1&&(O=t(O,c),C=t(C,c),M=O.length,A=C.length),S=M,x=C.slice(0,M),y=x.length;y<M;)x[y++]=0;P=O.slice(),P.unshift(0),E=O[0],O[1]>=Ia/2&&++E;do c=0,s=e(O,x,M,y),s<0?(g=x[0],M!=y&&(g=g*Ia+(x[1]||0)),c=g/E|0,c>1?(c>=Ia&&(c=Ia-1),f=t(O,c),h=f.length,y=x.length,s=e(f,x,h,y),s==1&&(c--,n(f,M<h?P:O,h))):(c==0&&(s=c=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(x,f,y),s==-1&&(y=x.length,s=e(O,x,M,y),s<1&&(c++,n(x,M<y?P:O,y))),y=x.length):s===0&&(c++,x=[0]),m[u++]=c,s&&x[0]?x[y++]=C[S]||0:(x=[C[S]],y=1);while((S++<A||x[0]!==void 0)&&_--)}return m[0]||m.shift(),d.e=l,Nr(d,o?a+Ki(d)+1:a)}}();function tB(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(Ki(t)>16)throw Error(PP+Ki(t));if(!t.s)return new c(Cs);for(e==null?(ri=!1,s=f):s=e,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(ed(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Cs),c.precision=s;;){if(i=Nr(i.times(t),s),n=n.times(++l),o=a.plus(Cc(i,n,s)),Pu(o.d).slice(0,s)===Pu(a.d).slice(0,s)){for(;u--;)a=Nr(a.times(a),s);return c.precision=f,e==null?(ri=!0,Nr(a,f)):a}a=o}}function Ki(t){for(var e=t.e*qr,n=t.d[0];n>=10;n/=10)e++;return e}function QS(t,e,n){if(e>t.LN10.sd())throw ri=!0,n&&(t.precision=n),Error(wl+"LN10 precision limit exceeded");return Nr(new t(t.LN10),e)}function If(t){for(var e="";t--;)e+="0";return e}function X0(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,d=t,m=d.d,x=d.constructor,y=x.precision;if(d.s<1)throw Error(wl+(d.s?"NaN":"-Infinity"));if(d.eq(Cs))return new x(0);if(e==null?(ri=!1,u=y):u=e,d.eq(10))return e==null&&(ri=!0),QS(x,u);if(u+=h,x.precision=u,n=Pu(m),r=n.charAt(0),a=Ki(d),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(t),n=Pu(d.d),r=n.charAt(0),f++;a=Ki(d),r>1?(d=new x("0."+n),a++):d=new x(r+"."+n.slice(1))}else return l=QS(x,u+2,y).times(a+""),d=X0(new x(r+"."+n.slice(1)),u-h).plus(l),x.precision=y,e==null?(ri=!0,Nr(d,y)):d;for(s=o=d=Cc(d.minus(Cs),d.plus(Cs),u),c=Nr(d.times(d),u),i=3;;){if(o=Nr(o.times(c),u),l=s.plus(Cc(o,new x(i),u)),Pu(l.d).slice(0,u)===Pu(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(QS(x,u+2,y).times(a+""))),s=Cc(s,new x(f),u),x.precision=y,e==null?(ri=!0,Nr(s,y)):s;s=l,i+=2}}function cO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ig(n/qr),t.d=[],r=(n+1)%qr,n<0&&(r+=qr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qr;r<i;)t.d.push(+e.slice(r,r+=qr));e=e.slice(r),r=qr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ri&&(t.e>Cb||t.e<-Cb))throw Error(PP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Nr(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=qr,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/qr),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=qr,i=r-qr+o}if(n!==void 0&&(a=ed(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ed(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Ki(t),f.length=1,e=e-a-1,f[0]=ed(10,(qr-e%qr)%qr),t.e=Ig(-e/qr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=ed(10,qr-r),f[c]=i>0?(u/ed(10,o-i)%ed(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Ia&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Ia)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(ri&&(t.e>Cb||t.e<-Cb))throw Error(PP+Ki(t));return t}function nB(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ri?Nr(e,d):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(d/qr),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ia-1;--l[a],l[i]+=Ia}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ri?Nr(e,d):e):new h(0)}function Wd(t,e,n){var r,i=Ki(t),a=Pu(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+If(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+If(-i-1)+a,n&&(r=n-o)>0&&(a+=If(r))):i>=o?(a+=If(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+If(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=If(r))),t.s<0?"-"+a:a}function fO(t,e){if(t.length>e)return t.length=e,!0}function rB(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ed+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return cO(o,a.toString())}else if(typeof a!="string")throw Error(Ed+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ble.test(a))cO(o,a);else throw Error(Ed+a)}if(i.prototype=Gt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=rB,i.config=i.set=zle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zle(t){if(!t||typeof t!="object")throw Error(wl+"Object expected");var e,n,r,i=["precision",1,Rg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ig(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ed+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ed+n+": "+r);return this}var CP=rB(Ule);Cs=new CP(1);const wr=CP;function jle(t){return Vle(t)||Gle(t)||Wle(t)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wle(t,e){if(t){if(typeof t=="string")return WM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WM(t,e)}}function Gle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vle(t){if(Array.isArray(t))return WM(t)}function WM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $le=function(e){return e},iB={"@@functional/placeholder":!0},aB=function(e){return e===iB},hO=function(e){return function n(){return arguments.length===0||arguments.length===1&&aB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},qle=function t(e,n){return e===1?n:hO(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==iB}).length;return o>=e?n.apply(void 0,i):t(e-o,hO(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return aB(f)?l.shift():f});return n.apply(void 0,jle(c).concat(l))}))})},iw=function(e){return qle(e.length,e)},GM=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Xle=iw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Yle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return $le;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},VM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Kle(t){var e;return t===0?e=1:e=Math.floor(new wr(t).abs().log(10).toNumber())+1,e}function Zle(t,e,n){for(var r=new wr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Jle=iw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Qle=iw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),eue=iw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const aw={rangeStep:Zle,getDigitCount:Kle,interpolateNumber:Jle,uninterpolateNumber:Qle,uninterpolateTruncation:eue};function $M(t){return rue(t)||nue(t)||sB(t)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rue(t){if(Array.isArray(t))return qM(t)}function Y0(t,e){return oue(t)||aue(t,e)||sB(t,e)||iue()}function iue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(t,e){if(t){if(typeof t=="string")return qM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qM(t,e)}}function qM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aue(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function oue(t){if(Array.isArray(t))return t}function lB(t){var e=Y0(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function uB(t,e,n){if(t.lte(0))return new wr(0);var r=aw.getDigitCount(t.toNumber()),i=new wr(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new wr(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new wr(Math.ceil(l))}function sue(t,e,n){var r=1,i=new wr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new wr(10).pow(aw.getDigitCount(t)-1),i=new wr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new wr(Math.floor(t)))}else t===0?i=new wr(Math.floor((e-1)/2)):n||(i=new wr(Math.floor(t)));var o=Math.floor((e-1)/2),s=Yle(Xle(function(l){return i.add(new wr(l-o).mul(r)).toNumber()}),GM);return s(0,e)}function cB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new wr(0),tickMin:new wr(0),tickMax:new wr(0)};var a=uB(new wr(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new wr(0):(o=new wr(t).add(e).div(2),o=o.sub(new wr(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new wr(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?cB(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new wr(s).mul(a)),tickMax:o.add(new wr(l).mul(a))})}function lue(t){var e=Y0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=lB([n,r]),l=Y0(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat($M(GM(0,i-1).map(function(){return 1/0}))):[].concat($M(GM(0,i-1).map(function(){return-1/0})),[c]);return n>r?VM(f):f}if(u===c)return sue(u,i,a);var h=cB(u,c,o,a),d=h.step,m=h.tickMin,x=h.tickMax,y=aw.rangeStep(m,x.add(new wr(.1).mul(d)),d);return n>r?VM(y):y}function uue(t,e){var n=Y0(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=lB([r,i]),s=Y0(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=uB(new wr(u).sub(l).div(c-1),a,0),h=[].concat($M(aw.rangeStep(new wr(l),new wr(u).sub(new wr(.99).mul(f)),f)),[u]);return r>i?VM(h):h}var cue=oB(lue),fue=oB(uue),hue="Invariant failed";function Gd(t,e){throw new Error(hue)}var due=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(this,arguments)}function pue(t,e){return yue(t)||vue(t,e)||gue(t,e)||mue()}function mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(t,e){if(t){if(typeof t=="string")return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(t,e)}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yue(t){if(Array.isArray(t))return t}function xue(t,e){if(t==null)return{};var n=bue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dB(r.key),r)}}function Sue(t,e,n){return e&&wue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aue(t,e,n){return e=Nb(e),Mue(t,fB()?Reflect.construct(e,n||[],Nb(t).constructor):e.apply(t,n))}function Mue(t,e){if(e&&(ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eue(t)}function Eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fB=function(){return!!t})()}function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nb(t)}function Tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XM(t,e)}function XM(t,e){return XM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XM(t,e)}function hB(t,e,n){return e=dB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dB(t){var e=Pue(t,"string");return ng(e)=="symbol"?e:e+""}function Pue(t,e){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n1=function(t){function e(){return _ue(this,e),Aue(this,e,arguments)}return Tue(e,t),Sue(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=xue(r,due),d=jn(h,!1);this.props.direction==="x"&&c.type!=="number"&&Gd();var m=l.map(function(x){var y=u(x,s),g=y.x,_=y.y,b=y.value,S=y.errorVal;if(!S)return null;var A=[],E,M;if(Array.isArray(S)){var P=pue(S,2);E=P[0],M=P[1]}else E=M=S;if(a==="vertical"){var D=c.scale,N=_+i,C=N+o,O=N-o,j=D(b-E),F=D(b+M);A.push({x1:F,y1:C,x2:F,y2:O}),A.push({x1:j,y1:N,x2:F,y2:N}),A.push({x1:j,y1:C,x2:j,y2:O})}else if(a==="horizontal"){var Z=f.scale,H=g+i,q=H-o,B=H+o,z=Z(b-E),$=Z(b+M);A.push({x1:q,y1:$,x2:B,y2:$}),A.push({x1:H,y1:z,x2:H,y2:$}),A.push({x1:q,y1:z,x2:B,y2:z})}return De.createElement(Hi,Lb({className:"recharts-errorBar",key:"bar-".concat(A.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},d),A.map(function(X){return De.createElement("line",Lb({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return De.createElement(Hi,{className:"recharts-errorBars"},m)}}])}(De.Component);hB(n1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hB(n1,"displayName","ErrorBar");function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){Cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cue(t,e,n){return e=Lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Nue(t,"string");return K0(e)=="symbol"?e:e+""}function Nue(t,e){if(K0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ps(n,Ad);if(!o)return null;var s=Ad.defaultProps,l=s!==void 0?kh(kh({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,d=f.props,m=d.sectors||d.data||[];return c.concat(m.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,d=h!==void 0?kh(kh({},h),f.props):{},m=d.dataKey,x=d.name,y=d.legendType,g=d.hide;return{inactive:g,dataKey:m,type:l.iconType||y||"square",color:LP(f),value:x||m,payload:d}}),kh(kh(kh({},l),Ad.getWithHeight(o,i)),{},{payload:u,item:o})};function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function mO(t){return kue(t)||Iue(t)||Rue(t)||Oue()}function Oue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(t,e){if(t){if(typeof t=="string")return YM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YM(t,e)}}function Iue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kue(t){if(Array.isArray(t))return YM(t)}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Um(t,e,n){return e=Due(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Due(t){var e=Fue(t,"string");return Z0(e)=="symbol"?e:e+""}function Fue(t,e){if(Z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fs(t,e,n){return Fn(t)||Fn(e)?n:pa(e)?yl(t,e,n):Ln(e)?e(t):n}function r0(t,e,n,r){var i=Ile(t,function(s){return Fs(s,e)});if(n==="number"){var a=i.filter(function(s){return Dt(s)||parseFloat(s)});return a.length?[nw(a),tw(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Fn(s)}):i;return o.map(function(s){return pa(s)||s instanceof Date?s:""})}var Uue=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,d=void 0;if(tu(f-c)!==tu(h-f)){var m=[];if(tu(h-f)===tu(l[1]-l[0])){d=h;var x=f+l[1]-l[0];m[0]=Math.min(x,(x+c)/2),m[1]=Math.max(x,(x+c)/2)}else{d=c;var y=h+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var g=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){o=i[u].index;break}}else{var _=Math.min(c,h),b=Math.max(c,h);if(e>(_+f)/2&&e<=(b+f)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},LP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Pi(Pi({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},Bue=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,d=f.length;h<d;h++){var m=c[f[h]],x=m.items,y=m.cateAxisId,g=x.filter(function(M){return Ec(M.type).indexOf("Bar")>=0});if(g&&g.length){var _=g[0].type.defaultProps,b=_!==void 0?Pi(Pi({},_),g[0].props):g[0].props,S=b.barSize,A=b[y];o[A]||(o[A]=[]);var E=Fn(S)?n:S;o[A].push({item:g[0],stackList:g.slice(1),barSize:Fn(E)?void 0:Hd(E,r,0)})}}return o},zue=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Hd(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=i/l,m=o.reduce(function(S,A){return S+A.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&d>0&&(h=!0,d*=.9,m=l*d);var x=(i-m)/2>>0,y={offset:x-u,size:0};c=o.reduce(function(S,A){var E={item:A.item,position:{offset:y.offset+y.size+u,size:h?d:A.barSize}},M=[].concat(mO(S),[E]);return y=M[M.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(P){M.push({item:P,position:y})}),M},f)}else{var g=Hd(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var _=(i-2*g-(l-1)*u)/l;_>1&&(_>>=0);var b=s===+s?Math.min(_,s):_;c=o.reduce(function(S,A,E){var M=[].concat(mO(S),[{item:A.item,position:{offset:g+(_+u)*E+(_-b)/2,size:b}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(P){M.push({item:P,position:M[M.length-1].position})}),M},f)}return c},jue=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=pB({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,d=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&d!=="center"&&Dt(e[d]))return Pi(Pi({},e),{},Um({},d,e[d]+(f||0)));if((x==="horizontal"||x==="vertical"&&d==="center")&&m!=="middle"&&Dt(e[m]))return Pi(Pi({},e),{},Um({},m,e[m]+(h||0)))}return e},Hue=function(e,n,r){return Fn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},mB=function(e,n,r,i,a){var o=n.props.children,s=xl(o,n1).filter(function(u){return Hue(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Fs(c,r);if(Fn(f))return u;var h=Array.isArray(f)?[nw(f),tw(f)]:[f,f],d=l.reduce(function(m,x){var y=Fs(c,x,0),g=h[0]-Math.abs(Array.isArray(y)?y[0]:y),_=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(g,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0])}return null},Wue=function(e,n,r,i,a){var o=n.map(function(s){return mB(e,s,r,a,i)}).filter(function(s){return!Fn(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},gB=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&mB(e,l,u,i)||r0(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},vB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},yB=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},wc=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?tu(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Yy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},e5=new WeakMap,n2=function(e,n){if(typeof n!="function")return e;e5.has(e)||e5.set(e,new WeakMap);var r=e5.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Gue=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:W0(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Mb(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:n0(),realScaleType:"point"}:a==="category"?{scale:W0(),realScaleType:"band"}:{scale:Mb(),realScaleType:"linear"};if(Xy(i)){var l="scale".concat(H_(i));return{scale:(uO[l]||n0)(),realScaleType:uO[l]?l:"point"}}return Ln(i)?{scale:i}:{scale:n0(),realScaleType:"point"}},vO=1e-4,Vue=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-vO,o=Math.max(i[0],i[1])+vO,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},$ue=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},que=function(e,n){if(!n||n.length!==2||!Dt(n[0])||!Dt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Dt(e[0])||e[0]<r)&&(a[0]=r),(!Dt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Xue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Yy(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},Yue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Yy(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Kue={sign:Xue,expand:cK,none:Xm,silhouette:fK,wiggle:hK,positive:Yue},Zue=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Kue[r],o=uK().keys(i).value(function(s,l){return+Fs(s,l,0)}).order(bM).offset(a);return o(e)},Jue=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var d,m=(d=h.type)!==null&&d!==void 0&&d.defaultProps?Pi(Pi({},h.type.defaultProps),h.props):h.props,x=m.stackId,y=m.hide;if(y)return f;var g=m[r],_=f[g]||{hasStack:!1,stackGroups:{}};if(pa(x)){var b=_.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),_.hasStack=!0,_.stackGroups[x]=b}else _.stackGroups[Ky("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Pi(Pi({},f),{},Um({},g,_))},l),c={};return Object.keys(u).reduce(function(f,h){var d=u[h];if(d.hasStack){var m={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(x,y){var g=d.stackGroups[y];return Pi(Pi({},x),{},Um({},y,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:Zue(e,g.items,a)}))},m)}return Pi(Pi({},f),{},Um({},h,d))},c)},Que=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=cue(u,a,s);return e.domain([nw(c),tw(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=fue(f,a,s);return{niceTicks:h}}return null};function yO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Fn(i[e.dataKey])){var s=nb(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Fs(i,Fn(o)?e.dataKey:o);return Fn(l)?null:e.scale(l)}var xO=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Fs(o,n.dataKey,n.domain[s]);return Fn(l)?null:n.scale(l)-a/2+i},ece=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},tce=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Pi(Pi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(pa(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},nce=function(e){return e.reduce(function(n,r){return[nw(r.concat([n[0]]).filter(Dt)),tw(r.concat([n[1]]).filter(Dt))]},[1/0,-1/0])},xB=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=nce(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_O=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KM=function(e,n,r){if(Ln(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Dt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(bO.test(e[0])){var a=+bO.exec(e[0])[1];i[0]=n[0]-a}else Ln(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Dt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(_O.test(e[1])){var o=+_O.exec(e[1])[1];i[1]=n[1]+o}else Ln(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ob=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=iP(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},wO=function(e,n,r){return!e||!e.length||rw(e,yl(r,"type.defaultProps.domain"))?n:e},bB=function(e,n){var r=e.type.defaultProps?Pi(Pi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Pi(Pi({},jn(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:LP(e),value:Fs(n,i),type:l,payload:n,chartType:u,hide:c})};function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){rce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rce(t,e,n){return e=ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ice(t){var e=ace(t,"string");return J0(e)=="symbol"?e:e+""}function ace(t,e){if(J0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(J0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rb=Math.PI/180,oce=function(e){return e*180/Math.PI},Ka=function(e,n,r,i){return{x:e+Math.cos(-Rb*i)*r,y:n+Math.sin(-Rb*i)*r}},sce=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},lce=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=sce({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:oce(u),angleInRadian:u}},uce=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},cce=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},MO=function(e,n){var r=e.x,i=e.y,a=lce({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=uce(n),f=c.startAngle,h=c.endAngle,d=s,m;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;m=d>=h&&d<=f}return m?AO(AO({},n),{},{radius:o,angle:cce(d,n)}):null};function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}var fce=["offset"];function hce(t){return gce(t)||mce(t)||pce(t)||dce()}function dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pce(t,e){if(t){if(typeof t=="string")return ZM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZM(t,e)}}function mce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gce(t){if(Array.isArray(t))return ZM(t)}function ZM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vce(t,e){if(t==null)return{};var n=yce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xce(t,e,n){return e=bce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=_ce(t,"string");return Q0(e)=="symbol"?e:e+""}function _ce(t,e){if(Q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}var wce=function(e){var n=e.value,r=e.formatter,i=Fn(e.children)?n:e.children;return Ln(r)?r(i):i},Sce=function(e,n){var r=tu(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ace=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,m=l.endAngle,x=l.clockWise,y=(f+h)/2,g=Sce(d,m),_=g>=0?1:-1,b,S;i==="insideStart"?(b=d+_*o,S=x):i==="insideEnd"?(b=m-_*o,S=!x):i==="end"&&(b=m+_*o,S=x),S=g<=0?S:!S;var A=Ka(u,c,y,b),E=Ka(u,c,y,b+(S?1:-1)*359),M="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),P=Fn(e.id)?Ky("recharts-radial-line-"):e.id;return De.createElement("text",ey({},r,{dominantBaseline:"central",className:Qn("recharts-radial-bar-label",s)}),De.createElement("defs",null,De.createElement("path",{id:P,d:M})),De.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Mce=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var d=Ka(o,s,u+r,h),m=d.x,x=d.y;return{x:m,y:x,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,g=Ka(o,s,y,h),_=g.x,b=g.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Ece=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,d=f>0?"end":"start",m=f>0?"start":"end",x=u>=0?1:-1,y=x*i,g=x>0?"end":"start",_=x>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:d};return ca(ca({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:m};return ca(ca({},S),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var A={x:s-y,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return ca(ca({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(a==="right"){var E={x:s+u+y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return ca(ca({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var M=r?{width:u,height:c}:{};return a==="insideLeft"?ca({x:s+y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},M):a==="insideRight"?ca({x:s+u-y,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},M):a==="insideTop"?ca({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},M):a==="insideBottom"?ca({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:d},M):a==="insideTopLeft"?ca({x:s+y,y:l+h,textAnchor:_,verticalAnchor:m},M):a==="insideTopRight"?ca({x:s+u-y,y:l+h,textAnchor:g,verticalAnchor:m},M):a==="insideBottomLeft"?ca({x:s+y,y:l+c-h,textAnchor:_,verticalAnchor:d},M):a==="insideBottomRight"?ca({x:s+u-y,y:l+c-h,textAnchor:g,verticalAnchor:d},M):Mg(a)&&(Dt(a.x)||hd(a.x))&&(Dt(a.y)||hd(a.y))?ca({x:s+Hd(a.x,u),y:l+Hd(a.y,c),textAnchor:"end",verticalAnchor:"end"},M):ca({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Tce=function(e){return"cx"in e&&Dt(e.cx)};function xo(t){var e=t.offset,n=e===void 0?5:e,r=vce(t,fce),i=ca({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||Fn(s)&&Fn(l)&&!je.isValidElement(u)&&!Ln(u))return null;if(je.isValidElement(u))return je.cloneElement(u,i);var d;if(Ln(u)){if(d=je.createElement(u,i),je.isValidElement(d))return d}else d=wce(i);var m=Tce(a),x=jn(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Ace(i,d,x);var y=m?Mce(i):Ece(i);return De.createElement(yb,ey({className:Qn("recharts-label",f)},x,y,{breakAll:h}),d)}xo.displayName="Label";var _B=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,d=e.top,m=e.left,x=e.width,y=e.height,g=e.clockWise,_=e.labelViewBox;if(_)return _;if(Dt(x)&&Dt(y)){if(Dt(f)&&Dt(h))return{x:f,y:h,width:x,height:y};if(Dt(d)&&Dt(m))return{x:d,y:m,width:x,height:y}}return Dt(f)&&Dt(h)?{x:f,y:h,width:0,height:0}:Dt(n)&&Dt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:g}:e.viewBox?e.viewBox:{}},Pce=function(e,n){return e?e===!0?De.createElement(xo,{key:"label-implicit",viewBox:n}):pa(e)?De.createElement(xo,{key:"label-implicit",viewBox:n,value:e}):je.isValidElement(e)?e.type===xo?je.cloneElement(e,{key:"label-implicit",viewBox:n}):De.createElement(xo,{key:"label-implicit",content:e,viewBox:n}):Ln(e)?De.createElement(xo,{key:"label-implicit",content:e,viewBox:n}):Mg(e)?De.createElement(xo,ey({viewBox:n},e,{key:"label-implicit"})):null:null},Cce=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=_B(e),o=xl(i,xo).map(function(l,u){return je.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Pce(e.label,n||a);return[s].concat(hce(o))};xo.parseViewBox=_B;xo.renderCallByParent=Cce;function Lce(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Nce=Lce;const Oce=Ar(Nce);function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}var Rce=["valueAccessor"],Ice=["data","dataKey","clockWise","id","textBreakAll"];function kce(t){return Bce(t)||Uce(t)||Fce(t)||Dce()}function Dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fce(t,e){if(t){if(typeof t=="string")return JM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JM(t,e)}}function Uce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bce(t){if(Array.isArray(t))return JM(t)}function JM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(this,arguments)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){zce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zce(t,e,n){return e=jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jce(t){var e=Hce(t,"string");return ty(e)=="symbol"?e:e+""}function Hce(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CO(t,e){if(t==null)return{};var n=Wce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Gce=function(e){return Array.isArray(e.value)?Oce(e.value):e.value};function Qf(t){var e=t.valueAccessor,n=e===void 0?Gce:e,r=CO(t,Rce),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=CO(r,Ice);return!i||!i.length?null:De.createElement(Hi,{className:"recharts-label-list"},i.map(function(c,f){var h=Fn(a)?n(c,f):Fs(c&&c.payload,a),d=Fn(s)?{}:{id:"".concat(s,"-").concat(f)};return De.createElement(xo,Ib({},jn(c,!0),u,d,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:xo.parseViewBox(Fn(o)?c:PO(PO({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Qf.displayName="LabelList";function Vce(t,e){return t?t===!0?De.createElement(Qf,{key:"labelList-implicit",data:e}):De.isValidElement(t)||Ln(t)?De.createElement(Qf,{key:"labelList-implicit",data:e,content:t}):Mg(t)?De.createElement(Qf,Ib({data:e},t,{key:"labelList-implicit"})):null:null}function $ce(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=xl(r,Qf).map(function(o,s){return je.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Vce(t.label,e);return[a].concat(kce(i))}Qf.renderCallByParent=$ce;function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function QM(){return QM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QM.apply(this,arguments)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return e=Xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t){var e=Yce(t,"string");return ny(e)=="symbol"?e:e+""}function Yce(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kce=function(e,n){var r=tu(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},r2=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Rb,h=u?a:a+o*f,d=Ka(n,r,c,h),m=Ka(n,r,i,h),x=u?a-o*f:a,y=Ka(n,r,c*Math.cos(f*Rb),x);return{center:d,circleTangency:m,lineTangency:y,theta:f}},wB=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Kce(o,s),u=o+l,c=Ka(n,r,a,o),f=Ka(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var d=Ka(n,r,i,o),m=Ka(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Zce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=tu(c-u),h=r2({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),d=h.circleTangency,m=h.lineTangency,x=h.theta,y=r2({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),g=y.circleTangency,_=y.lineTangency,b=y.theta,S=l?Math.abs(u-c):Math.abs(u-c)-x-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):wB({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var A="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var E=r2({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),M=E.circleTangency,P=E.lineTangency,D=E.theta,N=r2({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=N.circleTangency,O=N.lineTangency,j=N.theta,F=l?Math.abs(u-c):Math.abs(u-c)-D-j;if(F<0&&o===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},Jce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SB=function(e){var n=NO(NO({},Jce),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var d=Qn("recharts-sector",h),m=o-a,x=Hd(s,m,0,!0),y;return x>0&&Math.abs(c-f)<360?y=Zce({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=wB({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),De.createElement("path",QM({},jn(n,!0),{className:d,d:y,role:"img"}))};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(this,arguments)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){Qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qce(t,e,n){return e=efe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return ry(e)=="symbol"?e:e+""}function tfe(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IO={curveBasisClosed:JY,curveBasisOpen:QY,curveBasis:ZY,curveBumpX:FY,curveBumpY:UY,curveLinearClosed:eK,curveLinear:G_,curveMonotoneX:tK,curveMonotoneY:nK,curveNatural:rK,curveStep:iK,curveStepAfter:oK,curveStepBefore:aK},i2=function(e){return e.x===+e.x&&e.y===+e.y},bv=function(e){return e.x},_v=function(e){return e.y},nfe=function(e,n){if(Ln(e))return e;var r="curve".concat(H_(e));return(r==="curveMonotone"||r==="curveBump")&&n?IO["".concat(r).concat(n==="vertical"?"Y":"X")]:IO[r]||G_},rfe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=nfe(r,s),f=u?a.filter(function(x){return i2(x)}):a,h;if(Array.isArray(o)){var d=u?o.filter(function(x){return i2(x)}):o,m=f.map(function(x,y){return RO(RO({},x),{},{base:d[y]})});return s==="vertical"?h=X1().y(_v).x1(bv).x0(function(x){return x.base.x}):h=X1().x(bv).y1(_v).y0(function(x){return x.base.y}),h.defined(i2).curve(c),h(m)}return s==="vertical"&&Dt(o)?h=X1().y(_v).x1(bv).x0(o):Dt(o)?h=X1().x(bv).y1(_v).y0(o):h=S8().x(bv).y(_v),h.defined(i2).curve(c),h(f)},tE=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?rfe(e):i;return De.createElement("path",eE({},jn(e,!1),rb(e),{className:Qn("recharts-curve",n),d:o,ref:a}))},AB={exports:{}},ife="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",afe=ife,ofe=afe;function MB(){}function EB(){}EB.resetWarningCache=MB;var sfe=function(){function t(r,i,a,o,s,l){if(l!==ofe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EB,resetWarningCache:MB};return n.PropTypes=n,n};AB.exports=sfe();var lfe=AB.exports;const hr=Ar(lfe);var ufe=Object.getOwnPropertyNames,cfe=Object.getOwnPropertySymbols,ffe=Object.prototype.hasOwnProperty;function kO(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function a2(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function DO(t){return ufe(t).concat(cfe(t))}var hfe=Object.hasOwn||function(t,e){return ffe.call(t,e)};function tp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var dfe="__v",pfe="__o",mfe="_owner",FO=Object.getOwnPropertyDescriptor,UO=Object.keys;function gfe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function vfe(t,e){return tp(t.getTime(),e.getTime())}function yfe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function xfe(t,e){return t===e}function BO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,d=s.value;if(n.equals(h[0],d[0],l,f,t,e,n)&&n.equals(h[1],d[1],h[0],d[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var bfe=tp;function _fe(t,e,n){var r=UO(t),i=r.length;if(UO(e).length!==i)return!1;for(;i-- >0;)if(!TB(t,e,n,r[i]))return!1;return!0}function wv(t,e,n){var r=DO(t),i=r.length;if(DO(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!TB(t,e,n,a)||(o=FO(t,a),s=FO(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function wfe(t,e){return tp(t.valueOf(),e.valueOf())}function Sfe(t,e){return t.source===e.source&&t.flags===e.flags}function zO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Afe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Mfe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function TB(t,e,n,r){return(r===mfe||r===pfe||r===dfe)&&(t.$$typeof||e.$$typeof)?!0:hfe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Efe="[object Arguments]",Tfe="[object Boolean]",Pfe="[object Date]",Cfe="[object Error]",Lfe="[object Map]",Nfe="[object Number]",Ofe="[object Object]",Rfe="[object RegExp]",Ife="[object Set]",kfe="[object String]",Dfe="[object URL]",Ffe=Array.isArray,jO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,HO=Object.assign,Ufe=Object.prototype.toString.call.bind(Object.prototype.toString);function Bfe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,x,y){if(m===x)return!0;if(m==null||x==null)return!1;var g=typeof m;if(g!==typeof x)return!1;if(g!=="object")return g==="number"?o(m,x,y):g==="function"?i(m,x,y):!1;var _=m.constructor;if(_!==x.constructor)return!1;if(_===Object)return s(m,x,y);if(Ffe(m))return e(m,x,y);if(jO!=null&&jO(m))return f(m,x,y);if(_===Date)return n(m,x,y);if(_===RegExp)return u(m,x,y);if(_===Map)return a(m,x,y);if(_===Set)return c(m,x,y);var b=Ufe(m);return b===Pfe?n(m,x,y):b===Rfe?u(m,x,y):b===Lfe?a(m,x,y):b===Ife?c(m,x,y):b===Ofe?typeof m.then!="function"&&typeof x.then!="function"&&s(m,x,y):b===Dfe?h(m,x,y):b===Cfe?r(m,x,y):b===Efe?s(m,x,y):b===Tfe||b===Nfe||b===kfe?l(m,x,y):!1}}function zfe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?wv:gfe,areDatesEqual:vfe,areErrorsEqual:yfe,areFunctionsEqual:xfe,areMapsEqual:r?kO(BO,wv):BO,areNumbersEqual:bfe,areObjectsEqual:r?wv:_fe,arePrimitiveWrappersEqual:wfe,areRegExpsEqual:Sfe,areSetsEqual:r?kO(zO,wv):zO,areTypedArraysEqual:r?wv:Afe,areUrlsEqual:Mfe};if(n&&(i=HO({},i,n(i))),e){var a=a2(i.areArraysEqual),o=a2(i.areMapsEqual),s=a2(i.areObjectsEqual),l=a2(i.areSetsEqual);i=HO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function jfe(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Hfe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,d=c.meta;return n(l,u,{cache:h,equals:i,meta:d,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Wfe=yh();yh({strict:!0});yh({circular:!0});yh({circular:!0,strict:!0});yh({createInternalComparator:function(){return tp}});yh({strict:!0,createInternalComparator:function(){return tp}});yh({circular:!0,createInternalComparator:function(){return tp}});yh({circular:!0,createInternalComparator:function(){return tp},strict:!0});function yh(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=zfe(t),l=Bfe(s),u=r?r(l):jfe(l);return Hfe({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Gfe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function WO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Gfe(i)};requestAnimationFrame(r)}function nE(t){"@babel/helpers - typeof";return nE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nE(t)}function Vfe(t){return Yfe(t)||Xfe(t)||qfe(t)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qfe(t,e){if(t){if(typeof t=="string")return GO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yfe(t){if(Array.isArray(t))return t}function Kfe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Vfe(o),l=s[0],u=s.slice(1);if(typeof l=="number"){WO(i.bind(null,u),l);return}i(l),WO(i.bind(null,u));return}nE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){PB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PB(t,e,n){return e=Zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=Jfe(t,"string");return iy(e)==="symbol"?e:String(e)}function Jfe(t,e){if(iy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qfe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},ehe=function(e){return e},the=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},i0=function(e,n){return Object.keys(n).reduce(function(r,i){return $O($O({},r),{},PB({},i,e(i,n[i])))},{})},qO=function(e,n,r){return e.map(function(i){return"".concat(the(i)," ").concat(n,"ms ").concat(r)}).join(",")};function nhe(t,e){return ahe(t)||ihe(t,e)||CB(t,e)||rhe()}function rhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ahe(t){if(Array.isArray(t))return t}function ohe(t){return uhe(t)||lhe(t)||CB(t)||she()}function she(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CB(t,e){if(t){if(typeof t=="string")return rE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rE(t,e)}}function lhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uhe(t){if(Array.isArray(t))return rE(t)}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kb=1e-4,LB=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},NB=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},XO=function(e,n){return function(r){var i=LB(e,n);return NB(i,r)}},che=function(e,n){return function(r){var i=LB(e,n),a=[].concat(ohe(i.map(function(o,s){return o*s}).slice(1)),[0]);return NB(a,r)}},YO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=nhe(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=XO(i,o),h=XO(a,s),d=che(i,o),m=function(g){return g>1?1:g<0?0:g},x=function(g){for(var _=g>1?1:g,b=_,S=0;S<8;++S){var A=f(b)-_,E=d(b);if(Math.abs(A-_)<kb||E<kb)return h(b);b=m(b-A/E)}return h(b)};return x.isStepper=!1,x},fhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var d=-(c-f)*r,m=h*a,x=h+(d-m)*s/1e3,y=h*s/1e3+c;return Math.abs(y-f)<kb&&Math.abs(x)<kb?[f,0]:[y,x]};return l.isStepper=!0,l.dt=s,l},hhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YO(i);case"spring":return fhe();default:if(i.split("(")[0]==="cubic-bezier")return YO(i)}return typeof i=="function"?i:null};function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function KO(t){return mhe(t)||phe(t)||OB(t)||dhe()}function dhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function phe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mhe(t){if(Array.isArray(t))return aE(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){iE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iE(t,e,n){return e=ghe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ghe(t){var e=vhe(t,"string");return ay(e)==="symbol"?e:String(e)}function vhe(t,e){if(ay(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ay(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yhe(t,e){return _he(t)||bhe(t,e)||OB(t,e)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OB(t,e){if(t){if(typeof t=="string")return aE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(t,e)}}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _he(t){if(Array.isArray(t))return t}var Db=function(e,n,r){return e+(n-e)*r},oE=function(e){var n=e.from,r=e.to;return n!==r},whe=function t(e,n,r){var i=i0(function(a,o){if(oE(o)){var s=e(o.from,o.to,o.velocity),l=yhe(s,2),u=l[0],c=l[1];return Xa(Xa({},o),{},{from:u,velocity:c})}return o},n);return r<1?i0(function(a,o){return oE(o)?Xa(Xa({},o),{},{velocity:Db(o.velocity,i[a].velocity,r),from:Db(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const She=function(t,e,n,r,i){var a=Qfe(t,e),o=a.reduce(function(y,g){return Xa(Xa({},y),{},iE({},g,[t[g],e[g]]))},{}),s=a.reduce(function(y,g){return Xa(Xa({},y),{},iE({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return i0(function(g,_){return _.from},s)},d=function(){return!Object.values(s).filter(oE).length},m=function(g){u||(u=g);var _=g-u,b=_/n.dt;s=whe(n,s,b),i(Xa(Xa(Xa({},t),e),h())),u=g,d()||(l=requestAnimationFrame(f))},x=function(g){c||(c=g);var _=(g-c)/r,b=i0(function(A,E){return Db.apply(void 0,KO(E).concat([n(_)]))},o);if(i(Xa(Xa(Xa({},t),e),b)),_<1)l=requestAnimationFrame(f);else{var S=i0(function(A,E){return Db.apply(void 0,KO(E).concat([n(1)]))},o);i(Xa(Xa(Xa({},t),e),S))}};return f=n.isStepper?m:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}var Ahe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Mhe(t,e){if(t==null)return{};var n=Ehe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ehe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function t5(t){return Lhe(t)||Che(t)||Phe(t)||The()}function The(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Phe(t,e){if(t){if(typeof t=="string")return sE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sE(t,e)}}function Che(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lhe(t){if(Array.isArray(t))return sE(t)}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){Gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gv(t,e,n){return e=RB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ohe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RB(r.key),r)}}function Rhe(t,e,n){return e&&Ohe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RB(t){var e=Ihe(t,"string");return rg(e)==="symbol"?e:String(e)}function Ihe(t,e){if(rg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function Dhe(t){var e=Fhe();return function(){var r=Fb(t),i;if(e){var a=Fb(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return uE(this,i)}}function uE(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cE(t)}function cE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fb(t){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fb(t)}var Uc=function(t){khe(n,t);var e=Dhe(n);function n(r,i){var a;Nhe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,d=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(cE(a)),a.changeStyle=a.changeStyle.bind(cE(a)),!s||d<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),uE(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},uE(a);a.state={style:l?Gv({},l,u):u}}else a.state={style:{}};return a}return Rhe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var d={style:l?Gv({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(d);return}if(!(Wfe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?f:i.to;if(this.state&&h){var y={style:l?Gv({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(y)}this.runAnimation(Ul(Ul({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,d=She(o,s,hhe(u),l,this.changeStyle),m=function(){a.stopJSAnimation=d()};this.manager.start([h,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,d=function(x,y,g){if(g===0)return x;var _=y.duration,b=y.easing,S=b===void 0?"ease":b,A=y.style,E=y.properties,M=y.onAnimationEnd,P=g>0?o[g-1]:y,D=E||Object.keys(A);if(typeof S=="function"||S==="spring")return[].concat(t5(x),[a.runJSAnimation.bind(a,{from:P.style,to:A,duration:_,easing:S}),_]);var N=qO(D,_,S),C=Ul(Ul(Ul({},P.style),A),{},{transition:N});return[].concat(t5(x),[C,_,M]).filter(ehe)};return this.manager.start([l].concat(t5(o.reduce(d,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Kfe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,d=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof d=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=s?Gv({},s,l):l,y=qO(Object.keys(x),o,u);m.start([c,a,Ul(Ul({},x),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Mhe(i,Ahe),u=je.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(d){var m=d.props,x=m.style,y=x===void 0?{}:x,g=m.className,_=je.cloneElement(d,Ul(Ul({},l),{},{style:Ul(Ul({},y),c),className:g}));return _};return u===1?f(je.Children.only(a)):De.createElement("div",null,je.Children.map(a,function(h){return f(h)}))}}]),n}(je.PureComponent);Uc.displayName="Animate";Uc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Uc.propTypes={from:hr.oneOfType([hr.object,hr.string]),to:hr.oneOfType([hr.object,hr.string]),attributeName:hr.string,duration:hr.number,begin:hr.number,easing:hr.oneOfType([hr.string,hr.func]),steps:hr.arrayOf(hr.shape({duration:hr.number.isRequired,style:hr.object.isRequired,easing:hr.oneOfType([hr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),hr.func]),properties:hr.arrayOf("string"),onAnimationEnd:hr.func})),children:hr.oneOfType([hr.node,hr.func]),isActive:hr.bool,canBegin:hr.bool,onAnimationEnd:hr.func,shouldReAnimate:hr.bool,onAnimationStart:hr.func,onAnimationReStart:hr.func};function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(this,arguments)}function Uhe(t,e){return Hhe(t)||jhe(t,e)||zhe(t,e)||Bhe()}function Bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(t,e){if(t){if(typeof t=="string")return QO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QO(t,e)}}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hhe(t){if(Array.isArray(t))return t}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){Whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e,n){return e=Ghe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ghe(t){var e=Vhe(t,"string");return oy(e)=="symbol"?e:e+""}function Vhe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nR=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},$he=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},qhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NP=function(e){var n=tR(tR({},qhe),e),r=je.useRef(),i=je.useState(-1),a=Uhe(i,2),o=a[0],s=a[1];je.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,d=n.className,m=n.animationEasing,x=n.animationDuration,y=n.animationBegin,g=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var b=Qn("recharts-rectangle",d);return _?De.createElement(Uc,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:x,animationEasing:m,isActive:_},function(S){var A=S.width,E=S.height,M=S.x,P=S.y;return De.createElement(Uc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:g,easing:m},De.createElement("path",Bb({},jn(n,!0),{className:b,d:nR(M,P,A,E,h),ref:r})))}):De.createElement("path",Bb({},jn(n,!0),{className:b,d:nR(l,u,c,f,h)}))};function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(this,arguments)}var OP=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Qn("recharts-dot",a);return n===+n&&r===+r&&i===+i?De.createElement("circle",fE({},jn(e,!1),rb(e),{className:o,cx:n,cy:r,r:i})):null};function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}var Xhe=["x","y","top","left","width","height","className"];function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(this,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return e=Zhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=Jhe(t,"string");return sy(e)=="symbol"?e:e+""}function Jhe(t,e){if(sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qhe(t,e){if(t==null)return{};var n=ede(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ede(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tde=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},nde=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,d=h===void 0?0:h,m=e.className,x=Qhe(e,Xhe),y=Yhe({x:r,y:a,top:s,left:u,width:f,height:d},x);return!Dt(r)||!Dt(a)||!Dt(f)||!Dt(d)||!Dt(s)||!Dt(u)?null:De.createElement("path",hE({},jn(y,!0),{className:Qn("recharts-cross",m),d:tde(r,a,f,d,s,u)}))},rde=q8,ide=rde(Object.getPrototypeOf,Object),ade=ide,ode=Wc,sde=ade,lde=Gc,ude="[object Object]",cde=Function.prototype,fde=Object.prototype,IB=cde.toString,hde=fde.hasOwnProperty,dde=IB.call(Object);function pde(t){if(!lde(t)||ode(t)!=ude)return!1;var e=sde(t);if(e===null)return!0;var n=hde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&IB.call(n)==dde}var mde=pde;const gde=Ar(mde);var vde=Wc,yde=Gc,xde="[object Boolean]";function bde(t){return t===!0||t===!1||yde(t)&&vde(t)==xde}var _de=bde;const wde=Ar(_de);function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function Sde(t,e){return Tde(t)||Ede(t,e)||Mde(t,e)||Ade()}function Ade(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mde(t,e){if(t){if(typeof t=="string")return iR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iR(t,e)}}function iR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ede(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tde(t){if(Array.isArray(t))return t}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pde(t,e,n){return e=Cde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cde(t){var e=Lde(t,"string");return ly(e)=="symbol"?e:e+""}function Lde(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sR=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Nde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ode=function(e){var n=oR(oR({},Nde),e),r=je.useRef(),i=je.useState(-1),a=Sde(i,2),o=a[0],s=a[1];je.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,d=n.className,m=n.animationEasing,x=n.animationDuration,y=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var _=Qn("recharts-trapezoid",d);return g?De.createElement(Uc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:x,animationEasing:m,isActive:g},function(b){var S=b.upperWidth,A=b.lowerWidth,E=b.height,M=b.x,P=b.y;return De.createElement(Uc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:m},De.createElement("path",zb({},jn(n,!0),{className:_,d:sR(M,P,S,A,E),ref:r})))}):De.createElement("g",null,De.createElement("path",zb({},jn(n,!0),{className:_,d:sR(l,u,c,f,h)})))},Rde=["option","shapeType","propTransformer","activeClassName","isActive"];function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function Ide(t,e){if(t==null)return{};var n=kde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){Dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Ude(t,"string");return uy(e)=="symbol"?e:e+""}function Ude(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bde(t,e){return jb(jb({},e),t)}function zde(t,e){return t==="symbols"}function uR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return De.createElement(NP,n);case"trapezoid":return De.createElement(Ode,n);case"sector":return De.createElement(SB,n);case"symbols":if(zde(e))return De.createElement(KT,n);break;default:return null}}function jde(t){return je.isValidElement(t)?t.props:t}function Hde(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Bde:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Ide(t,Rde),u;if(je.isValidElement(e))u=je.cloneElement(e,jb(jb({},l),jde(e)));else if(Ln(e))u=e(l);else if(gde(e)&&!wde(e)){var c=i(e,l);u=De.createElement(uR,{shapeType:n,elementProps:c})}else{var f=l;u=De.createElement(uR,{shapeType:n,elementProps:f})}return s?De.createElement(Hi,{className:o},u):u}function ow(t,e){return e!=null&&"trapezoids"in t.props}function sw(t,e){return e!=null&&"sectors"in t.props}function cy(t,e){return e!=null&&"points"in t.props}function Wde(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Gde(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Vde(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function $de(t,e){var n;return ow(t,e)?n=Wde:sw(t,e)?n=Gde:cy(t,e)&&(n=Vde),n}function qde(t,e){var n;return ow(t,e)?n="trapezoids":sw(t,e)?n="sectors":cy(t,e)&&(n="points"),n}function Xde(t,e){if(ow(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return cy(t,e)?e.payload:{}}function Yde(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=qde(n,e),a=Xde(n,e),o=r.filter(function(l,u){var c=rw(a,l),f=n.props[i].filter(function(m){var x=$de(n,e);return x(m,e)}),h=n.props[i].indexOf(f[f.length-1]),d=u===h;return c&&d}),s=r.indexOf(o[o.length-1]);return s}var Kde=Math.ceil,Zde=Math.max;function Jde(t,e,n,r){for(var i=-1,a=Zde(Kde((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Qde=Jde,epe=hU,cR=1/0,tpe=17976931348623157e292;function npe(t){if(!t)return t===0?t:0;if(t=epe(t),t===cR||t===-cR){var e=t<0?-1:1;return e*tpe}return t===t?t:0}var kB=npe,rpe=Qde,ipe=X_,n5=kB;function ape(t){return function(e,n,r){return r&&typeof r!="number"&&ipe(e,n,r)&&(n=r=void 0),e=n5(e),n===void 0?(n=e,e=0):n=n5(n),r=r===void 0?e<n?1:-1:n5(r),rpe(e,n,r,t)}}var ope=ape,spe=ope,lpe=spe(),upe=lpe;const Hb=Ar(upe);function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){DB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DB(t,e,n){return e=cpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=fpe(t,"string");return fy(e)=="symbol"?e:e+""}function fpe(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hpe=["Webkit","Moz","O","ms"],dpe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=hpe.reduce(function(a,o){return hR(hR({},a),{},DB({},o+r,n))},{});return i[e]=n,i};function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){Es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UB(r.key),r)}}function mpe(t,e,n){return e&&pR(t.prototype,e),n&&pR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=Gb(e),vpe(t,FB()?Reflect.construct(e,n||[],Gb(t).constructor):e.apply(t,n))}function vpe(t,e){if(e&&(ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ype(t)}function ype(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FB=function(){return!!t})()}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(t)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dE(t,e)}function Es(t,e,n){return e=UB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UB(t){var e=bpe(t,"string");return ig(e)=="symbol"?e:e+""}function bpe(t,e){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _pe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=n0().domain(Hb(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},mR=function(e){return e.changedTouches&&!!e.changedTouches.length},ag=function(t){function e(n){var r;return ppe(this,e),r=gpe(this,e,[n]),Es(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Es(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Es(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Es(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Es(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Es(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Es(r,"handleSlideDragStart",function(i){var a=mR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return xpe(e,t),mpe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),d=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:d-d%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Fs(a[r],s,r);return Ln(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,m=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,u+c-f-s,u+c-f-o):x<0&&(x=Math.max(x,u-o,u-s));var y=this.getIndex({startX:o+x,endX:s+x});(y.startIndex!==h||y.endIndex!==d)&&m&&m(y),this.setState({startX:o+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=mR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,d=c.travellerWidth,m=c.onChange,x=c.gap,y=c.data,g={startX:this.state.startX,endX:this.state.endX},_=r.pageX-a;_>0?_=Math.min(_,f+h-d-u):_<0&&(_=Math.max(_,f-u)),g[o]=u+_;var b=this.getIndex(g),S=b.startIndex,A=b.endIndex,E=function(){var P=y.length-1;return o==="startX"&&(s>l?S%x===0:A%x===0)||s<l&&A===P||o==="endX"&&(s>l?A%x===0:S%x===0)||s>l&&A===P};this.setState(Es(Es({},o,u+_),"brushMoveStartX",r.pageX),function(){m&&E()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var d=s[h];i==="startX"&&d>=u||i==="endX"&&d<=l||this.setState(Es({},i,d),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return De.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=je.Children.only(u);return f?De.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,m=l.data,x=l.startIndex,y=l.endIndex,g=Math.max(r,this.props.x),_=r5(r5({},jn(this.props,!1)),{},{x:g,y:u,width:c,height:f}),b=d||"Min value: ".concat((a=m[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return De.createElement(Hi,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return De.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,d=5,m={pointerEvents:"none",fill:u};return De.createElement(Hi,{className:"recharts-brush-texts"},De.createElement(yb,Wb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:o+s/2},m),this.getTextOfTick(i)),De.createElement(yb,Wb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,d=h.startX,m=h.endX,x=h.isTextActive,y=h.isSlideMoving,g=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!Dt(s)||!Dt(l)||!Dt(u)||!Dt(c)||u<=0||c<=0)return null;var b=Qn("recharts-brush",a),S=De.Children.count(o)===1,A=dpe("userSelect","none");return De.createElement(Hi,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(d,m),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(m,"endX"),(x||y||g||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return De.createElement(De.Fragment,null,De.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),De.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),De.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return De.isValidElement(r)?a=De.cloneElement(r,i):Ln(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return r5({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?_pe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(je.PureComponent);Es(ag,"displayName","Brush");Es(ag,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wpe=rP;function Spe(t,e){var n;return wpe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Ape=Spe,Mpe=B8,Epe=mh,Tpe=Ape,Ppe=ls,Cpe=X_;function Lpe(t,e,n){var r=Ppe(t)?Mpe:Tpe;return n&&Cpe(t,e,n)&&(e=void 0),r(t,Epe(e))}var Npe=Lpe;const Ope=Ar(Npe);var ku=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},gR=sU;function Rpe(t,e,n){e=="__proto__"&&gR?gR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ipe=Rpe,kpe=Ipe,Dpe=aU,Fpe=mh;function Upe(t,e){var n={};return e=Fpe(e),Dpe(t,function(r,i,a){kpe(n,i,e(r,i,a))}),n}var Bpe=Upe;const zpe=Ar(Bpe);function jpe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Hpe=jpe,Wpe=rP;function Gpe(t,e){var n=!0;return Wpe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Vpe=Gpe,$pe=Hpe,qpe=Vpe,Xpe=mh,Ype=ls,Kpe=X_;function Zpe(t,e,n){var r=Ype(t)?$pe:qpe;return n&&Kpe(t,e,n)&&(e=void 0),r(t,Xpe(e))}var Jpe=Zpe;const BB=Ar(Jpe);var Qpe=["x","y"];function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e,n){return e=tme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tme(t){var e=nme(t,"string");return hy(e)=="symbol"?e:e+""}function nme(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rme(t,e){if(t==null)return{};var n=ime(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ime(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ame(t,e){var n=t.x,r=t.y,i=rme(t,Qpe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Sv(Sv(Sv(Sv(Sv({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function yR(t){return De.createElement(Hde,pE({shapeType:"rectangle",propTransformer:ame,activeClassName:"recharts-active-bar"},t))}var ome=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Gd(),n)}},sme=["value","background"],zB;function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function lme(t,e){if(t==null)return{};var n=ume(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ume(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Hf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HB(r.key),r)}}function fme(t,e,n){return e&&bR(t.prototype,e),n&&bR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,n){return e=$b(e),dme(t,jB()?Reflect.construct(e,n||[],$b(t).constructor):e.apply(t,n))}function dme(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(t)}function pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jB=function(){return!!t})()}function $b(t){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$b(t)}function mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mE(t,e)}function Hf(t,e,n){return e=HB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HB(t){var e=gme(t,"string");return og(e)=="symbol"?e:e+""}function gme(t,e){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r1=function(t){function e(){var n;cme(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hme(this,e,[].concat(i)),Hf(n,"state",{isAnimationFinished:!1}),Hf(n,"id",Ky("recharts-bar-")),Hf(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Hf(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return mme(e,t),fme(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=jn(this.props,!1);return r&&r.map(function(f,h){var d=h===l,m=d?u:o,x=Xi(Xi(Xi({},c),f),{},{isActive:d,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return De.createElement(Hi,Vb({className:"recharts-bar-rectangle"},ib(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),De.createElement(yR,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return De.createElement(Uc,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var m=d.t,x=a.map(function(y,g){var _=h&&h[g];if(_){var b=Zl(_.x,y.x),S=Zl(_.y,y.y),A=Zl(_.width,y.width),E=Zl(_.height,y.height);return Xi(Xi({},y),{},{x:b(m),y:S(m),width:A(m),height:E(m)})}if(o==="horizontal"){var M=Zl(0,y.height),P=M(m);return Xi(Xi({},y),{},{y:y.y+y.height-P,height:P})}var D=Zl(0,y.width),N=D(m);return Xi(Xi({},y),{},{width:N})});return De.createElement(Hi,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!rw(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=jn(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=lme(u,sme);if(!f)return null;var d=Xi(Xi(Xi(Xi(Xi({},h),{},{fill:"#eee"},f),l),ib(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return De.createElement(yR,Vb({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},d))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=xl(c,n1);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,d=function(y,g){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Fs(y,g)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return De.createElement(Hi,m,f.map(function(x){return De.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,d=r.isAnimationActive,m=r.background,x=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,g=Qn("recharts-bar",o),_=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=_||b,A=Fn(x)?this.id:x;return De.createElement(Hi,{className:g},_||b?De.createElement("defs",null,De.createElement("clipPath",{id:"clipPath-".concat(A)},De.createElement("rect",{x:_?u:u-f/2,y:b?c:c-h/2,width:_?f:f*2,height:b?h:h*2}))):null,De.createElement(Hi,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(A,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,A),(!d||y)&&Qf.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(je.PureComponent);zB=r1;Hf(r1,"displayName","Bar");Hf(r1,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hf(r1,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,d=$ue(r,n);if(!d)return null;var m=e.layout,x=n.type.defaultProps,y=x!==void 0?Xi(Xi({},x),n.props):n.props,g=y.dataKey,_=y.children,b=y.minPointSize,S=m==="horizontal"?o:a,A=u?S.scale.domain():null,E=ece({numericAxis:S}),M=xl(_,pU),P=f.map(function(D,N){var C,O,j,F,Z,H;u?C=que(u[c+N],A):(C=Fs(D,g),Array.isArray(C)||(C=[E,C]));var q=ome(b,zB.defaultProps.minPointSize)(C[1],N);if(m==="horizontal"){var B,z=[o.scale(C[0]),o.scale(C[1])],$=z[0],X=z[1];O=xO({axis:a,ticks:s,bandSize:i,offset:d.offset,entry:D,index:N}),j=(B=X??$)!==null&&B!==void 0?B:void 0,F=d.size;var k=$-X;if(Z=Number.isNaN(k)?0:k,H={x:O,y:o.y,width:F,height:o.height},Math.abs(q)>0&&Math.abs(Z)<Math.abs(q)){var V=tu(Z||q)*(Math.abs(q)-Math.abs(Z));j-=V,Z+=V}}else{var G=[a.scale(C[0]),a.scale(C[1])],K=G[0],ne=G[1];if(O=K,j=xO({axis:o,ticks:l,bandSize:i,offset:d.offset,entry:D,index:N}),F=ne-K,Z=d.size,H={x:a.x,y:j,width:a.width,height:Z},Math.abs(q)>0&&Math.abs(F)<Math.abs(q)){var ue=tu(F||q)*(Math.abs(q)-Math.abs(F));F+=ue}}return Xi(Xi(Xi({},D),{},{x:O,y:j,width:F,height:Z,value:u?C:C[1],payload:D,background:H},M&&M[N]&&M[N].props),{},{tooltipPayload:[bB(n,D)],tooltipPosition:{x:O+F/2,y:j+Z/2}})});return Xi({data:P,layout:m},h)});function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WB(r.key),r)}}function yme(t,e,n){return e&&_R(t.prototype,e),n&&_R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lw(t,e,n){return e=WB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WB(t){var e=xme(t,"string");return dy(e)=="symbol"?e:e+""}function xme(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bme=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ps(u,r1);return c.reduce(function(d,m){var x=n[m],y=x.orientation,g=x.domain,_=x.padding,b=_===void 0?{}:_,S=x.mirror,A=x.reversed,E="".concat(y).concat(S?"Mirror":""),M,P,D,N,C;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var O=g[1]-g[0],j=1/0,F=x.categoricalDomain.sort();if(F.forEach(function(G,K){K>0&&(j=Math.min((G||0)-(F[K-1]||0),j))}),Number.isFinite(j)){var Z=j/O,H=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(M=Z*H/2),x.padding==="no-gap"){var q=Hd(e.barCategoryGap,Z*H),B=Z*H/2;M=B-q-(B-q)/H*q}}}i==="xAxis"?P=[r.left+(b.left||0)+(M||0),r.left+r.width-(b.right||0)-(M||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(M||0),r.top+r.height-(b.bottom||0)-(M||0)]:P=x.range,A&&(P=[P[1],P[0]]);var z=Gue(x,a,h),$=z.scale,X=z.realScaleType;$.domain(g).range(P),Vue($);var k=Que($,Xl(Xl({},x),{},{realScaleType:X}));i==="xAxis"?(C=y==="top"&&!S||y==="bottom"&&S,D=r.left,N=f[E]-C*x.height):i==="yAxis"&&(C=y==="left"&&!S||y==="right"&&S,D=f[E]-C*x.width,N=r.top);var V=Xl(Xl(Xl({},x),k),{},{realScaleType:X,x:D,y:N,scale:$,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return V.bandSize=Ob(V,k),!x.hide&&i==="xAxis"?f[E]+=(C?-1:1)*V.height:x.hide||(f[E]+=(C?-1:1)*V.width),Xl(Xl({},d),{},lw({},m,V))},{})},GB=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},_me=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return GB({x:n,y:r},{x:i,y:a})},VB=function(){function t(e){vme(this,t),this.scale=e}return yme(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();lw(VB,"EPS",1e-4);var RP=function(e){var n=Object.keys(e).reduce(function(r,i){return Xl(Xl({},r),{},lw({},i,VB.create(e[i])))},{});return Xl(Xl({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return zpe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return BB(i,function(a,o){return n[o].isInRange(a)})}})};function wme(t){return(t%180+180)%180}var Sme=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=wme(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Ame=mh,Mme=Zy,Eme=$_;function Tme(t){return function(e,n,r){var i=Object(e);if(!Mme(e)){var a=Ame(n);e=Eme(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Pme=Tme,Cme=kB;function Lme(t){var e=Cme(t),n=e%1;return e===e?n?e-n:e:0}var Nme=Lme,Ome=Q8,Rme=mh,Ime=Nme,kme=Math.max;function Dme(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Ime(n);return i<0&&(i=kme(r+i,0)),Ome(t,Rme(e),i)}var Fme=Dme,Ume=Pme,Bme=Fme,zme=Ume(Bme),jme=zme;const Hme=Ar(jme);var Wme=Pq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),IP=je.createContext(void 0),kP=je.createContext(void 0),$B=je.createContext(void 0),qB=je.createContext({}),XB=je.createContext(void 0),YB=je.createContext(0),KB=je.createContext(0),SR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Wme(a);return De.createElement(IP.Provider,{value:r},De.createElement(kP.Provider,{value:i},De.createElement(qB.Provider,{value:a},De.createElement($B.Provider,{value:c},De.createElement(XB.Provider,{value:o},De.createElement(YB.Provider,{value:u},De.createElement(KB.Provider,{value:l},s)))))))},Gme=function(){return je.useContext(XB)},ZB=function(e){var n=je.useContext(IP);n==null&&Gd();var r=n[e];return r==null&&Gd(),r},Vme=function(){var e=je.useContext(IP);return Ff(e)},$me=function(){var e=je.useContext(kP),n=Hme(e,function(r){return BB(r.domain,Number.isFinite)});return n||Ff(e)},JB=function(e){var n=je.useContext(kP);n==null&&Gd();var r=n[e];return r==null&&Gd(),r},qme=function(){var e=je.useContext($B);return e},Xme=function(){return je.useContext(qB)},DP=function(){return je.useContext(KB)},FP=function(){return je.useContext(YB)};function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function Yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ez(r.key),r)}}function Zme(t,e,n){return e&&Kme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jme(t,e,n){return e=qb(e),Qme(t,QB()?Reflect.construct(e,n||[],qb(t).constructor):e.apply(t,n))}function Qme(t,e){if(e&&(sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ege(t)}function ege(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!t})()}function qb(t){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qb(t)}function tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gE(t,e)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){UP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UP(t,e,n){return e=ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ez(t){var e=nge(t,"string");return sg(e)=="symbol"?e:e+""}function nge(t,e){if(sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rge(t,e){return sge(t)||oge(t,e)||age(t,e)||ige()}function ige(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function age(t,e){if(t){if(typeof t=="string")return ER(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ER(t,e)}}function ER(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function sge(t){if(Array.isArray(t))return t}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(this,arguments)}var lge=function(e,n){var r;return De.isValidElement(e)?r=De.cloneElement(e,n):Ln(e)?r=e(n):r=De.createElement("line",vE({},n,{className:"recharts-reference-line-line"})),r},uge=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,d=a.height;if(r){var m=u.y,x=e.y.apply(m,{position:o});if(ku(u,"discard")&&!e.y.isInRange(x))return null;var y=[{x:c+h,y:x},{x:c,y:x}];return l==="left"?y.reverse():y}if(n){var g=u.x,_=e.x.apply(g,{position:o});if(ku(u,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:f+d},{x:_,y:f}];return s==="top"?b.reverse():b}if(i){var S=u.segment,A=S.map(function(E){return e.apply(E,{position:o})});return ku(u,"discard")&&Ope(A,function(E){return!e.isInRange(E)})?null:A}return null};function cge(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Gme(),c=ZB(i),f=JB(a),h=qme();if(!u||!h)return null;Tc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=RP({x:c.scale,y:f.scale}),m=pa(e),x=pa(n),y=r&&r.length===2,g=uge(d,m,x,y,h,t.position,c.orientation,f.orientation,t);if(!g)return null;var _=rge(g,2),b=_[0],S=b.x,A=b.y,E=_[1],M=E.x,P=E.y,D=ku(t,"hidden")?"url(#".concat(u,")"):void 0,N=MR(MR({clipPath:D},jn(t,!0)),{},{x1:S,y1:A,x2:M,y2:P});return De.createElement(Hi,{className:Qn("recharts-reference-line",s)},lge(o,N),xo.renderCallByParent(t,_me({x1:S,y1:A,x2:M,y2:P})))}var BP=function(t){function e(){return Yme(this,e),Jme(this,e,arguments)}return tge(e,t),Zme(e,[{key:"render",value:function(){return De.createElement(cge,this.props)}}])}(De.Component);UP(BP,"displayName","ReferenceLine");UP(BP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(this,arguments)}function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nz(r.key),r)}}function dge(t,e,n){return e&&hge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pge(t,e,n){return e=Xb(e),mge(t,tz()?Reflect.construct(e,n||[],Xb(t).constructor):e.apply(t,n))}function mge(t,e){if(e&&(lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gge(t)}function gge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tz=function(){return!!t})()}function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xb(t)}function vge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xE(t,e)}function uw(t,e,n){return e=nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nz(t){var e=yge(t,"string");return lg(e)=="symbol"?e:e+""}function yge(t,e){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xge=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=RP({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ku(e,"discard")&&!o.isInRange(s)?null:s},cw=function(t){function e(){return fge(this,e),pge(this,e,arguments)}return vge(e,t),dge(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=pa(i),c=pa(a);if(Tc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=xge(this.props);if(!f)return null;var h=f.x,d=f.y,m=this.props,x=m.shape,y=m.className,g=ku(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=PR(PR({clipPath:g},jn(this.props,!0)),{},{cx:h,cy:d});return De.createElement(Hi,{className:Qn("recharts-reference-dot",y)},e.renderDot(x,_),xo.renderCallByParent(this.props,{x:h-o,y:d-o,width:2*o,height:2*o}))}}])}(De.Component);uw(cw,"displayName","ReferenceDot");uw(cw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});uw(cw,"renderDot",function(t,e){var n;return De.isValidElement(t)?n=De.cloneElement(t,e):Ln(t)?n=t(e):n=De.createElement(OP,yE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iz(r.key),r)}}function wge(t,e,n){return e&&_ge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sge(t,e,n){return e=Yb(e),Age(t,rz()?Reflect.construct(e,n||[],Yb(t).constructor):e.apply(t,n))}function Age(t,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mge(t)}function Mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!t})()}function Yb(t){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(t)}function Ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(t,e)}function fw(t,e,n){return e=iz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iz(t){var e=Tge(t,"string");return ug(e)=="symbol"?e:e+""}function Tge(t,e){if(ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pge=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=RP({x:c.scale,y:f.scale}),d={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ku(a,"discard")&&(!h.isInRange(d)||!h.isInRange(m))?null:GB(d,m)},hw=function(t){function e(){return bge(this,e),Sge(this,e,arguments)}return Ege(e,t),wge(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Tc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pa(i),h=pa(a),d=pa(o),m=pa(s),x=this.props.shape;if(!f&&!h&&!d&&!m&&!x)return null;var y=Pge(f,h,d,m,this.props);if(!y&&!x)return null;var g=ku(this.props,"hidden")?"url(#".concat(c,")"):void 0;return De.createElement(Hi,{className:Qn("recharts-reference-area",l)},e.renderRect(x,LR(LR({clipPath:g},jn(this.props,!0)),y)),xo.renderCallByParent(this.props,y))}}])}(De.Component);fw(hw,"displayName","ReferenceArea");fw(hw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fw(hw,"renderRect",function(t,e){var n;return De.isValidElement(t)?n=De.cloneElement(t,e):Ln(t)?n=t(e):n=De.createElement(NP,bE({},e,{className:"recharts-reference-area-rect"})),n});function az(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Cge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Sme(r,n)}function Lge(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Kb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Nge(t,e){return az(t,e+1)}function Oge(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:az(r,u)};var x=l,y,g=function(){return y===void 0&&(y=n(m,x)),y},_=m.coordinate,b=l===0||Kb(t,_,g,c,s);b||(l=0,c=o,u+=1),b&&(c=_+t*(g()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rge(t,e,n){return e=Ige(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=kge(t,"string");return py(e)=="symbol"?e:e+""}function kge(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dge(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var d=a[h],m,x=function(){return m===void 0&&(m=n(d,h)),m};if(h===o-1){var y=t*(d.coordinate+t*x()/2-l);a[h]=d=vo(vo({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate})}else a[h]=d=vo(vo({},d),{},{tickCoord:d.coordinate});var g=Kb(t,d.tickCoord,x,s,l);g&&(l=d.tickCoord-t*(x()/2+i),a[h]=vo(vo({},d),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function Fge(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=vo(vo({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var d=Kb(t,c.tickCoord,function(){return f},l,u);d&&(u=c.tickCoord-t*(f/2+i),o[s-1]=vo(vo({},c),{},{isShow:!0}))}for(var m=a?s-1:s,x=function(_){var b=o[_],S,A=function(){return S===void 0&&(S=n(b,_)),S};if(_===0){var E=t*(b.coordinate-t*A()/2-l);o[_]=b=vo(vo({},b),{},{tickCoord:E<0?b.coordinate-E*t:b.coordinate})}else o[_]=b=vo(vo({},b),{},{tickCoord:b.coordinate});var M=Kb(t,b.tickCoord,A,l,u);M&&(l=b.tickCoord+t*(A()/2+i),o[_]=vo(vo({},b),{},{isShow:!0}))},y=0;y<m;y++)x(y);return o}function zP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Dt(l)||Pc.isSsr)return Nge(i,typeof l=="number"&&Dt(l)?l:0);var h=[],d=s==="top"||s==="bottom"?"width":"height",m=c&&d==="width"?t0(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(b,S){var A=Ln(u)?u(b.value,S):b.value;return d==="width"?Cge(t0(A,{fontSize:e,letterSpacing:n}),m,f):t0(A,{fontSize:e,letterSpacing:n})[d]},y=i.length>=2?tu(i[1].coordinate-i[0].coordinate):1,g=Lge(a,y,d);return l==="equidistantPreserveStart"?Oge(y,g,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Fge(y,g,x,i,o,l==="preserveStartEnd"):h=Dge(y,g,x,i,o),h.filter(function(_){return _.isShow}))}var Uge=["viewBox"],Bge=["viewBox"],zge=["ticks"];function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){jP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i5(t,e){if(t==null)return{};var n=jge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sz(r.key),r)}}function Wge(t,e,n){return e&&RR(t.prototype,e),n&&RR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gge(t,e,n){return e=Zb(e),Vge(t,oz()?Reflect.construct(e,n||[],Zb(t).constructor):e.apply(t,n))}function Vge(t,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ge(t)}function $ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oz=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(t)}function qge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wE(t,e)}function jP(t,e,n){return e=sz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sz(t){var e=Xge(t,"string");return cg(e)=="symbol"?e:e+""}function Xge(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kg=function(t){function e(n){var r;return Hge(this,e),r=Gge(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return qge(e,t),Wge(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=i5(r,Uge),s=this.props,l=s.viewBox,u=i5(s,Bge);return!Dm(a,l)||!Dm(o,u)||!Dm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,d,m,x,y,g,_,b=f?-1:1,S=r.tickSize||c,A=Dt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":d=m=r.coordinate,y=o+ +!f*l,x=y-b*S,_=x-b*h,g=A;break;case"left":x=y=r.coordinate,m=a+ +!f*s,d=m-b*S,g=d-b*h,_=A;break;case"right":x=y=r.coordinate,m=a+ +f*s,d=m+b*S,g=d+b*h,_=A;break;default:d=m=r.coordinate,y=o+ +f*l,x=y+b*S,_=x+b*h,g=A;break}return{line:{x1:d,y1:x,x2:m,y2:y},tick:{x:g,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Ro(Ro(Ro({},jn(this.props,!1)),jn(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Ro(Ro({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var d=+(l==="left"&&!u||l==="right"&&u);f=Ro(Ro({},f),{},{x1:i+d*o,y1:a,x2:i+d*o,y2:a+s})}return De.createElement("line",wm({},f,{className:Qn("recharts-cartesian-axis-line",yl(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,d=zP(Ro(Ro({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=jn(this.props,!1),g=jn(c,!1),_=Ro(Ro({},y),{},{fill:"none"},jn(l,!1)),b=d.map(function(S,A){var E=o.getTickLineCoord(S),M=E.line,P=E.tick,D=Ro(Ro(Ro(Ro({textAnchor:m,verticalAnchor:x},y),{},{stroke:"none",fill:u},g),P),{},{index:A,payload:S,visibleTicksCount:d.length,tickFormatter:f});return De.createElement(Hi,wm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},ib(o.props,S,A)),l&&De.createElement("line",wm({},_,M,{className:Qn("recharts-cartesian-axis-tick-line",yl(l,"className"))})),c&&e.renderTickItem(c,D,"".concat(Ln(f)?f(S.value,A):S.value).concat(h||"")))});return De.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,d=i5(f,zge),m=h;return Ln(l)&&(m=h&&h.length>0?l(this.props):l(d)),o<=0||s<=0||!m||!m.length?null:De.createElement(Hi,{className:Qn("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),xo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return De.isValidElement(r)?o=De.cloneElement(r,i):Ln(r)?o=r(i):o=De.createElement(yb,wm({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(je.Component);jP(kg,"displayName","CartesianAxis");jP(kg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Yge=["x1","y1","x2","y2","key"],Kge=["offset"];function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){Zge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zge(t,e,n){return e=Jge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jge(t){var e=Qge(t,"string");return Vd(e)=="symbol"?e:e+""}function Qge(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}function kR(t,e){if(t==null)return{};var n=eve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tve=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return De.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function lz(t,e){var n;if(De.isValidElement(t))n=De.cloneElement(t,e);else if(Ln(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=kR(e,Yge),u=jn(l,!1);u.offset;var c=kR(u,Kge);n=De.createElement("line",md({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function nve(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=bo(bo({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return lz(i,u)});return De.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function rve(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=bo(bo({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return lz(i,u)});return De.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ive(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==c[0]&&c.unshift(0);var f=c.map(function(h,d){var m=!c[d+1],x=m?i+o-h:c[d+1]-h;if(x<=0)return null;var y=d%e.length;return De.createElement("rect",{key:"react-".concat(d),y:h,x:r,height:x,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return De.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ave(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==c[0]&&c.unshift(0);var f=c.map(function(h,d){var m=!c[d+1],x=m?a+s-h:c[d+1]-h;if(x<=0)return null;var y=d%r.length;return De.createElement("rect",{key:"react-".concat(d),x:h,y:o,width:x,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return De.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ove=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return yB(zP(bo(bo(bo({},kg.defaultProps),r),{},{ticks:wc(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},sve=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return yB(zP(bo(bo(bo({},kg.defaultProps),r),{},{ticks:wc(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Lp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function uz(t){var e,n,r,i,a,o,s=DP(),l=FP(),u=Xme(),c=bo(bo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Lp.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Lp.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Lp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Lp.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Lp.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Lp.verticalFill,x:Dt(t.x)?t.x:u.left,y:Dt(t.y)?t.y:u.top,width:Dt(t.width)?t.width:u.width,height:Dt(t.height)?t.height:u.height}),f=c.x,h=c.y,d=c.width,m=c.height,x=c.syncWithTicks,y=c.horizontalValues,g=c.verticalValues,_=Vme(),b=$me();if(!Dt(d)||d<=0||!Dt(m)||m<=0||!Dt(f)||f!==+f||!Dt(h)||h!==+h)return null;var S=c.verticalCoordinatesGenerator||ove,A=c.horizontalCoordinatesGenerator||sve,E=c.horizontalPoints,M=c.verticalPoints;if((!E||!E.length)&&Ln(A)){var P=y&&y.length,D=A({yAxis:b?bo(bo({},b),{},{ticks:P?y:b.ticks}):void 0,width:s,height:l,offset:u},P?!0:x);Tc(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vd(D),"]")),Array.isArray(D)&&(E=D)}if((!M||!M.length)&&Ln(S)){var N=g&&g.length,C=S({xAxis:_?bo(bo({},_),{},{ticks:N?g:_.ticks}):void 0,width:s,height:l,offset:u},N?!0:x);Tc(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vd(C),"]")),Array.isArray(C)&&(M=C)}return De.createElement("g",{className:"recharts-cartesian-grid"},De.createElement(tve,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),De.createElement(nve,md({},c,{offset:u,horizontalPoints:E,xAxis:_,yAxis:b})),De.createElement(rve,md({},c,{offset:u,verticalPoints:M,xAxis:_,yAxis:b})),De.createElement(ive,md({},c,{horizontalPoints:E})),De.createElement(ave,md({},c,{verticalPoints:M})))}uz.displayName="CartesianGrid";var lve=["type","layout","connectNulls","ref"],uve=["key"];function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function DR(t,e){if(t==null)return{};var n=cve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(this,arguments)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Yl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Np(t){return pve(t)||dve(t)||hve(t)||fve()}function fve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function dve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pve(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fz(r.key),r)}}function gve(t,e,n){return e&&UR(t.prototype,e),n&&UR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vve(t,e,n){return e=Jb(e),yve(t,cz()?Reflect.construct(e,n||[],Jb(t).constructor):e.apply(t,n))}function yve(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xve(t)}function xve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cz=function(){return!!t})()}function Jb(t){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jb(t)}function bve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(t,e)}function Yl(t,e,n){return e=fz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fz(t){var e=_ve(t,"string");return fg(e)=="symbol"?e:e+""}function _ve(t,e){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Td=function(t){function e(){var n;mve(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vve(this,e,[].concat(i)),Yl(n,"state",{isAnimationFinished:!0,totalLength:0}),Yl(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Yl(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(g,_){return g+_});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,h=s-o,d=[],m=0,x=0;m<l.length;x+=l[m],++m)if(x+l[m]>f){d=[].concat(Np(l.slice(0,m)),[f-x]);break}var y=d.length%2===0?[0,h]:[h];return[].concat(Np(e.repeat(l,c)),Np(d),y).map(function(g){return"".concat(g,"px")}).join(", ")}),Yl(n,"id",Ky("recharts-line-")),Yl(n,"pathRef",function(o){n.mainCurve=o}),Yl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Yl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return bve(e,t),gve(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=xl(c,n1);if(!f)return null;var h=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:Fs(x.payload,y)}},d={clipPath:r?"url(#clipPath-".concat(i,")"):null};return De.createElement(Hi,d,f.map(function(m){return De.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=jn(this.props,!1),h=jn(l,!0),d=u.map(function(x,y){var g=Ms(Ms(Ms({key:"dot-".concat(y),r:3},f),h),{},{value:x.value,dataKey:c,cx:x.x,cy:x.y,index:y,payload:x.payload});return e.renderDotItem(l,g)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return De.createElement(Hi,a0({className:"recharts-line-dots",key:"dots"},m),d)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=DR(s,lve),h=Ms(Ms(Ms({},jn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return De.createElement(tE,a0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,h=o.animationEasing,d=o.animationId,m=o.animateNewValues,x=o.width,y=o.height,g=this.state,_=g.prevPoints,b=g.totalLength;return De.createElement(Uc,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(_){var E=_.length/s.length,M=s.map(function(O,j){var F=Math.floor(j*E);if(_[F]){var Z=_[F],H=Zl(Z.x,O.x),q=Zl(Z.y,O.y);return Ms(Ms({},O),{},{x:H(A),y:q(A)})}if(m){var B=Zl(x*2,O.x),z=Zl(y/2,O.y);return Ms(Ms({},O),{},{x:B(A),y:z(A)})}return Ms(Ms({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(M,r,i)}var P=Zl(0,b),D=P(A),N;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});N=a.getStrokeDasharray(D,b,C)}else N=a.generateSimpleStrokeDasharray(b,D);return a.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!rw(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,d=i.width,m=i.height,x=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,_=s.length===1,b=Qn("recharts-line",l),S=u&&u.allowDataOverflow,A=c&&c.allowDataOverflow,E=S||A,M=Fn(y)?this.id:y,P=(r=jn(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=P.r,N=D===void 0?3:D,C=P.strokeWidth,O=C===void 0?2:C,j=IX(o)?o:{},F=j.clipDot,Z=F===void 0?!0:F,H=N*2+O;return De.createElement(Hi,{className:b},S||A?De.createElement("defs",null,De.createElement("clipPath",{id:"clipPath-".concat(M)},De.createElement("rect",{x:S?h:h-d/2,y:A?f:f-m/2,width:S?d:d*2,height:A?m:m*2})),!Z&&De.createElement("clipPath",{id:"clipPath-dots-".concat(M)},De.createElement("rect",{x:h-H/2,y:f-H/2,width:d+H,height:m+H}))):null,!_&&this.renderCurve(E,M),this.renderErrorBar(E,M),(_||o)&&this.renderDots(E,Z,M),(!x||g)&&Qf.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Np(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Np(o),Np(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(De.isValidElement(r))a=De.cloneElement(r,i);else if(Ln(r))a=r(i);else{var o=i.key,s=DR(i,uve),l=Qn("recharts-line-dot",typeof r!="boolean"?r.className:"");a=De.createElement(OP,a0({key:o},s,{className:l}))}return a}}])}(je.PureComponent);Yl(Td,"displayName","Line");Yl(Td,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yl(Td,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,d){var m=Fs(h,o);return c==="horizontal"?{x:yO({axis:n,ticks:i,bandSize:s,entry:h,index:d}),y:Fn(m)?null:r.scale(m),value:m,payload:h}:{x:Fn(m)?null:n.scale(m),y:yO({axis:r,ticks:a,bandSize:s,entry:h,index:d}),value:m,payload:h}});return Ms({points:f,layout:c},u)});function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pz(r.key),r)}}function Ave(t,e,n){return e&&Sve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mve(t,e,n){return e=Qb(e),Eve(t,hz()?Reflect.construct(e,n||[],Qb(t).constructor):e.apply(t,n))}function Eve(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tve(t)}function Tve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hz=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qb(t)}function Pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ME(t,e)}function dz(t,e,n){return e=pz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pz(t){var e=Cve(t,"string");return hg(e)=="symbol"?e:e+""}function Cve(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(this,arguments)}function Lve(t){var e=t.xAxisId,n=DP(),r=FP(),i=ZB(e);return i==null?null:De.createElement(kg,EE({},i,{className:Qn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return wc(o,!0)}}))}var dw=function(t){function e(){return wve(this,e),Mve(this,e,arguments)}return Pve(e,t),Ave(e,[{key:"render",value:function(){return De.createElement(Lve,this.props)}}])}(De.Component);dz(dw,"displayName","XAxis");dz(dw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function Nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ove(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vz(r.key),r)}}function Rve(t,e,n){return e&&Ove(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ive(t,e,n){return e=e_(e),kve(t,mz()?Reflect.construct(e,n||[],e_(t).constructor):e.apply(t,n))}function kve(t,e){if(e&&(dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dve(t)}function Dve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mz=function(){return!!t})()}function e_(t){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e_(t)}function Fve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TE(t,e)}function gz(t,e,n){return e=vz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vz(t){var e=Uve(t,"string");return dg(e)=="symbol"?e:e+""}function Uve(t,e){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(this,arguments)}var Bve=function(e){var n=e.yAxisId,r=DP(),i=FP(),a=JB(n);return a==null?null:De.createElement(kg,PE({},a,{className:Qn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return wc(s,!0)}}))},Bm=function(t){function e(){return Nve(this,e),Ive(this,e,arguments)}return Fve(e,t),Rve(e,[{key:"render",value:function(){return De.createElement(Bve,this.props)}}])}(De.Component);gz(Bm,"displayName","YAxis");gz(Bm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BR(t){return Wve(t)||Hve(t)||jve(t)||zve()}function zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function Hve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wve(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LE=function(e,n,r,i,a){var o=xl(e,BP),s=xl(e,cw),l=[].concat(BR(o),BR(s)),u=xl(e,hw),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(x,y){if(y.props[c]===r&&ku(y.props,"extendDomain")&&Dt(y.props[f])){var g=y.props[f];return[Math.min(x[0],g),Math.max(x[1],g)]}return x},h)),u.length){var d="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(x,y){if(y.props[c]===r&&ku(y.props,"extendDomain")&&Dt(y.props[d])&&Dt(y.props[m])){var g=y.props[d],_=y.props[m];return[Math.min(x[0],g,_),Math.max(x[1],g,_)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,y){return Dt(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},yz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,f||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,m=new Array(d);h<d;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,d,m){var x=n?n+u:u;if(!this._events[x])return!1;var y=this._events[x],g=arguments.length,_,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,h),!0;case 5:return y.fn.call(y.context,c,f,h,d),!0;case 6:return y.fn.call(y.context,c,f,h,d,m),!0}for(b=1,_=new Array(g-1);b<g;b++)_[b-1]=arguments[b];y.fn.apply(y.context,_)}else{var S=y.length,A;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,f);break;case 4:y[b].fn.call(y[b].context,c,f,h);break;default:if(!_)for(A=1,_=new Array(g-1);A<g;A++)_[A-1]=arguments[A];y[b].fn.apply(y[b].context,_)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var d=n?n+u:u;if(!this._events[d])return this;if(!c)return o(this,d),this;var m=this._events[d];if(m.fn)m.fn===c&&(!h||m.once)&&(!f||m.context===f)&&o(this,d);else{for(var x=0,y=[],g=m.length;x<g;x++)(m[x].fn!==c||h&&!m[x].once||f&&m[x].context!==f)&&y.push(m[x]);y.length?this._events[d]=y.length===1?y[0]:y:o(this,d)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(yz);var Gve=yz.exports;const Vve=Ar(Gve);var a5=new Vve,o5="recharts.syncMouseEvents";function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function $ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xz(r.key),r)}}function Xve(t,e,n){return e&&qve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s5(t,e,n){return e=xz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xz(t){var e=Yve(t,"string");return my(e)=="symbol"?e:e+""}function Yve(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kve=function(){function t(){$ve(this,t),s5(this,"activeIndex",0),s5(this,"coordinateList",[]),s5(this,"layout","horizontal")}return Xve(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Zve(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Dt(r)&&Dt(i))return!0}return!1}function Jve(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function bz(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Ka(e,n,r,i),s=Ka(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Qve(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Ka(s,l,u,f),d=Ka(s,l,c,f);r=h.x,i=h.y,a=d.x,o=d.y}else return bz(e);return[{x:r,y:i},{x:a,y:o}]}function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){e0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0e(t,e,n){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return gy(e)=="symbol"?e:e+""}function n0e(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r0e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,d=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!d||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,x=tE;if(h==="ScatterChart")m=o,x=nde;else if(h==="BarChart")m=Jve(f,o,l,c),x=NP;else if(f==="radial"){var y=bz(o),g=y.cx,_=y.cy,b=y.radius,S=y.startAngle,A=y.endAngle;m={cx:g,cy:_,startAngle:S,endAngle:A,innerRadius:b,outerRadius:b},x=SB}else m={points:Qve(f,o,l)},x=tE;var E=o2(o2(o2(o2({stroke:"#ccc",pointerEvents:"none"},l),m),jn(d,!1)),{},{payload:s,payloadIndex:u,className:Qn("recharts-tooltip-cursor",d.className)});return je.isValidElement(d)?je.cloneElement(d,E):je.createElement(x,E)}var i0e=["item"],a0e=["children","className","width","height","style","compact","title","desc"];function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function jR(t,e){return l0e(t)||s0e(t,e)||wz(t,e)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function l0e(t){if(Array.isArray(t))return t}function HR(t,e){if(t==null)return{};var n=u0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sz(r.key),r)}}function h0e(t,e,n){return e&&f0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d0e(t,e,n){return e=t_(e),p0e(t,_z()?Reflect.construct(e,n||[],t_(t).constructor):e.apply(t,n))}function p0e(t,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m0e(t)}function m0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!t})()}function t_(t){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t_(t)}function g0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NE(t,e)}function mg(t){return x0e(t)||y0e(t)||wz(t)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wz(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function y0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x0e(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){fn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fn(t,e,n){return e=Sz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sz(t){var e=b0e(t,"string");return pg(e)=="symbol"?e:e+""}function b0e(t,e){if(pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _0e={xAxis:["bottom","top"],yAxis:["left","right"]},w0e={width:"100%",height:"100%"},Az={x:0,y:0};function s2(t){return t}var S0e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},A0e=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return pt(pt(pt({},i),Ka(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return pt(pt(pt({},i),Ka(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Az},pw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(mg(s),mg(u)):s},[]);return o.length>0?o:e&&e.length&&Dt(i)&&Dt(a)?e.slice(i,a+1):[]};function Mz(t){return t==="number"?[0,"auto"]:void 0}var RE=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=pw(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var d=f===void 0?s:f;h=nb(d,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(mg(l),[bB(u,h)]):l},[])},GR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=S0e(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Uue(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=RE(e,n,c,f),d=A0e(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},M0e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,d=vB(c,a);return r.reduce(function(m,x){var y,g=x.type.defaultProps!==void 0?pt(pt({},x.type.defaultProps),x.props):x.props,_=g.type,b=g.dataKey,S=g.allowDataOverflow,A=g.allowDuplicatedCategory,E=g.scale,M=g.ticks,P=g.includeHidden,D=g[o];if(m[D])return m;var N=pw(e.data,{graphicalItems:i.filter(function(k){var V,G=o in k.props?k.props[o]:(V=k.type.defaultProps)===null||V===void 0?void 0:V[o];return G===D}),dataStartIndex:l,dataEndIndex:u}),C=N.length,O,j,F;Zve(g.domain,S,_)&&(O=KM(g.domain,null,S),d&&(_==="number"||E!=="auto")&&(F=r0(N,b,"category")));var Z=Mz(_);if(!O||O.length===0){var H,q=(H=g.domain)!==null&&H!==void 0?H:Z;if(b){if(O=r0(N,b,_),_==="category"&&d){var B=MX(O);A&&B?(j=O,O=Hb(0,C)):A||(O=wO(q,O,x).reduce(function(k,V){return k.indexOf(V)>=0?k:[].concat(mg(k),[V])},[]))}else if(_==="category")A?O=O.filter(function(k){return k!==""&&!Fn(k)}):O=wO(q,O,x).reduce(function(k,V){return k.indexOf(V)>=0||V===""||Fn(V)?k:[].concat(mg(k),[V])},[]);else if(_==="number"){var z=Wue(N,i.filter(function(k){var V,G,K=o in k.props?k.props[o]:(V=k.type.defaultProps)===null||V===void 0?void 0:V[o],ne="hide"in k.props?k.props.hide:(G=k.type.defaultProps)===null||G===void 0?void 0:G.hide;return K===D&&(P||!ne)}),b,a,c);z&&(O=z)}d&&(_==="number"||E!=="auto")&&(F=r0(N,b,"category"))}else d?O=Hb(0,C):s&&s[D]&&s[D].hasStack&&_==="number"?O=h==="expand"?[0,1]:xB(s[D].stackGroups,l,u):O=gB(N,i.filter(function(k){var V=o in k.props?k.props[o]:k.type.defaultProps[o],G="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return V===D&&(P||!G)}),_,c,!0);if(_==="number")O=LE(f,O,D,a,M),q&&(O=KM(q,O,S));else if(_==="category"&&q){var $=q,X=O.every(function(k){return $.indexOf(k)>=0});X&&(O=$)}}return pt(pt({},m),{},fn({},D,pt(pt({},g),{},{axisType:a,domain:O,categoricalDomain:F,duplicateDomain:j,originalDomain:(y=g.domain)!==null&&y!==void 0?y:Z,isCategorical:d,layout:c})))},{})},E0e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=pw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),d=h.length,m=vB(c,a),x=-1;return r.reduce(function(y,g){var _=g.type.defaultProps!==void 0?pt(pt({},g.type.defaultProps),g.props):g.props,b=_[o],S=Mz("number");if(!y[b]){x++;var A;return m?A=Hb(0,d):s&&s[b]&&s[b].hasStack?(A=xB(s[b].stackGroups,l,u),A=LE(f,A,b,a)):(A=KM(S,gB(h,r.filter(function(E){var M,P,D=o in E.props?E.props[o]:(M=E.type.defaultProps)===null||M===void 0?void 0:M[o],N="hide"in E.props?E.props.hide:(P=E.type.defaultProps)===null||P===void 0?void 0:P.hide;return D===b&&!N}),"number",c),i.defaultProps.allowDataOverflow),A=LE(f,A,b,a)),pt(pt({},y),{},fn({},b,pt(pt({axisType:a},i.defaultProps),{},{hide:!0,orientation:yl(_0e,"".concat(a,".").concat(x%2),null),domain:A,originalDomain:S,isCategorical:m,layout:c})))}return y},{})},T0e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=xl(c,a),d={};return h&&h.length?d=M0e(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(d=E0e(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),d},P0e=function(e){var n=Ff(e),r=wc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:iP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ob(n,r)}},VR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ps(n,ag),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},C0e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ec(n&&n.type);return r&&r.indexOf("Bar")>=0})},$R=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},L0e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},d=Ps(f,ag),m=Ps(f,Ad),x=Object.keys(l).reduce(function(A,E){var M=l[E],P=M.orientation;return!M.mirror&&!M.hide?pt(pt({},A),{},fn({},P,A[P]+M.width)):A},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(A,E){var M=o[E],P=M.orientation;return!M.mirror&&!M.hide?pt(pt({},A),{},fn({},P,yl(A,"".concat(P))+M.height)):A},{top:h.top||0,bottom:h.bottom||0}),g=pt(pt({},y),x),_=g.bottom;d&&(g.bottom+=d.props.height||ag.defaultProps.height),m&&n&&(g=jue(g,i,r,n));var b=u-g.left-g.right,S=c-g.top-g.bottom;return pt(pt({brushBottom:_},g),{},{width:Math.max(b,0),height:Math.max(S,0)})},N0e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},O0e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(g,_){var b=_.graphicalItems,S=_.stackGroups,A=_.offset,E=_.updateId,M=_.dataStartIndex,P=_.dataEndIndex,D=g.barSize,N=g.layout,C=g.barGap,O=g.barCategoryGap,j=g.maxBarSize,F=$R(N),Z=F.numericAxisName,H=F.cateAxisName,q=C0e(b),B=[];return b.forEach(function(z,$){var X=pw(g.data,{graphicalItems:[z],dataStartIndex:M,dataEndIndex:P}),k=z.type.defaultProps!==void 0?pt(pt({},z.type.defaultProps),z.props):z.props,V=k.dataKey,G=k.maxBarSize,K=k["".concat(Z,"Id")],ne=k["".concat(H,"Id")],ue={},he=l.reduce(function(te,ee){var Se=_["".concat(ee.axisType,"Map")],Pe=k["".concat(ee.axisType,"Id")];Se&&Se[Pe]||ee.axisType==="zAxis"||Gd();var Oe=Se[Pe];return pt(pt({},te),{},fn(fn({},ee.axisType,Oe),"".concat(ee.axisType,"Ticks"),wc(Oe)))},ue),ce=he[H],Me=he["".concat(H,"Ticks")],ye=S&&S[K]&&S[K].hasStack&&tce(z,S[K].stackGroups),J=Ec(z.type).indexOf("Bar")>=0,Ee=Ob(ce,Me),Ae=[],me=q&&Bue({barSize:D,stackGroups:S,totalSize:N0e(he,H)});if(J){var ie,He,Ce=Fn(G)?j:G,Le=(ie=(He=Ob(ce,Me,!0))!==null&&He!==void 0?He:Ce)!==null&&ie!==void 0?ie:0;Ae=zue({barGap:C,barCategoryGap:O,bandSize:Le!==Ee?Le:Ee,sizeList:me[ne],maxBarSize:Ce}),Le!==Ee&&(Ae=Ae.map(function(te){return pt(pt({},te),{},{position:pt(pt({},te.position),{},{offset:te.position.offset-Le/2})})}))}var Fe=z&&z.type&&z.type.getComposedData;Fe&&B.push({props:pt(pt({},Fe(pt(pt({},he),{},{displayedData:X,props:g,dataKey:V,item:z,bandSize:Ee,barPosition:Ae,offset:A,stackedData:ye,layout:N,dataStartIndex:M,dataEndIndex:P}))),{},fn(fn(fn({key:z.key||"item-".concat($)},Z,he[Z]),H,he[H]),"animationId",E)),childIndex:FX(z,g.children),item:z})}),B},d=function(g,_){var b=g.props,S=g.dataStartIndex,A=g.dataEndIndex,E=g.updateId;if(!mL({props:b}))return null;var M=b.children,P=b.layout,D=b.stackOffset,N=b.data,C=b.reverseStackOrder,O=$R(P),j=O.numericAxisName,F=O.cateAxisName,Z=xl(M,r),H=Jue(N,Z,"".concat(j,"Id"),"".concat(F,"Id"),D,C),q=l.reduce(function(k,V){var G="".concat(V.axisType,"Map");return pt(pt({},k),{},fn({},G,T0e(b,pt(pt({},V),{},{graphicalItems:Z,stackGroups:V.axisType===j&&H,dataStartIndex:S,dataEndIndex:A}))))},{}),B=L0e(pt(pt({},q),{},{props:b,graphicalItems:Z}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(k){q[k]=c(b,q[k],B,k.replace("Map",""),n)});var z=q["".concat(F,"Map")],$=P0e(z),X=h(b,pt(pt({},q),{},{dataStartIndex:S,dataEndIndex:A,updateId:E,graphicalItems:Z,stackGroups:H,offset:B}));return pt(pt({formattedGraphicalItems:X,graphicalItems:Z,offset:B,stackGroups:H},$),q)},m=function(y){function g(_){var b,S,A;return c0e(this,g),A=d0e(this,g,[_]),fn(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fn(A,"accessibilityManager",new Kve),fn(A,"handleLegendBBoxUpdate",function(E){if(E){var M=A.state,P=M.dataStartIndex,D=M.dataEndIndex,N=M.updateId;A.setState(pt({legendBBox:E},d({props:A.props,dataStartIndex:P,dataEndIndex:D,updateId:N},pt(pt({},A.state),{},{legendBBox:E}))))}}),fn(A,"handleReceiveSyncEvent",function(E,M,P){if(A.props.syncId===E){if(P===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(M)}}),fn(A,"handleBrushChange",function(E){var M=E.startIndex,P=E.endIndex;if(M!==A.state.dataStartIndex||P!==A.state.dataEndIndex){var D=A.state.updateId;A.setState(function(){return pt({dataStartIndex:M,dataEndIndex:P},d({props:A.props,dataStartIndex:M,dataEndIndex:P,updateId:D},A.state))}),A.triggerSyncEvent({dataStartIndex:M,dataEndIndex:P})}}),fn(A,"handleMouseEnter",function(E){var M=A.getMouseInfo(E);if(M){var P=pt(pt({},M),{},{isTooltipActive:!0});A.setState(P),A.triggerSyncEvent(P);var D=A.props.onMouseEnter;Ln(D)&&D(P,E)}}),fn(A,"triggeredAfterMouseMove",function(E){var M=A.getMouseInfo(E),P=M?pt(pt({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(P),A.triggerSyncEvent(P);var D=A.props.onMouseMove;Ln(D)&&D(P,E)}),fn(A,"handleItemMouseEnter",function(E){A.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),fn(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),fn(A,"handleMouseMove",function(E){E.persist(),A.throttleTriggeredAfterMouseMove(E)}),fn(A,"handleMouseLeave",function(E){A.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};A.setState(M),A.triggerSyncEvent(M);var P=A.props.onMouseLeave;Ln(P)&&P(M,E)}),fn(A,"handleOuterEvent",function(E){var M=DX(E),P=yl(A.props,"".concat(M));if(M&&Ln(P)){var D,N;/.*touch.*/i.test(M)?N=A.getMouseInfo(E.changedTouches[0]):N=A.getMouseInfo(E),P((D=N)!==null&&D!==void 0?D:{},E)}}),fn(A,"handleClick",function(E){var M=A.getMouseInfo(E);if(M){var P=pt(pt({},M),{},{isTooltipActive:!0});A.setState(P),A.triggerSyncEvent(P);var D=A.props.onClick;Ln(D)&&D(P,E)}}),fn(A,"handleMouseDown",function(E){var M=A.props.onMouseDown;if(Ln(M)){var P=A.getMouseInfo(E);M(P,E)}}),fn(A,"handleMouseUp",function(E){var M=A.props.onMouseUp;if(Ln(M)){var P=A.getMouseInfo(E);M(P,E)}}),fn(A,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),fn(A,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseDown(E.changedTouches[0])}),fn(A,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseUp(E.changedTouches[0])}),fn(A,"handleDoubleClick",function(E){var M=A.props.onDoubleClick;if(Ln(M)){var P=A.getMouseInfo(E);M(P,E)}}),fn(A,"handleContextMenu",function(E){var M=A.props.onContextMenu;if(Ln(M)){var P=A.getMouseInfo(E);M(P,E)}}),fn(A,"triggerSyncEvent",function(E){A.props.syncId!==void 0&&a5.emit(o5,A.props.syncId,E,A.eventEmitterSymbol)}),fn(A,"applySyncEvent",function(E){var M=A.props,P=M.layout,D=M.syncMethod,N=A.state.updateId,C=E.dataStartIndex,O=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)A.setState(pt({dataStartIndex:C,dataEndIndex:O},d({props:A.props,dataStartIndex:C,dataEndIndex:O,updateId:N},A.state)));else if(E.activeTooltipIndex!==void 0){var j=E.chartX,F=E.chartY,Z=E.activeTooltipIndex,H=A.state,q=H.offset,B=H.tooltipTicks;if(!q)return;if(typeof D=="function")Z=D(B,E);else if(D==="value"){Z=-1;for(var z=0;z<B.length;z++)if(B[z].value===E.activeLabel){Z=z;break}}var $=pt(pt({},q),{},{x:q.left,y:q.top}),X=Math.min(j,$.x+$.width),k=Math.min(F,$.y+$.height),V=B[Z]&&B[Z].value,G=RE(A.state,A.props.data,Z),K=B[Z]?{x:P==="horizontal"?B[Z].coordinate:X,y:P==="horizontal"?k:B[Z].coordinate}:Az;A.setState(pt(pt({},E),{},{activeLabel:V,activeCoordinate:K,activePayload:G,activeTooltipIndex:Z}))}else A.setState(E)}),fn(A,"renderCursor",function(E){var M,P=A.state,D=P.isTooltipActive,N=P.activeCoordinate,C=P.activePayload,O=P.offset,j=P.activeTooltipIndex,F=P.tooltipAxisBandSize,Z=A.getTooltipEventType(),H=(M=E.props.active)!==null&&M!==void 0?M:D,q=A.props.layout,B=E.key||"_recharts-cursor";return De.createElement(r0e,{key:B,activeCoordinate:N,activePayload:C,activeTooltipIndex:j,chartName:n,element:E,isActive:H,layout:q,offset:O,tooltipAxisBandSize:F,tooltipEventType:Z})}),fn(A,"renderPolarAxis",function(E,M,P){var D=yl(E,"type.axisType"),N=yl(A.state,"".concat(D,"Map")),C=E.type.defaultProps,O=C!==void 0?pt(pt({},C),E.props):E.props,j=N&&N[O["".concat(D,"Id")]];return je.cloneElement(E,pt(pt({},j),{},{className:Qn(D,j.className),key:E.key||"".concat(M,"-").concat(P),ticks:wc(j,!0)}))}),fn(A,"renderPolarGrid",function(E){var M=E.props,P=M.radialLines,D=M.polarAngles,N=M.polarRadius,C=A.state,O=C.radiusAxisMap,j=C.angleAxisMap,F=Ff(O),Z=Ff(j),H=Z.cx,q=Z.cy,B=Z.innerRadius,z=Z.outerRadius;return je.cloneElement(E,{polarAngles:Array.isArray(D)?D:wc(Z,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(N)?N:wc(F,!0).map(function($){return $.coordinate}),cx:H,cy:q,innerRadius:B,outerRadius:z,key:E.key||"polar-grid",radialLines:P})}),fn(A,"renderLegend",function(){var E=A.state.formattedGraphicalItems,M=A.props,P=M.children,D=M.width,N=M.height,C=A.props.margin||{},O=D-(C.left||0)-(C.right||0),j=pB({children:P,formattedGraphicalItems:E,legendWidth:O,legendContent:u});if(!j)return null;var F=j.item,Z=HR(j,i0e);return je.cloneElement(F,pt(pt({},Z),{},{chartWidth:D,chartHeight:N,margin:C,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),fn(A,"renderTooltip",function(){var E,M=A.props,P=M.children,D=M.accessibilityLayer,N=Ps(P,Eu);if(!N)return null;var C=A.state,O=C.isTooltipActive,j=C.activeCoordinate,F=C.activePayload,Z=C.activeLabel,H=C.offset,q=(E=N.props.active)!==null&&E!==void 0?E:O;return je.cloneElement(N,{viewBox:pt(pt({},H),{},{x:H.left,y:H.top}),active:q,label:Z,payload:q?F:[],coordinate:j,accessibilityLayer:D})}),fn(A,"renderBrush",function(E){var M=A.props,P=M.margin,D=M.data,N=A.state,C=N.offset,O=N.dataStartIndex,j=N.dataEndIndex,F=N.updateId;return je.cloneElement(E,{key:E.key||"_recharts-brush",onChange:n2(A.handleBrushChange,E.props.onChange),data:D,x:Dt(E.props.x)?E.props.x:C.left,y:Dt(E.props.y)?E.props.y:C.top+C.height+C.brushBottom-(P.bottom||0),width:Dt(E.props.width)?E.props.width:C.width,startIndex:O,endIndex:j,updateId:"brush-".concat(F)})}),fn(A,"renderReferenceElement",function(E,M,P){if(!E)return null;var D=A,N=D.clipPathId,C=A.state,O=C.xAxisMap,j=C.yAxisMap,F=C.offset,Z=E.type.defaultProps||{},H=E.props,q=H.xAxisId,B=q===void 0?Z.xAxisId:q,z=H.yAxisId,$=z===void 0?Z.yAxisId:z;return je.cloneElement(E,{key:E.key||"".concat(M,"-").concat(P),xAxis:O[B],yAxis:j[$],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:N})}),fn(A,"renderActivePoints",function(E){var M=E.item,P=E.activePoint,D=E.basePoint,N=E.childIndex,C=E.isRange,O=[],j=M.props.key,F=M.item.type.defaultProps!==void 0?pt(pt({},M.item.type.defaultProps),M.item.props):M.item.props,Z=F.activeDot,H=F.dataKey,q=pt(pt({index:N,dataKey:H,cx:P.x,cy:P.y,r:4,fill:LP(M.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},jn(Z,!1)),rb(Z));return O.push(g.renderActiveDot(Z,q,"".concat(j,"-activePoint-").concat(N))),D?O.push(g.renderActiveDot(Z,pt(pt({},q),{},{cx:D.x,cy:D.y}),"".concat(j,"-basePoint-").concat(N))):C&&O.push(null),O}),fn(A,"renderGraphicChild",function(E,M,P){var D=A.filterFormatItem(E,M,P);if(!D)return null;var N=A.getTooltipEventType(),C=A.state,O=C.isTooltipActive,j=C.tooltipAxis,F=C.activeTooltipIndex,Z=C.activeLabel,H=A.props.children,q=Ps(H,Eu),B=D.props,z=B.points,$=B.isRange,X=B.baseLine,k=D.item.type.defaultProps!==void 0?pt(pt({},D.item.type.defaultProps),D.item.props):D.item.props,V=k.activeDot,G=k.hide,K=k.activeBar,ne=k.activeShape,ue=!!(!G&&O&&q&&(V||K||ne)),he={};N!=="axis"&&q&&q.props.trigger==="click"?he={onClick:n2(A.handleItemMouseEnter,E.props.onClick)}:N!=="axis"&&(he={onMouseLeave:n2(A.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:n2(A.handleItemMouseEnter,E.props.onMouseEnter)});var ce=je.cloneElement(E,pt(pt({},D.props),he));function Me(ee){return typeof j.dataKey=="function"?j.dataKey(ee.payload):null}if(ue)if(F>=0){var ye,J;if(j.dataKey&&!j.allowDuplicatedCategory){var Ee=typeof j.dataKey=="function"?Me:"payload.".concat(j.dataKey.toString());ye=nb(z,Ee,Z),J=$&&X&&nb(X,Ee,Z)}else ye=z==null?void 0:z[F],J=$&&X&&X[F];if(ne||K){var Ae=E.props.activeIndex!==void 0?E.props.activeIndex:F;return[je.cloneElement(E,pt(pt(pt({},D.props),he),{},{activeIndex:Ae})),null,null]}if(!Fn(ye))return[ce].concat(mg(A.renderActivePoints({item:D,activePoint:ye,basePoint:J,childIndex:F,isRange:$})))}else{var me,ie=(me=A.getItemByXY(A.state.activeCoordinate))!==null&&me!==void 0?me:{graphicalItem:ce},He=ie.graphicalItem,Ce=He.item,Le=Ce===void 0?E:Ce,Fe=He.childIndex,te=pt(pt(pt({},D.props),he),{},{activeIndex:Fe});return[je.cloneElement(Le,te),null,null]}return $?[ce,null,null]:[ce,null]}),fn(A,"renderCustomized",function(E,M,P){return je.cloneElement(E,pt(pt({key:"recharts-customized-".concat(P)},A.props),A.state))}),fn(A,"renderMap",{CartesianGrid:{handler:s2,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:s2},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:s2},YAxis:{handler:s2},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:Ky("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=dU(A.triggeredAfterMouseMove,(S=_.throttleDelay)!==null&&S!==void 0?S:1e3/60),A.state={},A}return g0e(g,y),h0e(g,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,A=b.data,E=b.height,M=b.layout,P=Ps(S,Eu);if(P){var D=P.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,C=RE(this.state,A,D,N),O=this.state.tooltipTicks[D].coordinate,j=(this.state.offset.top+E)/2,F=M==="horizontal",Z=F?{x:O,y:j}:{y:O,x:j},H=this.state.formattedGraphicalItems.find(function(B){var z=B.item;return z.type.name==="Scatter"});H&&(Z=pt(pt({},Z),H.props.points[D].tooltipPosition),C=H.props.points[D].tooltipPayload);var q={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:Z};this.setState(q),this.renderCursor(P),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var A,E;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(b){fM([Ps(b.children,Eu)],[Ps(this.props.children,Eu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ps(this.props.children,Eu);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,A=S.getBoundingClientRect(),E=cae(A),M={chartX:Math.round(b.pageX-E.left),chartY:Math.round(b.pageY-E.top)},P=A.width/S.offsetWidth||1,D=this.inRange(M.chartX,M.chartY,P);if(!D)return null;var N=this.state,C=N.xAxisMap,O=N.yAxisMap,j=this.getTooltipEventType();if(j!=="axis"&&C&&O){var F=Ff(C).scale,Z=Ff(O).scale,H=F&&F.invert?F.invert(M.chartX):null,q=Z&&Z.invert?Z.invert(M.chartY):null;return pt(pt({},M),{},{xValue:H,yValue:q})}var B=GR(this.state,this.props.data,this.props.layout,D);return B?pt(pt({},M),B):null}},{key:"inRange",value:function(b,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,M=b/A,P=S/A;if(E==="horizontal"||E==="vertical"){var D=this.state.offset,N=M>=D.left&&M<=D.left+D.width&&P>=D.top&&P<=D.top+D.height;return N?{x:M,y:P}:null}var C=this.state,O=C.angleAxisMap,j=C.radiusAxisMap;if(O&&j){var F=Ff(O);return MO({x:M,y:P},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),A=Ps(b,Eu),E={};A&&S==="axis"&&(A.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=rb(this.props,this.handleOuterEvent);return pt(pt({},M),E)}},{key:"addListener",value:function(){a5.on(o5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a5.removeListener(o5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,A){for(var E=this.state.formattedGraphicalItems,M=0,P=E.length;M<P;M++){var D=E[M];if(D.item===b||D.props.key===b.key||S===Ec(D.item.type)&&A===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,A=S.left,E=S.top,M=S.height,P=S.width;return De.createElement("defs",null,De.createElement("clipPath",{id:b},De.createElement("rect",{x:A,y:E,height:M,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,A){var E=jR(A,2),M=E[0],P=E[1];return pt(pt({},S),{},fn({},M,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,A){var E=jR(A,2),M=E[0],P=E[1];return pt(pt({},S),{},fn({},M,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,A=S.formattedGraphicalItems,E=S.activeItem;if(A&&A.length)for(var M=0,P=A.length;M<P;M++){var D=A[M],N=D.props,C=D.item,O=C.type.defaultProps!==void 0?pt(pt({},C.type.defaultProps),C.props):C.props,j=Ec(C.type);if(j==="Bar"){var F=(N.data||[]).find(function(B){return $he(b,B)});if(F)return{graphicalItem:D,payload:F}}else if(j==="RadialBar"){var Z=(N.data||[]).find(function(B){return MO(b,B)});if(Z)return{graphicalItem:D,payload:Z}}else if(ow(D,E)||sw(D,E)||cy(D,E)){var H=Yde({graphicalItem:D,activeTooltipItem:E,itemData:O.data}),q=O.activeIndex===void 0?H:O.activeIndex;return{graphicalItem:pt(pt({},D),{},{childIndex:q}),payload:cy(D,E)?O.data[H]:D.props.data[H]}}}return null}},{key:"render",value:function(){var b=this;if(!mL(this))return null;var S=this.props,A=S.children,E=S.className,M=S.width,P=S.height,D=S.style,N=S.compact,C=S.title,O=S.desc,j=HR(S,a0e),F=jn(j,!1);if(N)return De.createElement(SR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},De.createElement(dM,Sm({},F,{width:M,height:P,title:C,desc:O}),this.renderClipPath(),vL(A,this.renderMap)));if(this.props.accessibilityLayer){var Z,H;F.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,F.role=(H=this.props.role)!==null&&H!==void 0?H:"application",F.onKeyDown=function(B){b.accessibilityManager.keyboardEvent(B)},F.onFocus=function(){b.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return De.createElement(SR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},De.createElement("div",Sm({className:Qn("recharts-wrapper",E),style:pt({position:"relative",cursor:"default",width:M,height:P},D)},q,{ref:function(z){b.container=z}}),De.createElement(dM,Sm({},F,{width:M,height:P,title:C,desc:O,style:w0e}),this.renderClipPath(),vL(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(je.Component);fn(m,"displayName",n),fn(m,"defaultProps",pt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fn(m,"getDerivedStateFromProps",function(y,g){var _=y.dataKey,b=y.data,S=y.children,A=y.width,E=y.height,M=y.layout,P=y.stackOffset,D=y.margin,N=g.dataStartIndex,C=g.dataEndIndex;if(g.updateId===void 0){var O=VR(y);return pt(pt(pt({},O),{},{updateId:0},d(pt(pt({props:y},O),{},{updateId:0}),g)),{},{prevDataKey:_,prevData:b,prevWidth:A,prevHeight:E,prevLayout:M,prevStackOffset:P,prevMargin:D,prevChildren:S})}if(_!==g.prevDataKey||b!==g.prevData||A!==g.prevWidth||E!==g.prevHeight||M!==g.prevLayout||P!==g.prevStackOffset||!Dm(D,g.prevMargin)){var j=VR(y),F={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},Z=pt(pt({},GR(g,b,M)),{},{updateId:g.updateId+1}),H=pt(pt(pt({},j),F),Z);return pt(pt(pt({},H),d(pt({props:y},H),g)),{},{prevDataKey:_,prevData:b,prevWidth:A,prevHeight:E,prevLayout:M,prevStackOffset:P,prevMargin:D,prevChildren:S})}if(!fM(S,g.prevChildren)){var q,B,z,$,X=Ps(S,ag),k=X&&(q=(B=X.props)===null||B===void 0?void 0:B.startIndex)!==null&&q!==void 0?q:N,V=X&&(z=($=X.props)===null||$===void 0?void 0:$.endIndex)!==null&&z!==void 0?z:C,G=k!==N||V!==C,K=!Fn(b),ne=K&&!G?g.updateId:g.updateId+1;return pt(pt({updateId:ne},d(pt(pt({props:y},g),{},{updateId:ne,dataStartIndex:k,dataEndIndex:V}),g)),{},{prevChildren:S,dataStartIndex:k,dataEndIndex:V})}return null}),fn(m,"renderActiveDot",function(y,g,_){var b;return je.isValidElement(y)?b=je.cloneElement(y,g):Ln(y)?b=y(g):b=De.createElement(OP,g),De.createElement(Hi,{className:"recharts-active-dot",key:_},b)});var x=je.forwardRef(function(g,_){return De.createElement(m,Sm({},g,{ref:_}))});return x.displayName=m.displayName,x},R0e=O0e({chartName:"LineChart",GraphicalChild:Td,axisComponents:[{axisType:"xAxis",AxisComp:dw},{axisType:"yAxis",AxisComp:Bm}],formatAxisMap:bme});/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mw="162",td={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},nd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ez=0,IE=1,Tz=2,I0e=3,Pz=0,gw=1,o0=2,Vl=3,Bc=0,So=1,eu=2,Lc=0,Pd=1,vy=2,kE=3,DE=4,Cz=5,Uf=100,Lz=101,Nz=102,FE=103,UE=104,Oz=200,Rz=201,Iz=202,kz=203,n_=204,r_=205,Dz=206,Fz=207,Uz=208,Bz=209,zz=210,jz=211,Hz=212,Wz=213,Gz=214,Vz=0,$z=1,qz=2,yy=3,Xz=4,Yz=5,Kz=6,Zz=7,i1=0,Jz=1,Qz=2,Du=0,e7=1,t7=2,n7=3,HP=4,r7=5,i7=6,a7=7,BE="attached",o7="detached",vw=300,zc=301,sh=302,xy=303,by=304,Dg=306,_y=1e3,_o=1001,wy=1002,Di=1003,i_=1004,k0e=1004,od=1005,D0e=1005,Xr=1006,s0=1007,F0e=1007,Cu=1008,U0e=1008,Fu=1009,s7=1010,l7=1011,yw=1012,WP=1013,Sc=1014,Ls=1015,gg=1016,GP=1017,VP=1018,eh=1020,u7=1021,Fo=1023,c7=1024,f7=1025,th=1026,$d=1027,$P=1028,qP=1029,h7=1030,XP=1031,YP=1033,wx=33776,Sx=33777,Ax=33778,Mx=33779,zE=35840,jE=35841,HE=35842,WE=35843,KP=36196,GE=37492,VE=37496,$E=37808,qE=37809,XE=37810,YE=37811,KE=37812,ZE=37813,JE=37814,QE=37815,e3=37816,t3=37817,n3=37818,r3=37819,i3=37820,a3=37821,Ex=36492,o3=36494,s3=36495,d7=36283,l3=36284,u3=36285,c3=36286,p7=2200,m7=2201,g7=2202,Sy=2300,Ay=2301,Tx=2302,gd=2400,vd=2401,My=2402,xw=2500,ZP=2501,B0e=0,z0e=1,j0e=2,v7=3200,JP=3201,xh=0,y7=1,gc="",hl="srgb",$c="srgb-linear",bw="display-p3",a1="display-p3-linear",Ey="linear",Dr="srgb",Ty="rec709",Py="p3",H0e=0,rd=7680,W0e=7681,G0e=7682,V0e=7683,$0e=34055,q0e=34056,X0e=5386,Y0e=512,K0e=513,Z0e=514,J0e=515,Q0e=516,eye=517,tye=518,f3=519,x7=512,b7=513,_7=514,QP=515,w7=516,S7=517,A7=518,M7=519,Cy=35044,nye=35048,rye=35040,iye=35045,aye=35049,oye=35041,sye=35046,lye=35050,uye=35042,cye="100",h3="300 es",a_=1035,Lu=2e3,Ly=2001;let qc=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const uo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let qR=1234567;const Cd=Math.PI/180,vg=180/Math.PI;function ks(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(uo[t&255]+uo[t>>8&255]+uo[t>>16&255]+uo[t>>24&255]+"-"+uo[e&255]+uo[e>>8&255]+"-"+uo[e>>16&15|64]+uo[e>>24&255]+"-"+uo[n&63|128]+uo[n>>8&255]+"-"+uo[n>>16&255]+uo[n>>24&255]+uo[r&255]+uo[r>>8&255]+uo[r>>16&255]+uo[r>>24&255]).toLowerCase()}function Ci(t,e,n){return Math.max(e,Math.min(n,t))}function eC(t,e){return(t%e+e)%e}function fye(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function hye(t,e,n){return t!==e?(n-t)/(e-t):0}function l0(t,e,n){return(1-n)*t+n*e}function dye(t,e,n,r){return l0(t,e,1-Math.exp(-n*r))}function pye(t,e=1){return e-Math.abs(eC(t,e*2)-e)}function mye(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function gye(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function vye(t,e){return t+Math.floor(Math.random()*(e-t+1))}function yye(t,e){return t+Math.random()*(e-t)}function xye(t){return t*(.5-Math.random())}function bye(t){t!==void 0&&(qR=t);let e=qR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _ye(t){return t*Cd}function wye(t){return t*vg}function d3(t){return(t&t-1)===0&&t!==0}function Sye(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function o_(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Aye(t,e,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+r)/2),c=o((e+r)/2),f=a((e-r)/2),h=o((e-r)/2),d=a((r-e)/2),m=o((r-e)/2);switch(i){case"XYX":t.set(s*c,l*f,l*h,s*u);break;case"YZY":t.set(l*h,s*c,l*f,s*u);break;case"ZXZ":t.set(l*f,l*h,s*c,s*u);break;case"XZX":t.set(s*c,l*m,l*d,s*u);break;case"YXY":t.set(l*d,s*c,l*m,s*u);break;case"ZYZ":t.set(l*m,l*d,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Uo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function En(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Mye={DEG2RAD:Cd,RAD2DEG:vg,generateUUID:ks,clamp:Ci,euclideanModulo:eC,mapLinear:fye,inverseLerp:hye,lerp:l0,damp:dye,pingpong:pye,smoothstep:mye,smootherstep:gye,randInt:vye,randFloat:yye,randFloatSpread:xye,seededRandom:bye,degToRad:_ye,radToDeg:wye,isPowerOfTwo:d3,ceilPowerOfTwo:Sye,floorPowerOfTwo:o_,setQuaternionFromProperEuler:Aye,normalize:En,denormalize:Uo};class dt{constructor(e=0,n=0){dt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ci(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Sn{constructor(e,n,r,i,a,o,s,l,u){Sn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u)}set(e,n,r,i,a,o,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=a,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],d=r[5],m=r[8],x=i[0],y=i[3],g=i[6],_=i[1],b=i[4],S=i[7],A=i[2],E=i[5],M=i[8];return a[0]=o*x+s*_+l*A,a[3]=o*y+s*b+l*E,a[6]=o*g+s*S+l*M,a[1]=u*x+c*_+f*A,a[4]=u*y+c*b+f*E,a[7]=u*g+c*S+f*M,a[2]=h*x+d*_+m*A,a[5]=h*y+d*b+m*E,a[8]=h*g+d*S+m*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*s*u-r*a*c+r*s*l+i*a*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,h=s*l-c*a,d=u*a-o*l,m=n*f+r*h+i*d;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/m;return e[0]=f*x,e[1]=(i*u-c*r)*x,e[2]=(s*r-i*o)*x,e[3]=h*x,e[4]=(c*n-i*l)*x,e[5]=(i*a-s*n)*x,e[6]=d*x,e[7]=(r*l-u*n)*x,e[8]=(o*n-r*a)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-i*u,i*l,-i*(-u*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(l5.makeScale(e,n)),this}rotate(e){return this.premultiply(l5.makeRotation(-e)),this}translate(e,n){return this.premultiply(l5.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const l5=new Sn;function E7(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Eye={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Am(t,e){return new Eye[t](e)}function Ny(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function T7(){const t=Ny("canvas");return t.style.display="block",t}const XR={};function P7(t){t in XR||(XR[t]=!0,console.warn(t))}const YR=new Sn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),KR=new Sn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),l2={[$c]:{transfer:Ey,primaries:Ty,toReference:t=>t,fromReference:t=>t},[hl]:{transfer:Dr,primaries:Ty,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[a1]:{transfer:Ey,primaries:Py,toReference:t=>t.applyMatrix3(KR),fromReference:t=>t.applyMatrix3(YR)},[bw]:{transfer:Dr,primaries:Py,toReference:t=>t.convertSRGBToLinear().applyMatrix3(KR),fromReference:t=>t.applyMatrix3(YR).convertLinearToSRGB()}},Tye=new Set([$c,a1]),mr={enabled:!0,_workingColorSpace:$c,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Tye.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=l2[e].toReference,i=l2[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return l2[t].primaries},getTransfer:function(t){return t===gc?Ey:l2[t].transfer}};function zm(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function u5(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Op;class tC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Op===void 0&&(Op=Ny("canvas")),Op.width=e.width,Op.height=e.height;const r=Op.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Op}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ny("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=zm(a[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(zm(n[r]/255)*255):n[r]=zm(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Pye=0;class yd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Pye++}),this.uuid=ks(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(c5(i[o].image)):a.push(c5(i[o]))}else a=c5(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function c5(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?tC.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Cye=0;class yi extends qc{constructor(e=yi.DEFAULT_IMAGE,n=yi.DEFAULT_MAPPING,r=_o,i=_o,a=Xr,o=Cu,s=Fo,l=Fu,u=yi.DEFAULT_ANISOTROPY,c=gc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Cye++}),this.uuid=ks(),this.name="",this.source=new yd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new dt(0,0),this.repeat=new dt(1,1),this.center=new dt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==vw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _y:e.x=e.x-Math.floor(e.x);break;case _o:e.x=e.x<0?0:1;break;case wy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case _y:e.y=e.y-Math.floor(e.y);break;case _o:e.y=e.y<0?0:1;break;case wy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}yi.DEFAULT_IMAGE=null;yi.DEFAULT_MAPPING=vw;yi.DEFAULT_ANISOTROPY=1;class ar{constructor(e=0,n=0,r=0,i=1){ar.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],d=l[5],m=l[9],x=l[2],y=l[6],g=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-x)<.01&&Math.abs(m-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+x)<.1&&Math.abs(m+y)<.1&&Math.abs(u+d+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,S=(d+1)/2,A=(g+1)/2,E=(c+h)/4,M=(f+x)/4,P=(m+y)/4;return b>S&&b>A?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=E/r,a=M/r):S>A?S<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(S),r=E/i,a=P/i):A<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(A),r=M/a,i=P/a),this.set(r,i,a,n),this}let _=Math.sqrt((y-m)*(y-m)+(f-x)*(f-x)+(h-c)*(h-c));return Math.abs(_)<.001&&(_=1),this.x=(y-m)/_,this.y=(f-x)/_,this.z=(h-c)/_,this.w=Math.acos((u+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class C7 extends qc{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new ar(0,0,e,n),this.scissorTest=!1,this.viewport=new ar(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Xr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const a=new yi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new yd(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class au extends C7{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class _w extends yi{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Di,this.minFilter=Di,this.wrapR=_o,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lye extends au{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new _w(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class nC extends yi{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Di,this.minFilter=Di,this.wrapR=_o,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Nye extends au{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new nC(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Ao{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,o,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=a[o+0],d=a[o+1],m=a[o+2],x=a[o+3];if(s===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(s===1){e[n+0]=h,e[n+1]=d,e[n+2]=m,e[n+3]=x;return}if(f!==x||l!==h||u!==d||c!==m){let y=1-s;const g=l*h+u*d+c*m+f*x,_=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const A=Math.sqrt(b),E=Math.atan2(A,g*_);y=Math.sin(y*E)/A,s=Math.sin(s*E)/A}const S=s*_;if(l=l*y+h*S,u=u*y+d*S,c=c*y+m*S,f=f*y+x*S,y===1-s){const A=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=A,u*=A,c*=A,f*=A}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,a,o){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=a[o],h=a[o+1],d=a[o+2],m=a[o+3];return e[n]=s*m+c*f+l*d-u*h,e[n+1]=l*m+c*h+u*f-s*d,e[n+2]=u*m+c*d+s*h-l*f,e[n+3]=c*m-s*f-l*h-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(a/2),h=l(r/2),d=l(i/2),m=l(a/2);switch(o){case"XYZ":this._x=h*c*f+u*d*m,this._y=u*d*f-h*c*m,this._z=u*c*m+h*d*f,this._w=u*c*f-h*d*m;break;case"YXZ":this._x=h*c*f+u*d*m,this._y=u*d*f-h*c*m,this._z=u*c*m-h*d*f,this._w=u*c*f+h*d*m;break;case"ZXY":this._x=h*c*f-u*d*m,this._y=u*d*f+h*c*m,this._z=u*c*m+h*d*f,this._w=u*c*f-h*d*m;break;case"ZYX":this._x=h*c*f-u*d*m,this._y=u*d*f+h*c*m,this._z=u*c*m-h*d*f,this._w=u*c*f+h*d*m;break;case"YZX":this._x=h*c*f+u*d*m,this._y=u*d*f+h*c*m,this._z=u*c*m-h*d*f,this._w=u*c*f-h*d*m;break;case"XZY":this._x=h*c*f-u*d*m,this._y=u*d*f-h*c*m,this._z=u*c*m+h*d*f,this._w=u*c*f+h*d*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=r+s+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(c-l)*d,this._y=(a-u)*d,this._z=(o-i)*d}else if(r>s&&r>f){const d=2*Math.sqrt(1+r-s-f);this._w=(c-l)/d,this._x=.25*d,this._y=(i+o)/d,this._z=(a+u)/d}else if(s>f){const d=2*Math.sqrt(1+s-r-f);this._w=(a-u)/d,this._x=(i+o)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+f-r-s);this._w=(o-i)/d,this._x=(a+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ci(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,o=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*s+i*u-a*l,this._y=i*c+o*l+a*s-r*u,this._z=a*c+o*u+r*l-i*s,this._w=o*c-r*s-i*l-a*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,o=this._w;let s=o*e._w+r*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const d=1-n;return this._w=d*o+n*this._w,this._x=d*r+n*this._x,this._y=d*i+n*this._y,this._z=d*a+n*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),f=Math.sin((1-n)*c)/u,h=Math.sin(n*c)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=a*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ve{constructor(e=0,n=0,r=0){ve.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ZR.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ZR.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*i-s*r),c=2*(s*n-a*i),f=2*(a*r-o*n);return this.x=n+l*u+o*f-s*c,this.y=r+l*c+s*u-a*f,this.z=i+l*f+a*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,o=n.x,s=n.y,l=n.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return f5.copy(this).projectOnVector(e),this.sub(f5)}reflect(e){return this.sub(f5.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ci(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const f5=new ve,ZR=new Ao;class Ja{constructor(e=new ve(1/0,1/0,1/0),n=new ve(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Bl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Bl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Bl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Bl):Bl.fromBufferAttribute(a,o),Bl.applyMatrix4(e.matrixWorld),this.expandByPoint(Bl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),u2.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),u2.copy(r.boundingBox)),u2.applyMatrix4(e.matrixWorld),this.union(u2)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Bl),Bl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Av),c2.subVectors(this.max,Av),Rp.subVectors(e.a,Av),Ip.subVectors(e.b,Av),kp.subVectors(e.c,Av),_f.subVectors(Ip,Rp),wf.subVectors(kp,Ip),Dh.subVectors(Rp,kp);let n=[0,-_f.z,_f.y,0,-wf.z,wf.y,0,-Dh.z,Dh.y,_f.z,0,-_f.x,wf.z,0,-wf.x,Dh.z,0,-Dh.x,-_f.y,_f.x,0,-wf.y,wf.x,0,-Dh.y,Dh.x,0];return!h5(n,Rp,Ip,kp,c2)||(n=[1,0,0,0,1,0,0,0,1],!h5(n,Rp,Ip,kp,c2))?!1:(f2.crossVectors(_f,wf),n=[f2.x,f2.y,f2.z],h5(n,Rp,Ip,kp,c2))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Bl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Bl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ac[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ac[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ac[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ac[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ac[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ac[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ac[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ac[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ac),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ac=[new ve,new ve,new ve,new ve,new ve,new ve,new ve,new ve],Bl=new ve,u2=new Ja,Rp=new ve,Ip=new ve,kp=new ve,_f=new ve,wf=new ve,Dh=new ve,Av=new ve,c2=new ve,f2=new ve,Fh=new ve;function h5(t,e,n,r,i){for(let a=0,o=t.length-3;a<=o;a+=3){Fh.fromArray(t,a);const s=i.x*Math.abs(Fh.x)+i.y*Math.abs(Fh.y)+i.z*Math.abs(Fh.z),l=e.dot(Fh),u=n.dot(Fh),c=r.dot(Fh);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Oye=new Ja,Mv=new ve,d5=new ve;class Qa{constructor(e=new ve,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Oye.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Mv.subVectors(e,this.center);const n=Mv.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Mv,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(d5.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Mv.copy(e.center).add(d5)),this.expandByPoint(Mv.copy(e.center).sub(d5))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const oc=new ve,p5=new ve,h2=new ve,Sf=new ve,m5=new ve,d2=new ve,g5=new ve;class np{constructor(e=new ve,n=new ve(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=oc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(oc.copy(this.origin).addScaledVector(this.direction,n),oc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){p5.copy(e).add(n).multiplyScalar(.5),h2.copy(n).sub(e).normalize(),Sf.copy(this.origin).sub(p5);const a=e.distanceTo(n)*.5,o=-this.direction.dot(h2),s=Sf.dot(this.direction),l=-Sf.dot(h2),u=Sf.lengthSq(),c=Math.abs(1-o*o);let f,h,d,m;if(c>0)if(f=o*l-s,h=o*s-l,m=a*c,f>=0)if(h>=-m)if(h<=m){const x=1/c;f*=x,h*=x,d=f*(f+o*h+2*s)+h*(o*f+h+2*l)+u}else h=a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;else h=-a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;else h<=-m?(f=Math.max(0,-(-o*a+s)),h=f>0?-a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u):h<=m?(f=0,h=Math.min(Math.max(-a,-l),a),d=h*(h+2*l)+u):(f=Math.max(0,-(o*a+s)),h=f>0?a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u);else h=o>0?-a:a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(p5).addScaledVector(h2,h),d}intersectSphere(e,n){oc.subVectors(e.center,this.origin);const r=oc.dot(this.direction),i=oc.dot(oc)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,o,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(a=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(a=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,oc)!==null}intersectTriangle(e,n,r,i,a){m5.subVectors(n,e),d2.subVectors(r,e),g5.crossVectors(m5,d2);let o=this.direction.dot(g5),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Sf.subVectors(this.origin,e);const l=s*this.direction.dot(d2.crossVectors(Sf,d2));if(l<0)return null;const u=s*this.direction.dot(m5.cross(Sf));if(u<0||l+u>o)return null;const c=-s*Sf.dot(g5);return c<0?null:this.at(c/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class cn{constructor(e,n,r,i,a,o,s,l,u,c,f,h,d,m,x,y){cn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u,c,f,h,d,m,x,y)}set(e,n,r,i,a,o,s,l,u,c,f,h,d,m,x,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=a,g[5]=o,g[9]=s,g[13]=l,g[2]=u,g[6]=c,g[10]=f,g[14]=h,g[3]=d,g[7]=m,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new cn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Dp.setFromMatrixColumn(e,0).length(),a=1/Dp.setFromMatrixColumn(e,1).length(),o=1/Dp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=o*c,d=o*f,m=s*c,x=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=d+m*u,n[5]=h-x*u,n[9]=-s*l,n[2]=x-h*u,n[6]=m+d*u,n[10]=o*l}else if(e.order==="YXZ"){const h=l*c,d=l*f,m=u*c,x=u*f;n[0]=h+x*s,n[4]=m*s-d,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-s,n[2]=d*s-m,n[6]=x+h*s,n[10]=o*l}else if(e.order==="ZXY"){const h=l*c,d=l*f,m=u*c,x=u*f;n[0]=h-x*s,n[4]=-o*f,n[8]=m+d*s,n[1]=d+m*s,n[5]=o*c,n[9]=x-h*s,n[2]=-o*u,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){const h=o*c,d=o*f,m=s*c,x=s*f;n[0]=l*c,n[4]=m*u-d,n[8]=h*u+x,n[1]=l*f,n[5]=x*u+h,n[9]=d*u-m,n[2]=-u,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*u,m=s*l,x=s*u;n[0]=l*c,n[4]=x-h*f,n[8]=m*f+d,n[1]=f,n[5]=o*c,n[9]=-s*c,n[2]=-u*c,n[6]=d*f+m,n[10]=h-x*f}else if(e.order==="XZY"){const h=o*l,d=o*u,m=s*l,x=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=h*f+x,n[5]=o*c,n[9]=d*f-m,n[2]=m*f-d,n[6]=s*c,n[10]=x*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Rye,e,Iye)}lookAt(e,n,r){const i=this.elements;return Ss.subVectors(e,n),Ss.lengthSq()===0&&(Ss.z=1),Ss.normalize(),Af.crossVectors(r,Ss),Af.lengthSq()===0&&(Math.abs(r.z)===1?Ss.x+=1e-4:Ss.z+=1e-4,Ss.normalize(),Af.crossVectors(r,Ss)),Af.normalize(),p2.crossVectors(Ss,Af),i[0]=Af.x,i[4]=p2.x,i[8]=Ss.x,i[1]=Af.y,i[5]=p2.y,i[9]=Ss.y,i[2]=Af.z,i[6]=p2.z,i[10]=Ss.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],d=r[13],m=r[2],x=r[6],y=r[10],g=r[14],_=r[3],b=r[7],S=r[11],A=r[15],E=i[0],M=i[4],P=i[8],D=i[12],N=i[1],C=i[5],O=i[9],j=i[13],F=i[2],Z=i[6],H=i[10],q=i[14],B=i[3],z=i[7],$=i[11],X=i[15];return a[0]=o*E+s*N+l*F+u*B,a[4]=o*M+s*C+l*Z+u*z,a[8]=o*P+s*O+l*H+u*$,a[12]=o*D+s*j+l*q+u*X,a[1]=c*E+f*N+h*F+d*B,a[5]=c*M+f*C+h*Z+d*z,a[9]=c*P+f*O+h*H+d*$,a[13]=c*D+f*j+h*q+d*X,a[2]=m*E+x*N+y*F+g*B,a[6]=m*M+x*C+y*Z+g*z,a[10]=m*P+x*O+y*H+g*$,a[14]=m*D+x*j+y*q+g*X,a[3]=_*E+b*N+S*F+A*B,a[7]=_*M+b*C+S*Z+A*z,a[11]=_*P+b*O+S*H+A*$,a[15]=_*D+b*j+S*q+A*X,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],d=e[14],m=e[3],x=e[7],y=e[11],g=e[15];return m*(+a*l*f-i*u*f-a*s*h+r*u*h+i*s*d-r*l*d)+x*(+n*l*d-n*u*h+a*o*h-i*o*d+i*u*c-a*l*c)+y*(+n*u*f-n*s*d-a*o*f+r*o*d+a*s*c-r*u*c)+g*(-i*s*c-n*l*f+n*s*h+i*o*f-r*o*h+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],m=e[12],x=e[13],y=e[14],g=e[15],_=f*y*u-x*h*u+x*l*d-s*y*d-f*l*g+s*h*g,b=m*h*u-c*y*u-m*l*d+o*y*d+c*l*g-o*h*g,S=c*x*u-m*f*u+m*s*d-o*x*d-c*s*g+o*f*g,A=m*f*l-c*x*l-m*s*h+o*x*h+c*s*y-o*f*y,E=n*_+r*b+i*S+a*A;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/E;return e[0]=_*M,e[1]=(x*h*a-f*y*a-x*i*d+r*y*d+f*i*g-r*h*g)*M,e[2]=(s*y*a-x*l*a+x*i*u-r*y*u-s*i*g+r*l*g)*M,e[3]=(f*l*a-s*h*a-f*i*u+r*h*u+s*i*d-r*l*d)*M,e[4]=b*M,e[5]=(c*y*a-m*h*a+m*i*d-n*y*d-c*i*g+n*h*g)*M,e[6]=(m*l*a-o*y*a-m*i*u+n*y*u+o*i*g-n*l*g)*M,e[7]=(o*h*a-c*l*a+c*i*u-n*h*u-o*i*d+n*l*d)*M,e[8]=S*M,e[9]=(m*f*a-c*x*a-m*r*d+n*x*d+c*r*g-n*f*g)*M,e[10]=(o*x*a-m*s*a+m*r*u-n*x*u-o*r*g+n*s*g)*M,e[11]=(c*s*a-o*f*a-c*r*u+n*f*u+o*r*d-n*s*d)*M,e[12]=A*M,e[13]=(c*x*i-m*f*i+m*r*h-n*x*h-c*r*y+n*f*y)*M,e[14]=(m*s*i-o*x*i-m*r*l+n*x*l+o*r*y-n*s*y)*M,e[15]=(o*f*i-c*s*i+c*r*l-n*f*l-o*r*h+n*s*h)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,o=e.x,s=e.y,l=e.z,u=a*o,c=a*s;return this.set(u*o+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*o,0,u*l-i*s,c*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,o=n._y,s=n._z,l=n._w,u=a+a,c=o+o,f=s+s,h=a*u,d=a*c,m=a*f,x=o*c,y=o*f,g=s*f,_=l*u,b=l*c,S=l*f,A=r.x,E=r.y,M=r.z;return i[0]=(1-(x+g))*A,i[1]=(d+S)*A,i[2]=(m-b)*A,i[3]=0,i[4]=(d-S)*E,i[5]=(1-(h+g))*E,i[6]=(y+_)*E,i[7]=0,i[8]=(m+b)*M,i[9]=(y-_)*M,i[10]=(1-(h+x))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let a=Dp.set(i[0],i[1],i[2]).length();const o=Dp.set(i[4],i[5],i[6]).length(),s=Dp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],zl.copy(this);const u=1/a,c=1/o,f=1/s;return zl.elements[0]*=u,zl.elements[1]*=u,zl.elements[2]*=u,zl.elements[4]*=c,zl.elements[5]*=c,zl.elements[6]*=c,zl.elements[8]*=f,zl.elements[9]*=f,zl.elements[10]*=f,n.setFromRotationMatrix(zl),r.x=a,r.y=o,r.z=s,this}makePerspective(e,n,r,i,a,o,s=Lu){const l=this.elements,u=2*a/(n-e),c=2*a/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let d,m;if(s===Lu)d=-(o+a)/(o-a),m=-2*o*a/(o-a);else if(s===Ly)d=-o/(o-a),m=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,a,o,s=Lu){const l=this.elements,u=1/(n-e),c=1/(r-i),f=1/(o-a),h=(n+e)*u,d=(r+i)*c;let m,x;if(s===Lu)m=(o+a)*f,x=-2*f;else if(s===Ly)m=a*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=x,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Dp=new ve,zl=new cn,Rye=new ve(0,0,0),Iye=new ve(1,1,1),Af=new ve,p2=new ve,Ss=new ve,JR=new cn,QR=new Ao;class Us{constructor(e=0,n=0,r=0,i=Us.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],d=i[10];switch(n){case"XYZ":this._y=Math.asin(Ci(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ci(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(Ci(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Ci(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ci(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-Ci(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return JR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(JR,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return QR.setFromEuler(this),this.setFromQuaternion(QR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Us.DEFAULT_ORDER="XYZ";class Ld{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let kye=0;const eI=new ve,Fp=new Ao,sc=new cn,m2=new ve,Ev=new ve,Dye=new ve,Fye=new Ao,tI=new ve(1,0,0),nI=new ve(0,1,0),rI=new ve(0,0,1),Uye={type:"added"},Bye={type:"removed"},v5={type:"childadded",child:null},y5={type:"childremoved",child:null};class er extends qc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kye++}),this.uuid=ks(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=er.DEFAULT_UP.clone();const e=new ve,n=new Us,r=new Ao,i=new ve(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new cn},normalMatrix:{value:new Sn}}),this.matrix=new cn,this.matrixWorld=new cn,this.matrixAutoUpdate=er.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=er.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ld,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Fp.setFromAxisAngle(e,n),this.quaternion.multiply(Fp),this}rotateOnWorldAxis(e,n){return Fp.setFromAxisAngle(e,n),this.quaternion.premultiply(Fp),this}rotateX(e){return this.rotateOnAxis(tI,e)}rotateY(e){return this.rotateOnAxis(nI,e)}rotateZ(e){return this.rotateOnAxis(rI,e)}translateOnAxis(e,n){return eI.copy(e).applyQuaternion(this.quaternion),this.position.add(eI.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(tI,e)}translateY(e){return this.translateOnAxis(nI,e)}translateZ(e){return this.translateOnAxis(rI,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?m2.copy(e):m2.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ev.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sc.lookAt(Ev,m2,this.up):sc.lookAt(m2,Ev,this.up),this.quaternion.setFromRotationMatrix(sc),i&&(sc.extractRotation(i.matrixWorld),Fp.setFromRotationMatrix(sc),this.quaternion.premultiply(Fp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Uye),v5.child=e,this.dispatchEvent(v5),v5.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Bye),y5.child=e,this.dispatchEvent(y5),y5.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),sc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),sc.multiply(e.parent.matrixWorld)),e.applyMatrix4(sc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ev,e,Dye),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ev,Fye,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const a=n[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++){const s=i[a];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(n){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations),m=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),d.length>0&&(r.animations=d),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}er.DEFAULT_UP=new ve(0,1,0);er.DEFAULT_MATRIX_AUTO_UPDATE=!0;er.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const jl=new ve,lc=new ve,x5=new ve,uc=new ve,Up=new ve,Bp=new ve,iI=new ve,b5=new ve,_5=new ve,w5=new ve;class Ns{constructor(e=new ve,n=new ve,r=new ve){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),jl.subVectors(e,n),i.cross(jl);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){jl.subVectors(i,n),lc.subVectors(r,n),x5.subVectors(e,n);const o=jl.dot(jl),s=jl.dot(lc),l=jl.dot(x5),u=lc.dot(lc),c=lc.dot(x5),f=o*u-s*s;if(f===0)return a.set(0,0,0),null;const h=1/f,d=(u*l-s*c)*h,m=(o*c-s*l)*h;return a.set(1-d-m,m,d)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,uc)===null?!1:uc.x>=0&&uc.y>=0&&uc.x+uc.y<=1}static getInterpolation(e,n,r,i,a,o,s,l){return this.getBarycoord(e,n,r,i,uc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,uc.x),l.addScaledVector(o,uc.y),l.addScaledVector(s,uc.z),l)}static isFrontFacing(e,n,r,i){return jl.subVectors(r,n),lc.subVectors(e,n),jl.cross(lc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return jl.subVectors(this.c,this.b),lc.subVectors(this.a,this.b),jl.cross(lc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ns.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ns.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return Ns.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return Ns.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ns.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let o,s;Up.subVectors(i,r),Bp.subVectors(a,r),b5.subVectors(e,r);const l=Up.dot(b5),u=Bp.dot(b5);if(l<=0&&u<=0)return n.copy(r);_5.subVectors(e,i);const c=Up.dot(_5),f=Bp.dot(_5);if(c>=0&&f<=c)return n.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(Up,o);w5.subVectors(e,a);const d=Up.dot(w5),m=Bp.dot(w5);if(m>=0&&d<=m)return n.copy(a);const x=d*u-l*m;if(x<=0&&u>=0&&m<=0)return s=u/(u-m),n.copy(r).addScaledVector(Bp,s);const y=c*m-d*f;if(y<=0&&f-c>=0&&d-m>=0)return iI.subVectors(a,i),s=(f-c)/(f-c+(d-m)),n.copy(i).addScaledVector(iI,s);const g=1/(y+x+h);return o=x*g,s=h*g,n.copy(r).addScaledVector(Up,o).addScaledVector(Bp,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const L7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mf={h:0,s:0,l:0},g2={h:0,s:0,l:0};function S5(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class zt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=hl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,mr.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=mr.workingColorSpace){return this.r=e,this.g=n,this.b=r,mr.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=mr.workingColorSpace){if(e=eC(e,1),n=Ci(n,0,1),r=Ci(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=S5(o,a,e+1/3),this.g=S5(o,a,e),this.b=S5(o,a,e-1/3)}return mr.toWorkingColorSpace(this,i),this}setStyle(e,n=hl){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=hl){const r=L7[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zm(e.r),this.g=zm(e.g),this.b=zm(e.b),this}copyLinearToSRGB(e){return this.r=u5(e.r),this.g=u5(e.g),this.b=u5(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=hl){return mr.fromWorkingColorSpace(co.copy(this),e),Math.round(Ci(co.r*255,0,255))*65536+Math.round(Ci(co.g*255,0,255))*256+Math.round(Ci(co.b*255,0,255))}getHexString(e=hl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=mr.workingColorSpace){mr.fromWorkingColorSpace(co.copy(this),n);const r=co.r,i=co.g,a=co.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,u;const c=(s+o)/2;if(s===o)l=0,u=0;else{const f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=mr.workingColorSpace){return mr.fromWorkingColorSpace(co.copy(this),n),e.r=co.r,e.g=co.g,e.b=co.b,e}getStyle(e=hl){mr.fromWorkingColorSpace(co.copy(this),e);const n=co.r,r=co.g,i=co.b;return e!==hl?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Mf),this.setHSL(Mf.h+e,Mf.s+n,Mf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Mf),e.getHSL(g2);const r=l0(Mf.h,g2.h,n),i=l0(Mf.s,g2.s,n),a=l0(Mf.l,g2.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const co=new zt;zt.NAMES=L7;let zye=0;class Eo extends qc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:zye++}),this.uuid=ks(),this.name="",this.type="Material",this.blending=Pd,this.side=Bc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=n_,this.blendDst=r_,this.blendEquation=Uf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new zt(0,0,0),this.blendAlpha=0,this.depthFunc=yy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=f3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=rd,this.stencilZFail=rd,this.stencilZPass=rd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Pd&&(r.blending=this.blending),this.side!==Bc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==n_&&(r.blendSrc=this.blendSrc),this.blendDst!==r_&&(r.blendDst=this.blendDst),this.blendEquation!==Uf&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==yy&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==f3&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==rd&&(r.stencilFail=this.stencilFail),this.stencilZFail!==rd&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==rd&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(n){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Xc extends Eo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.combine=i1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const vc=jye();function jye(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function ts(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Ci(t,-65504,65504),vc.floatView[0]=t;const e=vc.uint32View[0],n=e>>23&511;return vc.baseTable[n]+((e&8388607)>>vc.shiftTable[n])}function Vv(t){const e=t>>10;return vc.uint32View[0]=vc.mantissaTable[vc.offsetTable[e]+(t&1023)]+vc.exponentTable[e],vc.floatView[0]}const Hye={toHalfFloat:ts,fromHalfFloat:Vv},qi=new ve,v2=new dt;class Sr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Cy,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ls,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return P7("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)v2.fromBufferAttribute(this,n),v2.applyMatrix3(e),this.setXY(n,v2.x,v2.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyMatrix3(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyMatrix4(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyNormalMatrix(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.transformDirection(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Uo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=En(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Uo(n,this.array)),n}setX(e,n){return this.normalized&&(n=En(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Uo(n,this.array)),n}setY(e,n){return this.normalized&&(n=En(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Uo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=En(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Uo(n,this.array)),n}setW(e,n){return this.normalized&&(n=En(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=En(n,this.array),r=En(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=En(n,this.array),r=En(r,this.array),i=En(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=En(n,this.array),r=En(r,this.array),i=En(i,this.array),a=En(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Cy&&(e.usage=this.usage),e}}class Wye extends Sr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Gye extends Sr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Vye extends Sr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class $ye extends Sr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class rC extends Sr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class qye extends Sr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class iC extends Sr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Xye extends Sr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Vv(this.array[e*this.itemSize]);return this.normalized&&(n=Uo(n,this.array)),n}setX(e,n){return this.normalized&&(n=En(n,this.array)),this.array[e*this.itemSize]=ts(n),this}getY(e){let n=Vv(this.array[e*this.itemSize+1]);return this.normalized&&(n=Uo(n,this.array)),n}setY(e,n){return this.normalized&&(n=En(n,this.array)),this.array[e*this.itemSize+1]=ts(n),this}getZ(e){let n=Vv(this.array[e*this.itemSize+2]);return this.normalized&&(n=Uo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=En(n,this.array)),this.array[e*this.itemSize+2]=ts(n),this}getW(e){let n=Vv(this.array[e*this.itemSize+3]);return this.normalized&&(n=Uo(n,this.array)),n}setW(e,n){return this.normalized&&(n=En(n,this.array)),this.array[e*this.itemSize+3]=ts(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=En(n,this.array),r=En(r,this.array)),this.array[e+0]=ts(n),this.array[e+1]=ts(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=En(n,this.array),r=En(r,this.array),i=En(i,this.array)),this.array[e+0]=ts(n),this.array[e+1]=ts(r),this.array[e+2]=ts(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=En(n,this.array),r=En(r,this.array),i=En(i,this.array),a=En(a,this.array)),this.array[e+0]=ts(n),this.array[e+1]=ts(r),this.array[e+2]=ts(i),this.array[e+3]=ts(a),this}}class Xt extends Sr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Yye=0;const fl=new cn,A5=new er,zp=new ve,As=new Ja,Tv=new Ja,Ra=new ve;class Cn extends qc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Yye++}),this.uuid=ks(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(E7(e)?iC:rC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Sn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fl.makeRotationFromQuaternion(e),this.applyMatrix4(fl),this}rotateX(e){return fl.makeRotationX(e),this.applyMatrix4(fl),this}rotateY(e){return fl.makeRotationY(e),this.applyMatrix4(fl),this}rotateZ(e){return fl.makeRotationZ(e),this.applyMatrix4(fl),this}translate(e,n,r){return fl.makeTranslation(e,n,r),this.applyMatrix4(fl),this}scale(e,n,r){return fl.makeScale(e,n,r),this.applyMatrix4(fl),this}lookAt(e){return A5.lookAt(e),A5.updateMatrix(),this.applyMatrix4(A5.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zp).negate(),this.translate(zp.x,zp.y,zp.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Xt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ja);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ve(-1/0,-1/0,-1/0),new ve(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];As.setFromBufferAttribute(a),this.morphTargetsRelative?(Ra.addVectors(this.boundingBox.min,As.min),this.boundingBox.expandByPoint(Ra),Ra.addVectors(this.boundingBox.max,As.max),this.boundingBox.expandByPoint(Ra)):(this.boundingBox.expandByPoint(As.min),this.boundingBox.expandByPoint(As.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ve,1/0);return}if(e){const r=this.boundingSphere.center;if(As.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const s=n[a];Tv.setFromBufferAttribute(s),this.morphTargetsRelative?(Ra.addVectors(As.min,Tv.min),As.expandByPoint(Ra),Ra.addVectors(As.max,Tv.max),As.expandByPoint(Ra)):(As.expandByPoint(Tv.min),As.expandByPoint(Tv.max))}As.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)Ra.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Ra));if(n)for(let a=0,o=n.length;a<o;a++){const s=n[a],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)Ra.fromBufferAttribute(s,u),l&&(zp.fromBufferAttribute(e,u),Ra.add(zp)),i=Math.max(i,r.distanceToSquared(Ra))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Sr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let P=0;P<r.count;P++)s[P]=new ve,l[P]=new ve;const u=new ve,c=new ve,f=new ve,h=new dt,d=new dt,m=new dt,x=new ve,y=new ve;function g(P,D,N){u.fromBufferAttribute(r,P),c.fromBufferAttribute(r,D),f.fromBufferAttribute(r,N),h.fromBufferAttribute(a,P),d.fromBufferAttribute(a,D),m.fromBufferAttribute(a,N),c.sub(u),f.sub(u),d.sub(h),m.sub(h);const C=1/(d.x*m.y-m.x*d.y);isFinite(C)&&(x.copy(c).multiplyScalar(m.y).addScaledVector(f,-d.y).multiplyScalar(C),y.copy(f).multiplyScalar(d.x).addScaledVector(c,-m.x).multiplyScalar(C),s[P].add(x),s[D].add(x),s[N].add(x),l[P].add(y),l[D].add(y),l[N].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let P=0,D=_.length;P<D;++P){const N=_[P],C=N.start,O=N.count;for(let j=C,F=C+O;j<F;j+=3)g(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const b=new ve,S=new ve,A=new ve,E=new ve;function M(P){A.fromBufferAttribute(i,P),E.copy(A);const D=s[P];b.copy(D),b.sub(A.multiplyScalar(A.dot(D))).normalize(),S.crossVectors(E,D);const C=S.dot(l[P])<0?-1:1;o.setXYZW(P,b.x,b.y,b.z,C)}for(let P=0,D=_.length;P<D;++P){const N=_[P],C=N.start,O=N.count;for(let j=C,F=C+O;j<F;j+=3)M(e.getX(j+0)),M(e.getX(j+1)),M(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Sr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,d=r.count;h<d;h++)r.setXYZ(h,0,0,0);const i=new ve,a=new ve,o=new ve,s=new ve,l=new ve,u=new ve,c=new ve,f=new ve;if(e)for(let h=0,d=e.count;h<d;h+=3){const m=e.getX(h+0),x=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,m),a.fromBufferAttribute(n,x),o.fromBufferAttribute(n,y),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),s.fromBufferAttribute(r,m),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,y),s.add(c),l.add(c),u.add(c),r.setXYZ(m,s.x,s.y,s.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,d=n.count;h<d;h+=3)i.fromBufferAttribute(n,h+0),a.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ra.fromBufferAttribute(e,n),Ra.normalize(),e.setXYZ(n,Ra.x,Ra.y,Ra.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,h=new u.constructor(l.length*c);let d=0,m=0;for(let x=0,y=l.length;x<y;x++){s.isInterleavedBufferAttribute?d=l[x]*s.data.stride+s.offset:d=l[x]*c;for(let g=0;g<c;g++)h[m++]=u[d++]}return new Sr(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Cn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let c=0,f=u.length;c<f;c++){const h=u[c],d=e(h,r);l.push(d)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f];c.push(d.toJSON(e.data))}c.length>0&&(i[l]=c,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let h=0,d=f.length;h<d;h++)c.push(f[h].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const aI=new cn,Uh=new np,y2=new Qa,oI=new ve,jp=new ve,Hp=new ve,Wp=new ve,M5=new ve,x2=new ve,b2=new dt,_2=new dt,w2=new dt,sI=new ve,lI=new ve,uI=new ve,S2=new ve,A2=new ve;class gi extends er{constructor(e=new Cn,n=new Xc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){x2.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=s[l],f=a[l];c!==0&&(M5.fromBufferAttribute(f,e),o?x2.addScaledVector(M5,c):x2.addScaledVector(M5.sub(n),c))}n.add(x2)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),y2.copy(r.boundingSphere),y2.applyMatrix4(a),Uh.copy(e.ray).recast(e.near),!(y2.containsPoint(Uh.origin)===!1&&(Uh.intersectSphere(y2,oI)===null||Uh.origin.distanceToSquared(oI)>(e.far-e.near)**2))&&(aI.copy(a).invert(),Uh.copy(e.ray).applyMatrix4(aI),!(r.boundingBox!==null&&Uh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Uh)))}_computeIntersections(e,n,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,h=a.groups,d=a.drawRange;if(s!==null)if(Array.isArray(o))for(let m=0,x=h.length;m<x;m++){const y=h[m],g=o[y.materialIndex],_=Math.max(y.start,d.start),b=Math.min(s.count,Math.min(y.start+y.count,d.start+d.count));for(let S=_,A=b;S<A;S+=3){const E=s.getX(S),M=s.getX(S+1),P=s.getX(S+2);i=M2(this,g,e,r,u,c,f,E,M,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,d.start),x=Math.min(s.count,d.start+d.count);for(let y=m,g=x;y<g;y+=3){const _=s.getX(y),b=s.getX(y+1),S=s.getX(y+2);i=M2(this,o,e,r,u,c,f,_,b,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let m=0,x=h.length;m<x;m++){const y=h[m],g=o[y.materialIndex],_=Math.max(y.start,d.start),b=Math.min(l.count,Math.min(y.start+y.count,d.start+d.count));for(let S=_,A=b;S<A;S+=3){const E=S,M=S+1,P=S+2;i=M2(this,g,e,r,u,c,f,E,M,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,d.start),x=Math.min(l.count,d.start+d.count);for(let y=m,g=x;y<g;y+=3){const _=y,b=y+1,S=y+2;i=M2(this,o,e,r,u,c,f,_,b,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Kye(t,e,n,r,i,a,o,s){let l;if(e.side===So?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===Bc,s),l===null)return null;A2.copy(s),A2.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(A2);return u<n.near||u>n.far?null:{distance:u,point:A2.clone(),object:t}}function M2(t,e,n,r,i,a,o,s,l,u){t.getVertexPosition(s,jp),t.getVertexPosition(l,Hp),t.getVertexPosition(u,Wp);const c=Kye(t,e,n,r,jp,Hp,Wp,S2);if(c){i&&(b2.fromBufferAttribute(i,s),_2.fromBufferAttribute(i,l),w2.fromBufferAttribute(i,u),c.uv=Ns.getInterpolation(S2,jp,Hp,Wp,b2,_2,w2,new dt)),a&&(b2.fromBufferAttribute(a,s),_2.fromBufferAttribute(a,l),w2.fromBufferAttribute(a,u),c.uv1=Ns.getInterpolation(S2,jp,Hp,Wp,b2,_2,w2,new dt)),o&&(sI.fromBufferAttribute(o,s),lI.fromBufferAttribute(o,l),uI.fromBufferAttribute(o,u),c.normal=Ns.getInterpolation(S2,jp,Hp,Wp,sI,lI,uI,new ve),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:s,b:l,c:u,normal:new ve,materialIndex:0};Ns.getNormal(jp,Hp,Wp,f.normal),c.face=f}return c}class rp extends Cn{constructor(e=1,n=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,d=0;m("z","y","x",-1,-1,r,n,e,o,a,0),m("z","y","x",1,-1,r,n,-e,o,a,1),m("x","z","y",1,1,e,r,n,i,o,2),m("x","z","y",1,-1,e,r,-n,i,o,3),m("x","y","z",1,-1,e,n,r,i,a,4),m("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Xt(u,3)),this.setAttribute("normal",new Xt(c,3)),this.setAttribute("uv",new Xt(f,2));function m(x,y,g,_,b,S,A,E,M,P,D){const N=S/M,C=A/P,O=S/2,j=A/2,F=E/2,Z=M+1,H=P+1;let q=0,B=0;const z=new ve;for(let $=0;$<H;$++){const X=$*C-j;for(let k=0;k<Z;k++){const V=k*N-O;z[x]=V*_,z[y]=X*b,z[g]=F,u.push(z.x,z.y,z.z),z[x]=0,z[y]=0,z[g]=E>0?1:-1,c.push(z.x,z.y,z.z),f.push(k/M),f.push(1-$/P),q+=1}}for(let $=0;$<P;$++)for(let X=0;X<M;X++){const k=h+X+Z*$,V=h+X+Z*($+1),G=h+(X+1)+Z*($+1),K=h+(X+1)+Z*$;l.push(k,V,K),l.push(V,G,K),B+=6}s.addGroup(d,B,D),d+=B,h+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yg(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ko(t){const e={};for(let n=0;n<t.length;n++){const r=yg(t[n]);for(const i in r)e[i]=r[i]}return e}function Zye(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function N7(t){return t.getRenderTarget()===null?t.outputColorSpace:mr.workingColorSpace}const aC={clone:yg,merge:ko};var Jye=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Qye=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ou extends Eo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Jye,this.fragmentShader=Qye,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yg(e.uniforms),this.uniformsGroups=Zye(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class o1 extends er{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cn,this.projectionMatrix=new cn,this.projectionMatrixInverse=new cn,this.coordinateSystem=Lu}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ef=new ve,cI=new dt,fI=new dt;class Ui extends o1{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=vg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Cd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return vg*2*Math.atan(Math.tan(Cd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Ef.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ef.x,Ef.y).multiplyScalar(-e/Ef.z),Ef.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ef.x,Ef.y).multiplyScalar(-e/Ef.z)}getViewSize(e,n){return this.getViewBounds(e,cI,fI),n.subVectors(fI,cI)}setViewOffset(e,n,r,i,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Cd*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Gp=-90,Vp=1;class O7 extends er{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ui(Gp,Vp,e,n);i.layers=this.layers,this.add(i);const a=new Ui(Gp,Vp,e,n);a.layers=this.layers,this.add(a);const o=new Ui(Gp,Vp,e,n);o.layers=this.layers,this.add(o);const s=new Ui(Gp,Vp,e,n);s.layers=this.layers,this.add(s);const l=new Ui(Gp,Vp,e,n);l.layers=this.layers,this.add(l);const u=new Ui(Gp,Vp,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,o,s,l]=n;for(const u of n)this.remove(u);if(e===Lu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ly)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,a),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(f,h,d),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class s1 extends yi{constructor(e,n,r,i,a,o,s,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:zc,super(e,n,r,i,a,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class R7 extends au{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new s1(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Xr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new rp(5,5,5),a=new ou({name:"CubemapFromEquirect",uniforms:yg(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:So,blending:Lc});a.uniforms.tEquirect.value=n;const o=new gi(i,a),s=n.minFilter;return n.minFilter===Cu&&(n.minFilter=Xr),new O7(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(a)}}const E5=new ve,e1e=new ve,t1e=new Sn;class mc{constructor(e=new ve(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=E5.subVectors(r,n).cross(e1e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(E5),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||t1e.getNormalMatrix(e),i=this.coplanarPoint(E5).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Bh=new Qa,E2=new ve;class l1{constructor(e=new mc,n=new mc,r=new mc,i=new mc,a=new mc,o=new mc){this.planes=[e,n,r,i,a,o]}set(e,n,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Lu){const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],d=i[8],m=i[9],x=i[10],y=i[11],g=i[12],_=i[13],b=i[14],S=i[15];if(r[0].setComponents(l-a,h-u,y-d,S-g).normalize(),r[1].setComponents(l+a,h+u,y+d,S+g).normalize(),r[2].setComponents(l+o,h+c,y+m,S+_).normalize(),r[3].setComponents(l-o,h-c,y-m,S-_).normalize(),r[4].setComponents(l-s,h-f,y-x,S-b).normalize(),n===Lu)r[5].setComponents(l+s,h+f,y+x,S+b).normalize();else if(n===Ly)r[5].setComponents(s,f,x,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Bh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Bh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Bh)}intersectsSprite(e){return Bh.center.set(0,0,0),Bh.radius=.7071067811865476,Bh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Bh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(E2.x=i.normal.x>0?e.max.x:e.min.x,E2.y=i.normal.y>0?e.max.y:e.min.y,E2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(E2)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function I7(){let t=null,e=!1,n=null,r=null;function i(a,o){n(a,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function n1e(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,h=u.usage,d=f.byteLength,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,f,h),u.onUploadCallback();let x;if(f instanceof Float32Array)x=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=t.SHORT;else if(f instanceof Uint32Array)x=t.UNSIGNED_INT;else if(f instanceof Int32Array)x=t.INT;else if(f instanceof Int8Array)x=t.BYTE;else if(f instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:d}}function a(u,c,f){const h=c.array,d=c._updateRange,m=c.updateRanges;if(t.bindBuffer(f,u),d.count===-1&&m.length===0&&t.bufferSubData(f,0,h),m.length!==0){for(let x=0,y=m.length;x<y;x++){const g=m[x];n?t.bufferSubData(f,g.start*h.BYTES_PER_ELEMENT,h,g.start,g.count):t.bufferSubData(f,g.start*h.BYTES_PER_ELEMENT,h.subarray(g.start,g.start+g.count))}c.clearUpdateRanges()}d.count!==-1&&(n?t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);if(f===void 0)r.set(u,i(u,c));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");a(f.buffer,u,c),f.version=u.version}}return{get:o,remove:s,update:l}}class Yc extends Cn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,o=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,h=n/l,d=[],m=[],x=[],y=[];for(let g=0;g<c;g++){const _=g*h-o;for(let b=0;b<u;b++){const S=b*f-a;m.push(S,-_,0),x.push(0,0,1),y.push(b/s),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<s;_++){const b=_+u*g,S=_+u*(g+1),A=_+1+u*(g+1),E=_+1+u*g;d.push(b,S,E),d.push(S,A,E)}this.setIndex(d),this.setAttribute("position",new Xt(m,3)),this.setAttribute("normal",new Xt(x,3)),this.setAttribute("uv",new Xt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yc(e.width,e.height,e.widthSegments,e.heightSegments)}}var r1e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,i1e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,a1e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,o1e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,s1e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,l1e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,u1e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,c1e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,f1e=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,h1e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,d1e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,p1e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,m1e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,g1e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,v1e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,y1e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,x1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,b1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_1e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,w1e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,S1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,A1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,M1e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,E1e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,T1e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,P1e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,C1e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,L1e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,N1e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,O1e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,R1e="gl_FragColor = linearToOutputTexel( gl_FragColor );",I1e=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,k1e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,D1e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,F1e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,U1e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,B1e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,z1e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,j1e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,H1e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,W1e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,G1e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,V1e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,$1e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,q1e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,X1e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Y1e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,K1e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Z1e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,J1e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Q1e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,e2e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,t2e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,n2e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,r2e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,i2e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,a2e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,o2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,s2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,l2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,u2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,c2e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,f2e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,h2e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,d2e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,p2e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,m2e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,g2e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,v2e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,y2e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,x2e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,b2e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,_2e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,w2e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,S2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,A2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,M2e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,E2e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,T2e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,P2e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,C2e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,L2e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,N2e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,O2e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,R2e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,I2e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,k2e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,D2e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,F2e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,U2e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,B2e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,z2e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,j2e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,H2e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,W2e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,G2e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,V2e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$2e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,q2e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,X2e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Y2e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,K2e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Z2e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,J2e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Q2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,exe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,txe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nxe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const rxe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ixe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,axe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oxe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sxe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lxe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uxe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,cxe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,fxe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,hxe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,dxe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pxe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mxe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gxe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vxe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yxe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xxe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bxe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_xe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,wxe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sxe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Axe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Mxe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Exe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Txe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Pxe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cxe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lxe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nxe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Oxe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Rxe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ixe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kxe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Dxe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mn={alphahash_fragment:r1e,alphahash_pars_fragment:i1e,alphamap_fragment:a1e,alphamap_pars_fragment:o1e,alphatest_fragment:s1e,alphatest_pars_fragment:l1e,aomap_fragment:u1e,aomap_pars_fragment:c1e,batching_pars_vertex:f1e,batching_vertex:h1e,begin_vertex:d1e,beginnormal_vertex:p1e,bsdfs:m1e,iridescence_fragment:g1e,bumpmap_pars_fragment:v1e,clipping_planes_fragment:y1e,clipping_planes_pars_fragment:x1e,clipping_planes_pars_vertex:b1e,clipping_planes_vertex:_1e,color_fragment:w1e,color_pars_fragment:S1e,color_pars_vertex:A1e,color_vertex:M1e,common:E1e,cube_uv_reflection_fragment:T1e,defaultnormal_vertex:P1e,displacementmap_pars_vertex:C1e,displacementmap_vertex:L1e,emissivemap_fragment:N1e,emissivemap_pars_fragment:O1e,colorspace_fragment:R1e,colorspace_pars_fragment:I1e,envmap_fragment:k1e,envmap_common_pars_fragment:D1e,envmap_pars_fragment:F1e,envmap_pars_vertex:U1e,envmap_physical_pars_fragment:K1e,envmap_vertex:B1e,fog_vertex:z1e,fog_pars_vertex:j1e,fog_fragment:H1e,fog_pars_fragment:W1e,gradientmap_pars_fragment:G1e,lightmap_fragment:V1e,lightmap_pars_fragment:$1e,lights_lambert_fragment:q1e,lights_lambert_pars_fragment:X1e,lights_pars_begin:Y1e,lights_toon_fragment:Z1e,lights_toon_pars_fragment:J1e,lights_phong_fragment:Q1e,lights_phong_pars_fragment:e2e,lights_physical_fragment:t2e,lights_physical_pars_fragment:n2e,lights_fragment_begin:r2e,lights_fragment_maps:i2e,lights_fragment_end:a2e,logdepthbuf_fragment:o2e,logdepthbuf_pars_fragment:s2e,logdepthbuf_pars_vertex:l2e,logdepthbuf_vertex:u2e,map_fragment:c2e,map_pars_fragment:f2e,map_particle_fragment:h2e,map_particle_pars_fragment:d2e,metalnessmap_fragment:p2e,metalnessmap_pars_fragment:m2e,morphinstance_vertex:g2e,morphcolor_vertex:v2e,morphnormal_vertex:y2e,morphtarget_pars_vertex:x2e,morphtarget_vertex:b2e,normal_fragment_begin:_2e,normal_fragment_maps:w2e,normal_pars_fragment:S2e,normal_pars_vertex:A2e,normal_vertex:M2e,normalmap_pars_fragment:E2e,clearcoat_normal_fragment_begin:T2e,clearcoat_normal_fragment_maps:P2e,clearcoat_pars_fragment:C2e,iridescence_pars_fragment:L2e,opaque_fragment:N2e,packing:O2e,premultiplied_alpha_fragment:R2e,project_vertex:I2e,dithering_fragment:k2e,dithering_pars_fragment:D2e,roughnessmap_fragment:F2e,roughnessmap_pars_fragment:U2e,shadowmap_pars_fragment:B2e,shadowmap_pars_vertex:z2e,shadowmap_vertex:j2e,shadowmask_pars_fragment:H2e,skinbase_vertex:W2e,skinning_pars_vertex:G2e,skinning_vertex:V2e,skinnormal_vertex:$2e,specularmap_fragment:q2e,specularmap_pars_fragment:X2e,tonemapping_fragment:Y2e,tonemapping_pars_fragment:K2e,transmission_fragment:Z2e,transmission_pars_fragment:J2e,uv_pars_fragment:Q2e,uv_pars_vertex:exe,uv_vertex:txe,worldpos_vertex:nxe,background_vert:rxe,background_frag:ixe,backgroundCube_vert:axe,backgroundCube_frag:oxe,cube_vert:sxe,cube_frag:lxe,depth_vert:uxe,depth_frag:cxe,distanceRGBA_vert:fxe,distanceRGBA_frag:hxe,equirect_vert:dxe,equirect_frag:pxe,linedashed_vert:mxe,linedashed_frag:gxe,meshbasic_vert:vxe,meshbasic_frag:yxe,meshlambert_vert:xxe,meshlambert_frag:bxe,meshmatcap_vert:_xe,meshmatcap_frag:wxe,meshnormal_vert:Sxe,meshnormal_frag:Axe,meshphong_vert:Mxe,meshphong_frag:Exe,meshphysical_vert:Txe,meshphysical_frag:Pxe,meshtoon_vert:Cxe,meshtoon_frag:Lxe,points_vert:Nxe,points_frag:Oxe,shadow_vert:Rxe,shadow_frag:Ixe,sprite_vert:kxe,sprite_frag:Dxe},It={common:{diffuse:{value:new zt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Sn},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Sn}},envmap:{envMap:{value:null},envMapRotation:{value:new Sn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Sn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Sn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Sn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Sn},normalScale:{value:new dt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Sn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Sn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Sn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Sn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0},uvTransform:{value:new Sn}},sprite:{diffuse:{value:new zt(16777215)},opacity:{value:1},center:{value:new dt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Sn},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0}}},Jl={basic:{uniforms:ko([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.fog]),vertexShader:Mn.meshbasic_vert,fragmentShader:Mn.meshbasic_frag},lambert:{uniforms:ko([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new zt(0)}}]),vertexShader:Mn.meshlambert_vert,fragmentShader:Mn.meshlambert_frag},phong:{uniforms:ko([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new zt(0)},specular:{value:new zt(1118481)},shininess:{value:30}}]),vertexShader:Mn.meshphong_vert,fragmentShader:Mn.meshphong_frag},standard:{uniforms:ko([It.common,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.roughnessmap,It.metalnessmap,It.fog,It.lights,{emissive:{value:new zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},toon:{uniforms:ko([It.common,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.gradientmap,It.fog,It.lights,{emissive:{value:new zt(0)}}]),vertexShader:Mn.meshtoon_vert,fragmentShader:Mn.meshtoon_frag},matcap:{uniforms:ko([It.common,It.bumpmap,It.normalmap,It.displacementmap,It.fog,{matcap:{value:null}}]),vertexShader:Mn.meshmatcap_vert,fragmentShader:Mn.meshmatcap_frag},points:{uniforms:ko([It.points,It.fog]),vertexShader:Mn.points_vert,fragmentShader:Mn.points_frag},dashed:{uniforms:ko([It.common,It.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mn.linedashed_vert,fragmentShader:Mn.linedashed_frag},depth:{uniforms:ko([It.common,It.displacementmap]),vertexShader:Mn.depth_vert,fragmentShader:Mn.depth_frag},normal:{uniforms:ko([It.common,It.bumpmap,It.normalmap,It.displacementmap,{opacity:{value:1}}]),vertexShader:Mn.meshnormal_vert,fragmentShader:Mn.meshnormal_frag},sprite:{uniforms:ko([It.sprite,It.fog]),vertexShader:Mn.sprite_vert,fragmentShader:Mn.sprite_frag},background:{uniforms:{uvTransform:{value:new Sn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mn.background_vert,fragmentShader:Mn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Sn}},vertexShader:Mn.backgroundCube_vert,fragmentShader:Mn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mn.cube_vert,fragmentShader:Mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mn.equirect_vert,fragmentShader:Mn.equirect_frag},distanceRGBA:{uniforms:ko([It.common,It.displacementmap,{referencePosition:{value:new ve},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mn.distanceRGBA_vert,fragmentShader:Mn.distanceRGBA_frag},shadow:{uniforms:ko([It.lights,It.fog,{color:{value:new zt(0)},opacity:{value:1}}]),vertexShader:Mn.shadow_vert,fragmentShader:Mn.shadow_frag}};Jl.physical={uniforms:ko([Jl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Sn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Sn},clearcoatNormalScale:{value:new dt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Sn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Sn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Sn},sheen:{value:0},sheenColor:{value:new zt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Sn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Sn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Sn},transmissionSamplerSize:{value:new dt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Sn},attenuationDistance:{value:0},attenuationColor:{value:new zt(0)},specularColor:{value:new zt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Sn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Sn},anisotropyVector:{value:new dt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Sn}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag};const T2={r:0,b:0,g:0},zh=new Us,Fxe=new cn;function Uxe(t,e,n,r,i,a,o){const s=new zt(0);let l=a===!0?0:1,u,c,f=null,h=0,d=null;function m(y,g){let _=!1,b=g.isScene===!0?g.background:null;b&&b.isTexture&&(b=(g.backgroundBlurriness>0?n:e).get(b)),b===null?x(s,l):b&&b.isColor&&(x(b,1),_=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===Dg)?(c===void 0&&(c=new gi(new rp(1,1,1),new ou({name:"BackgroundCubeMaterial",uniforms:yg(Jl.backgroundCube.uniforms),vertexShader:Jl.backgroundCube.vertexShader,fragmentShader:Jl.backgroundCube.fragmentShader,side:So,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(A,E,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),zh.copy(g.backgroundRotation),zh.x*=-1,zh.y*=-1,zh.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(zh.y*=-1,zh.z*=-1),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Fxe.makeRotationFromEuler(zh)),c.material.toneMapped=mr.getTransfer(b.colorSpace)!==Dr,(f!==b||h!==b.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,f=b,h=b.version,d=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new gi(new Yc(2,2),new ou({name:"BackgroundMaterial",uniforms:yg(Jl.background.uniforms),vertexShader:Jl.background.vertexShader,fragmentShader:Jl.background.fragmentShader,side:Bc,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=mr.getTransfer(b.colorSpace)!==Dr,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||h!==b.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,f=b,h=b.version,d=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function x(y,g){y.getRGB(T2,N7(t)),r.buffers.color.setClear(T2.r,T2.g,T2.b,g,o)}return{getClearColor:function(){return s},setClearColor:function(y,g=1){s.set(y),l=g,x(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,x(s,l)},render:m}}function Bxe(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||a!==null,s={},l=y(null);let u=l,c=!1;function f(F,Z,H,q,B){let z=!1;if(o){const $=x(q,H,Z);u!==$&&(u=$,d(u.object)),z=g(F,q,H,B),z&&_(F,q,H,B)}else{const $=Z.wireframe===!0;(u.geometry!==q.id||u.program!==H.id||u.wireframe!==$)&&(u.geometry=q.id,u.program=H.id,u.wireframe=$,z=!0)}B!==null&&n.update(B,t.ELEMENT_ARRAY_BUFFER),(z||c)&&(c=!1,P(F,Z,H,q),B!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(B).buffer))}function h(){return r.isWebGL2?t.createVertexArray():a.createVertexArrayOES()}function d(F){return r.isWebGL2?t.bindVertexArray(F):a.bindVertexArrayOES(F)}function m(F){return r.isWebGL2?t.deleteVertexArray(F):a.deleteVertexArrayOES(F)}function x(F,Z,H){const q=H.wireframe===!0;let B=s[F.id];B===void 0&&(B={},s[F.id]=B);let z=B[Z.id];z===void 0&&(z={},B[Z.id]=z);let $=z[q];return $===void 0&&($=y(h()),z[q]=$),$}function y(F){const Z=[],H=[],q=[];for(let B=0;B<i;B++)Z[B]=0,H[B]=0,q[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Z,enabledAttributes:H,attributeDivisors:q,object:F,attributes:{},index:null}}function g(F,Z,H,q){const B=u.attributes,z=Z.attributes;let $=0;const X=H.getAttributes();for(const k in X)if(X[k].location>=0){const G=B[k];let K=z[k];if(K===void 0&&(k==="instanceMatrix"&&F.instanceMatrix&&(K=F.instanceMatrix),k==="instanceColor"&&F.instanceColor&&(K=F.instanceColor)),G===void 0||G.attribute!==K||K&&G.data!==K.data)return!0;$++}return u.attributesNum!==$||u.index!==q}function _(F,Z,H,q){const B={},z=Z.attributes;let $=0;const X=H.getAttributes();for(const k in X)if(X[k].location>=0){let G=z[k];G===void 0&&(k==="instanceMatrix"&&F.instanceMatrix&&(G=F.instanceMatrix),k==="instanceColor"&&F.instanceColor&&(G=F.instanceColor));const K={};K.attribute=G,G&&G.data&&(K.data=G.data),B[k]=K,$++}u.attributes=B,u.attributesNum=$,u.index=q}function b(){const F=u.newAttributes;for(let Z=0,H=F.length;Z<H;Z++)F[Z]=0}function S(F){A(F,0)}function A(F,Z){const H=u.newAttributes,q=u.enabledAttributes,B=u.attributeDivisors;H[F]=1,q[F]===0&&(t.enableVertexAttribArray(F),q[F]=1),B[F]!==Z&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,Z),B[F]=Z)}function E(){const F=u.newAttributes,Z=u.enabledAttributes;for(let H=0,q=Z.length;H<q;H++)Z[H]!==F[H]&&(t.disableVertexAttribArray(H),Z[H]=0)}function M(F,Z,H,q,B,z,$){$===!0?t.vertexAttribIPointer(F,Z,H,B,z):t.vertexAttribPointer(F,Z,H,q,B,z)}function P(F,Z,H,q){if(r.isWebGL2===!1&&(F.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const B=q.attributes,z=H.getAttributes(),$=Z.defaultAttributeValues;for(const X in z){const k=z[X];if(k.location>=0){let V=B[X];if(V===void 0&&(X==="instanceMatrix"&&F.instanceMatrix&&(V=F.instanceMatrix),X==="instanceColor"&&F.instanceColor&&(V=F.instanceColor)),V!==void 0){const G=V.normalized,K=V.itemSize,ne=n.get(V);if(ne===void 0)continue;const ue=ne.buffer,he=ne.type,ce=ne.bytesPerElement,Me=r.isWebGL2===!0&&(he===t.INT||he===t.UNSIGNED_INT||V.gpuType===WP);if(V.isInterleavedBufferAttribute){const ye=V.data,J=ye.stride,Ee=V.offset;if(ye.isInstancedInterleavedBuffer){for(let Ae=0;Ae<k.locationSize;Ae++)A(k.location+Ae,ye.meshPerAttribute);F.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let Ae=0;Ae<k.locationSize;Ae++)S(k.location+Ae);t.bindBuffer(t.ARRAY_BUFFER,ue);for(let Ae=0;Ae<k.locationSize;Ae++)M(k.location+Ae,K/k.locationSize,he,G,J*ce,(Ee+K/k.locationSize*Ae)*ce,Me)}else{if(V.isInstancedBufferAttribute){for(let ye=0;ye<k.locationSize;ye++)A(k.location+ye,V.meshPerAttribute);F.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let ye=0;ye<k.locationSize;ye++)S(k.location+ye);t.bindBuffer(t.ARRAY_BUFFER,ue);for(let ye=0;ye<k.locationSize;ye++)M(k.location+ye,K/k.locationSize,he,G,K*ce,K/k.locationSize*ye*ce,Me)}}else if($!==void 0){const G=$[X];if(G!==void 0)switch(G.length){case 2:t.vertexAttrib2fv(k.location,G);break;case 3:t.vertexAttrib3fv(k.location,G);break;case 4:t.vertexAttrib4fv(k.location,G);break;default:t.vertexAttrib1fv(k.location,G)}}}}E()}function D(){O();for(const F in s){const Z=s[F];for(const H in Z){const q=Z[H];for(const B in q)m(q[B].object),delete q[B];delete Z[H]}delete s[F]}}function N(F){if(s[F.id]===void 0)return;const Z=s[F.id];for(const H in Z){const q=Z[H];for(const B in q)m(q[B].object),delete q[B];delete Z[H]}delete s[F.id]}function C(F){for(const Z in s){const H=s[Z];if(H[F.id]===void 0)continue;const q=H[F.id];for(const B in q)m(q[B].object),delete q[B];delete H[F.id]}}function O(){j(),c=!0,u!==l&&(u=l,d(u.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:O,resetDefaultState:j,dispose:D,releaseStatesOfGeometry:N,releaseStatesOfProgram:C,initAttributes:b,enableAttribute:S,disableUnusedAttributes:E}}function zxe(t,e,n,r){const i=r.isWebGL2;let a;function o(c){a=c}function s(c,f){t.drawArrays(a,c,f),n.update(f,a,1)}function l(c,f,h){if(h===0)return;let d,m;if(i)d=t,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](a,c,f,h),n.update(f,a,h)}function u(c,f,h){if(h===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let m=0;m<h;m++)this.render(c[m],f[m]);else{d.multiDrawArraysWEBGL(a,c,0,f,0,h);let m=0;for(let x=0;x<h;x++)m+=f[x];n.update(m,a,1)}}this.setMode=o,this.render=s,this.renderInstances=l,this.renderMultiDraw=u}function jxe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=a(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=h>0,S=o||e.has("OES_texture_float"),A=b&&S,E=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:m,maxAttributes:x,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:A,maxSamples:E}}function Hxe(t){const e=this;let n=null,r=0,i=!1,a=!1;const o=new mc,s=new Sn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||r!==0||i;return i=h,r=f.length,d},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){n=c(f,h,0)},this.setState=function(f,h,d){const m=f.clippingPlanes,x=f.clipIntersection,y=f.clipShadows,g=t.get(f);if(!i||m===null||m.length===0||a&&!y)a?c(null):u();else{const _=a?0:r,b=_*4;let S=g.clippingState||null;l.value=S,S=c(m,h,b,d);for(let A=0;A!==b;++A)S[A]=n[A];g.clippingState=S,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,d,m){const x=f!==null?f.length:0;let y=null;if(x!==0){if(y=l.value,m!==!0||y===null){const g=d+x*4,_=h.matrixWorldInverse;s.getNormalMatrix(_),(y===null||y.length<g)&&(y=new Float32Array(g));for(let b=0,S=d;b!==x;++b,S+=4)o.copy(f[b]).applyMatrix4(_,s),o.normal.toArray(y,S),y[S+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function Wxe(t){let e=new WeakMap;function n(o,s){return s===xy?o.mapping=zc:s===by&&(o.mapping=sh),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===xy||s===by)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new R7(l.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class nh extends o1{constructor(e=-1,n=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Mm=4,hI=[.125,.215,.35,.446,.526,.582],sd=20,T5=new nh,dI=new zt;let P5=null,C5=0,L5=0;const id=(1+Math.sqrt(5))/2,$p=1/id,pI=[new ve(1,1,1),new ve(-1,1,1),new ve(1,1,-1),new ve(-1,1,-1),new ve(0,id,$p),new ve(0,id,-$p),new ve($p,0,id),new ve(-$p,0,id),new ve(id,$p,0),new ve(-id,$p,0)];class p3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){P5=this._renderer.getRenderTarget(),C5=this._renderer.getActiveCubeFace(),L5=this._renderer.getActiveMipmapLevel(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=vI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=gI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(P5,C5,L5),e.scissorTest=!1,P2(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===zc||e.mapping===sh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),P5=this._renderer.getRenderTarget(),C5=this._renderer.getActiveCubeFace(),L5=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Xr,minFilter:Xr,generateMipmaps:!1,type:gg,format:Fo,colorSpace:$c,depthBuffer:!1},i=mI(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=mI(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Gxe(a)),this._blurMaterial=Vxe(a,e,n)}return i}_compileMaterial(e){const n=new gi(this._lodPlanes[0],e);this._renderer.compile(n,T5)}_sceneToCubeUV(e,n,r,i){const s=new Ui(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(dI),c.toneMapping=Du,c.autoClear=!1;const d=new Xc({name:"PMREM.Background",side:So,depthWrite:!1,depthTest:!1}),m=new gi(new rp,d);let x=!1;const y=e.background;y?y.isColor&&(d.color.copy(y),e.background=null,x=!0):(d.color.copy(dI),x=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(s.up.set(0,l[g],0),s.lookAt(u[g],0,0)):_===1?(s.up.set(0,0,l[g]),s.lookAt(0,u[g],0)):(s.up.set(0,l[g],0),s.lookAt(0,0,u[g]));const b=this._cubeSize;P2(i,_*b,g>2?b:0,b,b),c.setRenderTarget(i),x&&c.render(m,s),c.render(e,s)}m.geometry.dispose(),m.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===zc||e.mapping===sh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=vI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=gI());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new gi(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;P2(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,T5)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=pI[(i-1)%pI.length];this._blur(e,i-1,i,a,o)}n.autoClear=r}_blur(e,n,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new gi(this._lodPlanes[i],u),h=u.uniforms,d=this._sizeLods[r]-1,m=isFinite(a)?Math.PI/(2*d):2*Math.PI/(2*sd-1),x=a/m,y=isFinite(a)?1+Math.floor(c*x):sd;y>sd&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${sd}`);const g=[];let _=0;for(let M=0;M<sd;++M){const P=M/x,D=Math.exp(-P*P/2);g.push(D),M===0?_+=D:M<y&&(_+=2*D)}for(let M=0;M<g.length;M++)g[M]=g[M]/_;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=g,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:b}=this;h.dTheta.value=m,h.mipInt.value=b-r;const S=this._sizeLods[i],A=3*S*(i>b-Mm?i-b+Mm:0),E=4*(this._cubeSize-S);P2(n,A,E,3*S,2*S),l.setRenderTarget(n),l.render(f,T5)}}function Gxe(t){const e=[],n=[],r=[];let i=t;const a=t-Mm+1+hI.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);n.push(s);let l=1/s;o>t-Mm?l=hI[o-t+Mm-1]:o===0&&(l=0),r.push(l);const u=1/(s-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,m=6,x=3,y=2,g=1,_=new Float32Array(x*m*d),b=new Float32Array(y*m*d),S=new Float32Array(g*m*d);for(let E=0;E<d;E++){const M=E%3*2/3-1,P=E>2?0:-1,D=[M,P,0,M+2/3,P,0,M+2/3,P+1,0,M,P,0,M+2/3,P+1,0,M,P+1,0];_.set(D,x*m*E),b.set(h,y*m*E);const N=[E,E,E,E,E,E];S.set(N,g*m*E)}const A=new Cn;A.setAttribute("position",new Sr(_,x)),A.setAttribute("uv",new Sr(b,y)),A.setAttribute("faceIndex",new Sr(S,g)),e.push(A),i>Mm&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function mI(t,e,n){const r=new au(t,e,n);return r.texture.mapping=Dg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function P2(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Vxe(t,e,n){const r=new Float32Array(sd),i=new ve(0,1,0);return new ou({name:"SphericalGaussianBlur",defines:{n:sd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:oC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function gI(){return new ou({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function vI(){return new ou({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function oC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $xe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===xy||l===by,c=l===zc||l===sh;if(u||c)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let f=e.get(s);return n===null&&(n=new p3(t)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),e.set(s,f),f.texture}else{if(e.has(s))return e.get(s).texture;{const f=s.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new p3(t));const h=u?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,h),s.addEventListener("dispose",a),h.texture}else return null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function a(s){const l=s.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function qxe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Xxe(t,e,n,r){const i={},a=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);for(const m in h.morphAttributes){const x=h.morphAttributes[m];for(let y=0,g=x.length;y<g;y++)e.remove(x[y])}h.removeEventListener("dispose",o),delete i[h.id];const d=a.get(h);d&&(e.remove(d),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function s(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const m in h)e.update(h[m],t.ARRAY_BUFFER);const d=f.morphAttributes;for(const m in d){const x=d[m];for(let y=0,g=x.length;y<g;y++)e.update(x[y],t.ARRAY_BUFFER)}}function u(f){const h=[],d=f.index,m=f.attributes.position;let x=0;if(d!==null){const _=d.array;x=d.version;for(let b=0,S=_.length;b<S;b+=3){const A=_[b+0],E=_[b+1],M=_[b+2];h.push(A,E,E,M,M,A)}}else if(m!==void 0){const _=m.array;x=m.version;for(let b=0,S=_.length/3-1;b<S;b+=3){const A=b+0,E=b+1,M=b+2;h.push(A,E,E,M,M,A)}}else return;const y=new(E7(h)?iC:rC)(h,1);y.version=x;const g=a.get(f);g&&e.remove(g),a.set(f,y)}function c(f){const h=a.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&u(f)}else u(f);return a.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function Yxe(t,e,n,r){const i=r.isWebGL2;let a;function o(d){a=d}let s,l;function u(d){s=d.type,l=d.bytesPerElement}function c(d,m){t.drawElements(a,m,s,d*l),n.update(m,a,1)}function f(d,m,x){if(x===0)return;let y,g;if(i)y=t,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](a,m,s,d*l,x),n.update(m,a,x)}function h(d,m,x){if(x===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<x;g++)this.render(d[g]/l,m[g]);else{y.multiDrawElementsWEBGL(a,m,0,s,d,0,x);let g=0;for(let _=0;_<x;_++)g+=m[_];n.update(g,a,1)}}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f,this.renderMultiDraw=h}function Kxe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(a/3);break;case t.LINES:n.lines+=s*(a/2);break;case t.LINE_STRIP:n.lines+=s*(a-1);break;case t.LINE_LOOP:n.lines+=s*a;break;case t.POINTS:n.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Zxe(t,e){return t[0]-e[0]}function Jxe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Qxe(t,e,n){const r={},i=new Float32Array(8),a=new WeakMap,o=new ar,s=[];for(let u=0;u<8;u++)s[u]=[u,0];function l(u,c,f){const h=u.morphTargetInfluences;if(e.isWebGL2===!0){const d=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,m=d!==void 0?d.length:0;let x=a.get(c);if(x===void 0||x.count!==m){let O=function(){N.dispose(),a.delete(c),c.removeEventListener("dispose",O)};x!==void 0&&x.texture.dispose();const y=c.morphAttributes.position!==void 0,g=c.morphAttributes.normal!==void 0,_=c.morphAttributes.color!==void 0,b=c.morphAttributes.position||[],S=c.morphAttributes.normal||[],A=c.morphAttributes.color||[];let E=0;y===!0&&(E=1),g===!0&&(E=2),_===!0&&(E=3);let M=c.attributes.position.count*E,P=1;M>e.maxTextureSize&&(P=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const D=new Float32Array(M*P*4*m),N=new _w(D,M,P,m);N.type=Ls,N.needsUpdate=!0;const C=E*4;for(let j=0;j<m;j++){const F=b[j],Z=S[j],H=A[j],q=M*P*4*j;for(let B=0;B<F.count;B++){const z=B*C;y===!0&&(o.fromBufferAttribute(F,B),D[q+z+0]=o.x,D[q+z+1]=o.y,D[q+z+2]=o.z,D[q+z+3]=0),g===!0&&(o.fromBufferAttribute(Z,B),D[q+z+4]=o.x,D[q+z+5]=o.y,D[q+z+6]=o.z,D[q+z+7]=0),_===!0&&(o.fromBufferAttribute(H,B),D[q+z+8]=o.x,D[q+z+9]=o.y,D[q+z+10]=o.z,D[q+z+11]=H.itemSize===4?o.w:1)}}x={count:m,texture:N,size:new dt(M,P)},a.set(c,x),c.addEventListener("dispose",O)}if(u.isInstancedMesh===!0&&u.morphTexture!==null)f.getUniforms().setValue(t,"morphTexture",u.morphTexture,n);else{let y=0;for(let _=0;_<h.length;_++)y+=h[_];const g=c.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",g),f.getUniforms().setValue(t,"morphTargetInfluences",h)}f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const d=h===void 0?0:h.length;let m=r[c.id];if(m===void 0||m.length!==d){m=[];for(let b=0;b<d;b++)m[b]=[b,0];r[c.id]=m}for(let b=0;b<d;b++){const S=m[b];S[0]=b,S[1]=h[b]}m.sort(Jxe);for(let b=0;b<8;b++)b<d&&m[b][1]?(s[b][0]=m[b][0],s[b][1]=m[b][1]):(s[b][0]=Number.MAX_SAFE_INTEGER,s[b][1]=0);s.sort(Zxe);const x=c.morphAttributes.position,y=c.morphAttributes.normal;let g=0;for(let b=0;b<8;b++){const S=s[b],A=S[0],E=S[1];A!==Number.MAX_SAFE_INTEGER&&E?(x&&c.getAttribute("morphTarget"+b)!==x[A]&&c.setAttribute("morphTarget"+b,x[A]),y&&c.getAttribute("morphNormal"+b)!==y[A]&&c.setAttribute("morphNormal"+b,y[A]),i[b]=E,g+=E):(x&&c.hasAttribute("morphTarget"+b)===!0&&c.deleteAttribute("morphTarget"+b),y&&c.hasAttribute("morphNormal"+b)===!0&&c.deleteAttribute("morphNormal"+b),i[b]=0)}const _=c.morphTargetsRelative?1:1-g;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function ebe(t,e,n,r){let i=new WeakMap;function a(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function o(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:a,dispose:o}}class sC extends yi{constructor(e,n,r,i,a,o,s,l,u,c){if(c=c!==void 0?c:th,c!==th&&c!==$d)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===th&&(r=Sc),r===void 0&&c===$d&&(r=eh),super(null,i,a,o,s,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Di,this.minFilter=l!==void 0?l:Di,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const k7=new yi,D7=new sC(1,1);D7.compareFunction=QP;const F7=new _w,U7=new nC,B7=new s1,yI=[],xI=[],bI=new Float32Array(16),_I=new Float32Array(9),wI=new Float32Array(4);function Fg(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=yI[i];if(a===void 0&&(a=new Float32Array(i),yI[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function ma(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ga(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function ww(t,e){let n=xI[e];n===void 0&&(n=new Int32Array(e),xI[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function tbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function nbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ma(n,e))return;t.uniform2fv(this.addr,e),ga(n,e)}}function rbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ma(n,e))return;t.uniform3fv(this.addr,e),ga(n,e)}}function ibe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ma(n,e))return;t.uniform4fv(this.addr,e),ga(n,e)}}function abe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ma(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ga(n,e)}else{if(ma(n,r))return;wI.set(r),t.uniformMatrix2fv(this.addr,!1,wI),ga(n,r)}}function obe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ma(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ga(n,e)}else{if(ma(n,r))return;_I.set(r),t.uniformMatrix3fv(this.addr,!1,_I),ga(n,r)}}function sbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ma(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ga(n,e)}else{if(ma(n,r))return;bI.set(r),t.uniformMatrix4fv(this.addr,!1,bI),ga(n,r)}}function lbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ube(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ma(n,e))return;t.uniform2iv(this.addr,e),ga(n,e)}}function cbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ma(n,e))return;t.uniform3iv(this.addr,e),ga(n,e)}}function fbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ma(n,e))return;t.uniform4iv(this.addr,e),ga(n,e)}}function hbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function dbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ma(n,e))return;t.uniform2uiv(this.addr,e),ga(n,e)}}function pbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ma(n,e))return;t.uniform3uiv(this.addr,e),ga(n,e)}}function mbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ma(n,e))return;t.uniform4uiv(this.addr,e),ga(n,e)}}function gbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const a=this.type===t.SAMPLER_2D_SHADOW?D7:k7;n.setTexture2D(e||a,i)}function vbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||U7,i)}function ybe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||B7,i)}function xbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||F7,i)}function bbe(t){switch(t){case 5126:return tbe;case 35664:return nbe;case 35665:return rbe;case 35666:return ibe;case 35674:return abe;case 35675:return obe;case 35676:return sbe;case 5124:case 35670:return lbe;case 35667:case 35671:return ube;case 35668:case 35672:return cbe;case 35669:case 35673:return fbe;case 5125:return hbe;case 36294:return dbe;case 36295:return pbe;case 36296:return mbe;case 35678:case 36198:case 36298:case 36306:case 35682:return gbe;case 35679:case 36299:case 36307:return vbe;case 35680:case 36300:case 36308:case 36293:return ybe;case 36289:case 36303:case 36311:case 36292:return xbe}}function _be(t,e){t.uniform1fv(this.addr,e)}function wbe(t,e){const n=Fg(e,this.size,2);t.uniform2fv(this.addr,n)}function Sbe(t,e){const n=Fg(e,this.size,3);t.uniform3fv(this.addr,n)}function Abe(t,e){const n=Fg(e,this.size,4);t.uniform4fv(this.addr,n)}function Mbe(t,e){const n=Fg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Ebe(t,e){const n=Fg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Tbe(t,e){const n=Fg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Pbe(t,e){t.uniform1iv(this.addr,e)}function Cbe(t,e){t.uniform2iv(this.addr,e)}function Lbe(t,e){t.uniform3iv(this.addr,e)}function Nbe(t,e){t.uniform4iv(this.addr,e)}function Obe(t,e){t.uniform1uiv(this.addr,e)}function Rbe(t,e){t.uniform2uiv(this.addr,e)}function Ibe(t,e){t.uniform3uiv(this.addr,e)}function kbe(t,e){t.uniform4uiv(this.addr,e)}function Dbe(t,e,n){const r=this.cache,i=e.length,a=ww(n,i);ma(r,a)||(t.uniform1iv(this.addr,a),ga(r,a));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||k7,a[o])}function Fbe(t,e,n){const r=this.cache,i=e.length,a=ww(n,i);ma(r,a)||(t.uniform1iv(this.addr,a),ga(r,a));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||U7,a[o])}function Ube(t,e,n){const r=this.cache,i=e.length,a=ww(n,i);ma(r,a)||(t.uniform1iv(this.addr,a),ga(r,a));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||B7,a[o])}function Bbe(t,e,n){const r=this.cache,i=e.length,a=ww(n,i);ma(r,a)||(t.uniform1iv(this.addr,a),ga(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||F7,a[o])}function zbe(t){switch(t){case 5126:return _be;case 35664:return wbe;case 35665:return Sbe;case 35666:return Abe;case 35674:return Mbe;case 35675:return Ebe;case 35676:return Tbe;case 5124:case 35670:return Pbe;case 35667:case 35671:return Cbe;case 35668:case 35672:return Lbe;case 35669:case 35673:return Nbe;case 5125:return Obe;case 36294:return Rbe;case 36295:return Ibe;case 36296:return kbe;case 35678:case 36198:case 36298:case 36306:case 35682:return Dbe;case 35679:case 36299:case 36307:return Fbe;case 35680:case 36300:case 36308:case 36293:return Ube;case 36289:case 36303:case 36311:case 36292:return Bbe}}class jbe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=bbe(n.type)}}class Hbe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=zbe(n.type)}}class Wbe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,n[s.id],r)}}}const N5=/(\w+)(\])?(\[|\.)?/g;function SI(t,e){t.seq.push(e),t.map[e.id]=e}function Gbe(t,e,n){const r=t.name,i=r.length;for(N5.lastIndex=0;;){const a=N5.exec(r),o=N5.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===i){SI(n,u===void 0?new jbe(s,t,e):new Hbe(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new Wbe(s),SI(n,f)),n=f}}}class Px{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(n,i),o=e.getUniformLocation(n,a.name);Gbe(a,o,this)}}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,o=n.length;a!==o;++a){const s=n[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function AI(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Vbe=37297;let $be=0;function qbe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}function Xbe(t){const e=mr.getPrimaries(mr.workingColorSpace),n=mr.getPrimaries(t);let r;switch(e===n?r="":e===Py&&n===Ty?r="LinearDisplayP3ToLinearSRGB":e===Ty&&n===Py&&(r="LinearSRGBToLinearDisplayP3"),t){case $c:case a1:return[r,"LinearTransferOETF"];case hl:case bw:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function MI(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+qbe(t.getShaderSource(e),o)}else return i}function Ybe(t,e){const n=Xbe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Kbe(t,e){let n;switch(e){case e7:n="Linear";break;case t7:n="Reinhard";break;case n7:n="OptimizedCineon";break;case HP:n="ACESFilmic";break;case i7:n="AgX";break;case a7:n="Neutral";break;case r7:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Zbe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Em).join(`
`)}function Jbe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Em).join(`
`)}function Qbe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function e_e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),o=a.name;let s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function Em(t){return t!==""}function EI(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function TI(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const t_e=/^[ \t]*#include +<([\w\d./]+)>/gm;function m3(t){return t.replace(t_e,r_e)}const n_e=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function r_e(t,e){let n=Mn[e];if(n===void 0){const r=n_e.get(e);if(r!==void 0)n=Mn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return m3(n)}const i_e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function PI(t){return t.replace(i_e,a_e)}function a_e(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function CI(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function o_e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===gw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===o0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Vl&&(e="SHADOWMAP_TYPE_VSM"),e}function s_e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case zc:case sh:e="ENVMAP_TYPE_CUBE";break;case Dg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function l_e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case sh:e="ENVMAP_MODE_REFRACTION";break}return e}function u_e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case i1:e="ENVMAP_BLENDING_MULTIPLY";break;case Jz:e="ENVMAP_BLENDING_MIX";break;case Qz:e="ENVMAP_BLENDING_ADD";break}return e}function c_e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function f_e(t,e,n,r){const i=t.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=o_e(n),u=s_e(n),c=l_e(n),f=u_e(n),h=c_e(n),d=n.isWebGL2?"":Zbe(n),m=Jbe(n),x=Qbe(a),y=i.createProgram();let g,_,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Em).join(`
`),g.length>0&&(g+=`
`),_=[d,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Em).join(`
`),_.length>0&&(_+=`
`)):(g=[CI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Em).join(`
`),_=[d,CI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Du?"#define TONE_MAPPING":"",n.toneMapping!==Du?Mn.tonemapping_pars_fragment:"",n.toneMapping!==Du?Kbe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Mn.colorspace_pars_fragment,Ybe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Em).join(`
`)),o=m3(o),o=EI(o,n),o=TI(o,n),s=m3(s),s=EI(s,n),s=TI(s,n),o=PI(o),s=PI(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,g=[m,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,_=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===h3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===h3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const S=b+g+o,A=b+_+s,E=AI(i,i.VERTEX_SHADER,S),M=AI(i,i.FRAGMENT_SHADER,A);i.attachShader(y,E),i.attachShader(y,M),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function P(O){if(t.debug.checkShaderErrors){const j=i.getProgramInfoLog(y).trim(),F=i.getShaderInfoLog(E).trim(),Z=i.getShaderInfoLog(M).trim();let H=!0,q=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(H=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,E,M);else{const B=MI(i,E,"vertex"),z=MI(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+j+`
`+B+`
`+z)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(F===""||Z==="")&&(q=!1);q&&(O.diagnostics={runnable:H,programLog:j,vertexShader:{log:F,prefix:g},fragmentShader:{log:Z,prefix:_}})}i.deleteShader(E),i.deleteShader(M),D=new Px(i,y),N=e_e(i,y)}let D;this.getUniforms=function(){return D===void 0&&P(this),D};let N;this.getAttributes=function(){return N===void 0&&P(this),N};let C=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=i.getProgramParameter(y,Vbe)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=$be++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=M,this}let h_e=0;class d_e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new p_e(e),n.set(e,r)),r}}class p_e{constructor(e){this.id=h_e++,this.code=e,this.usedTimes=0}}function m_e(t,e,n,r,i,a,o){const s=new Ld,l=new d_e,u=new Set,c=[],f=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures;let m=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(N){return u.add(N),N===0?"uv":`uv${N}`}function g(N,C,O,j,F){const Z=j.fog,H=F.geometry,q=N.isMeshStandardMaterial?j.environment:null,B=(N.isMeshStandardMaterial?n:e).get(N.envMap||q),z=B&&B.mapping===Dg?B.image.height:null,$=x[N.type];N.precision!==null&&(m=i.getMaxPrecision(N.precision),m!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",m,"instead."));const X=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,k=X!==void 0?X.length:0;let V=0;H.morphAttributes.position!==void 0&&(V=1),H.morphAttributes.normal!==void 0&&(V=2),H.morphAttributes.color!==void 0&&(V=3);let G,K,ne,ue;if($){const Et=Jl[$];G=Et.vertexShader,K=Et.fragmentShader}else G=N.vertexShader,K=N.fragmentShader,l.update(N),ne=l.getVertexShaderID(N),ue=l.getFragmentShaderID(N);const he=t.getRenderTarget(),ce=F.isInstancedMesh===!0,Me=F.isBatchedMesh===!0,ye=!!N.map,J=!!N.matcap,Ee=!!B,Ae=!!N.aoMap,me=!!N.lightMap,ie=!!N.bumpMap,He=!!N.normalMap,Ce=!!N.displacementMap,Le=!!N.emissiveMap,Fe=!!N.metalnessMap,te=!!N.roughnessMap,ee=N.anisotropy>0,Se=N.clearcoat>0,Pe=N.iridescence>0,Oe=N.sheen>0,qe=N.transmission>0,it=ee&&!!N.anisotropyMap,at=Se&&!!N.clearcoatMap,ze=Se&&!!N.clearcoatNormalMap,Ze=Se&&!!N.clearcoatRoughnessMap,tt=Pe&&!!N.iridescenceMap,ht=Pe&&!!N.iridescenceThicknessMap,Mt=Oe&&!!N.sheenColorMap,Pt=Oe&&!!N.sheenRoughnessMap,ot=!!N.specularMap,be=!!N.specularColorMap,Ve=!!N.specularIntensityMap,ct=qe&&!!N.transmissionMap,xt=qe&&!!N.thicknessMap,vt=!!N.gradientMap,Te=!!N.alphaMap,St=N.alphaTest>0,Ie=!!N.alphaHash,Xe=!!N.extensions;let st=Du;N.toneMapped&&(he===null||he.isXRRenderTarget===!0)&&(st=t.toneMapping);const Nt={isWebGL2:f,shaderID:$,shaderType:N.type,shaderName:N.name,vertexShader:G,fragmentShader:K,defines:N.defines,customVertexShaderID:ne,customFragmentShaderID:ue,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:m,batching:Me,instancing:ce,instancingColor:ce&&F.instanceColor!==null,instancingMorph:ce&&F.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:he===null?t.outputColorSpace:he.isXRRenderTarget===!0?he.texture.colorSpace:$c,alphaToCoverage:!!N.alphaToCoverage,map:ye,matcap:J,envMap:Ee,envMapMode:Ee&&B.mapping,envMapCubeUVHeight:z,aoMap:Ae,lightMap:me,bumpMap:ie,normalMap:He,displacementMap:d&&Ce,emissiveMap:Le,normalMapObjectSpace:He&&N.normalMapType===y7,normalMapTangentSpace:He&&N.normalMapType===xh,metalnessMap:Fe,roughnessMap:te,anisotropy:ee,anisotropyMap:it,clearcoat:Se,clearcoatMap:at,clearcoatNormalMap:ze,clearcoatRoughnessMap:Ze,iridescence:Pe,iridescenceMap:tt,iridescenceThicknessMap:ht,sheen:Oe,sheenColorMap:Mt,sheenRoughnessMap:Pt,specularMap:ot,specularColorMap:be,specularIntensityMap:Ve,transmission:qe,transmissionMap:ct,thicknessMap:xt,gradientMap:vt,opaque:N.transparent===!1&&N.blending===Pd&&N.alphaToCoverage===!1,alphaMap:Te,alphaTest:St,alphaHash:Ie,combine:N.combine,mapUv:ye&&y(N.map.channel),aoMapUv:Ae&&y(N.aoMap.channel),lightMapUv:me&&y(N.lightMap.channel),bumpMapUv:ie&&y(N.bumpMap.channel),normalMapUv:He&&y(N.normalMap.channel),displacementMapUv:Ce&&y(N.displacementMap.channel),emissiveMapUv:Le&&y(N.emissiveMap.channel),metalnessMapUv:Fe&&y(N.metalnessMap.channel),roughnessMapUv:te&&y(N.roughnessMap.channel),anisotropyMapUv:it&&y(N.anisotropyMap.channel),clearcoatMapUv:at&&y(N.clearcoatMap.channel),clearcoatNormalMapUv:ze&&y(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ze&&y(N.clearcoatRoughnessMap.channel),iridescenceMapUv:tt&&y(N.iridescenceMap.channel),iridescenceThicknessMapUv:ht&&y(N.iridescenceThicknessMap.channel),sheenColorMapUv:Mt&&y(N.sheenColorMap.channel),sheenRoughnessMapUv:Pt&&y(N.sheenRoughnessMap.channel),specularMapUv:ot&&y(N.specularMap.channel),specularColorMapUv:be&&y(N.specularColorMap.channel),specularIntensityMapUv:Ve&&y(N.specularIntensityMap.channel),transmissionMapUv:ct&&y(N.transmissionMap.channel),thicknessMapUv:xt&&y(N.thicknessMap.channel),alphaMapUv:Te&&y(N.alphaMap.channel),vertexTangents:!!H.attributes.tangent&&(He||ee),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!H.attributes.uv&&(ye||Te),fog:!!Z,useFog:N.fog===!0,fogExp2:!!Z&&Z.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:F.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:k,morphTextureStride:V,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:st,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ye&&N.map.isVideoTexture===!0&&mr.getTransfer(N.map.colorSpace)===Dr,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===eu,flipSided:N.side===So,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionDerivatives:Xe&&N.extensions.derivatives===!0,extensionFragDepth:Xe&&N.extensions.fragDepth===!0,extensionDrawBuffers:Xe&&N.extensions.drawBuffers===!0,extensionShaderTextureLOD:Xe&&N.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Xe&&N.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Xe&&N.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return Nt.vertexUv1s=u.has(1),Nt.vertexUv2s=u.has(2),Nt.vertexUv3s=u.has(3),u.clear(),Nt}function _(N){const C=[];if(N.shaderID?C.push(N.shaderID):(C.push(N.customVertexShaderID),C.push(N.customFragmentShaderID)),N.defines!==void 0)for(const O in N.defines)C.push(O),C.push(N.defines[O]);return N.isRawShaderMaterial===!1&&(b(C,N),S(C,N),C.push(t.outputColorSpace)),C.push(N.customProgramCacheKey),C.join()}function b(N,C){N.push(C.precision),N.push(C.outputColorSpace),N.push(C.envMapMode),N.push(C.envMapCubeUVHeight),N.push(C.mapUv),N.push(C.alphaMapUv),N.push(C.lightMapUv),N.push(C.aoMapUv),N.push(C.bumpMapUv),N.push(C.normalMapUv),N.push(C.displacementMapUv),N.push(C.emissiveMapUv),N.push(C.metalnessMapUv),N.push(C.roughnessMapUv),N.push(C.anisotropyMapUv),N.push(C.clearcoatMapUv),N.push(C.clearcoatNormalMapUv),N.push(C.clearcoatRoughnessMapUv),N.push(C.iridescenceMapUv),N.push(C.iridescenceThicknessMapUv),N.push(C.sheenColorMapUv),N.push(C.sheenRoughnessMapUv),N.push(C.specularMapUv),N.push(C.specularColorMapUv),N.push(C.specularIntensityMapUv),N.push(C.transmissionMapUv),N.push(C.thicknessMapUv),N.push(C.combine),N.push(C.fogExp2),N.push(C.sizeAttenuation),N.push(C.morphTargetsCount),N.push(C.morphAttributeCount),N.push(C.numDirLights),N.push(C.numPointLights),N.push(C.numSpotLights),N.push(C.numSpotLightMaps),N.push(C.numHemiLights),N.push(C.numRectAreaLights),N.push(C.numDirLightShadows),N.push(C.numPointLightShadows),N.push(C.numSpotLightShadows),N.push(C.numSpotLightShadowsWithMaps),N.push(C.numLightProbes),N.push(C.shadowMapType),N.push(C.toneMapping),N.push(C.numClippingPlanes),N.push(C.numClipIntersection),N.push(C.depthPacking)}function S(N,C){s.disableAll(),C.isWebGL2&&s.enable(0),C.supportsVertexTextures&&s.enable(1),C.instancing&&s.enable(2),C.instancingColor&&s.enable(3),C.instancingMorph&&s.enable(4),C.matcap&&s.enable(5),C.envMap&&s.enable(6),C.normalMapObjectSpace&&s.enable(7),C.normalMapTangentSpace&&s.enable(8),C.clearcoat&&s.enable(9),C.iridescence&&s.enable(10),C.alphaTest&&s.enable(11),C.vertexColors&&s.enable(12),C.vertexAlphas&&s.enable(13),C.vertexUv1s&&s.enable(14),C.vertexUv2s&&s.enable(15),C.vertexUv3s&&s.enable(16),C.vertexTangents&&s.enable(17),C.anisotropy&&s.enable(18),C.alphaHash&&s.enable(19),C.batching&&s.enable(20),N.push(s.mask),s.disableAll(),C.fog&&s.enable(0),C.useFog&&s.enable(1),C.flatShading&&s.enable(2),C.logarithmicDepthBuffer&&s.enable(3),C.skinning&&s.enable(4),C.morphTargets&&s.enable(5),C.morphNormals&&s.enable(6),C.morphColors&&s.enable(7),C.premultipliedAlpha&&s.enable(8),C.shadowMapEnabled&&s.enable(9),C.useLegacyLights&&s.enable(10),C.doubleSided&&s.enable(11),C.flipSided&&s.enable(12),C.useDepthPacking&&s.enable(13),C.dithering&&s.enable(14),C.transmission&&s.enable(15),C.sheen&&s.enable(16),C.opaque&&s.enable(17),C.pointsUvs&&s.enable(18),C.decodeVideoTexture&&s.enable(19),C.alphaToCoverage&&s.enable(20),N.push(s.mask)}function A(N){const C=x[N.type];let O;if(C){const j=Jl[C];O=aC.clone(j.uniforms)}else O=N.uniforms;return O}function E(N,C){let O;for(let j=0,F=c.length;j<F;j++){const Z=c[j];if(Z.cacheKey===C){O=Z,++O.usedTimes;break}}return O===void 0&&(O=new f_e(t,C,N,a),c.push(O)),O}function M(N){if(--N.usedTimes===0){const C=c.indexOf(N);c[C]=c[c.length-1],c.pop(),N.destroy()}}function P(N){l.remove(N)}function D(){l.dispose()}return{getParameters:g,getProgramCacheKey:_,getUniforms:A,acquireProgram:E,releaseProgram:M,releaseShaderCache:P,programs:c,dispose:D}}function g_e(){let t=new WeakMap;function e(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function n(a){t.delete(a)}function r(a,o,s){t.get(a)[o]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function v_e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function LI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function NI(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,d,m,x,y){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:h,material:d,groupOrder:m,renderOrder:f.renderOrder,z:x,group:y},t[e]=g):(g.id=f.id,g.object=f,g.geometry=h,g.material=d,g.groupOrder=m,g.renderOrder=f.renderOrder,g.z=x,g.group=y),e++,g}function s(f,h,d,m,x,y){const g=o(f,h,d,m,x,y);d.transmission>0?r.push(g):d.transparent===!0?i.push(g):n.push(g)}function l(f,h,d,m,x,y){const g=o(f,h,d,m,x,y);d.transmission>0?r.unshift(g):d.transparent===!0?i.unshift(g):n.unshift(g)}function u(f,h){n.length>1&&n.sort(f||v_e),r.length>1&&r.sort(h||LI),i.length>1&&i.sort(h||LI)}function c(){for(let f=e,h=t.length;f<h;f++){const d=t[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:s,unshift:l,finish:c,sort:u}}function y_e(){let t=new WeakMap;function e(r,i){const a=t.get(r);let o;return a===void 0?(o=new NI,t.set(r,[o])):i>=a.length?(o=new NI,a.push(o)):o=a[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function x_e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ve,color:new zt};break;case"SpotLight":n={position:new ve,direction:new ve,color:new zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ve,color:new zt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ve,skyColor:new zt,groundColor:new zt};break;case"RectAreaLight":n={color:new zt,position:new ve,halfWidth:new ve,halfHeight:new ve};break}return t[e.id]=n,n}}}function b_e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let __e=0;function w_e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function S_e(t,e){const n=new x_e,r=b_e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new ve);const a=new ve,o=new cn,s=new cn;function l(c,f){let h=0,d=0,m=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let x=0,y=0,g=0,_=0,b=0,S=0,A=0,E=0,M=0,P=0,D=0;c.sort(w_e);const N=f===!0?Math.PI:1;for(let O=0,j=c.length;O<j;O++){const F=c[O],Z=F.color,H=F.intensity,q=F.distance,B=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)h+=Z.r*H*N,d+=Z.g*H*N,m+=Z.b*H*N;else if(F.isLightProbe){for(let z=0;z<9;z++)i.probe[z].addScaledVector(F.sh.coefficients[z],H);D++}else if(F.isDirectionalLight){const z=n.get(F);if(z.color.copy(F.color).multiplyScalar(F.intensity*N),F.castShadow){const $=F.shadow,X=r.get(F);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,i.directionalShadow[x]=X,i.directionalShadowMap[x]=B,i.directionalShadowMatrix[x]=F.shadow.matrix,S++}i.directional[x]=z,x++}else if(F.isSpotLight){const z=n.get(F);z.position.setFromMatrixPosition(F.matrixWorld),z.color.copy(Z).multiplyScalar(H*N),z.distance=q,z.coneCos=Math.cos(F.angle),z.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),z.decay=F.decay,i.spot[g]=z;const $=F.shadow;if(F.map&&(i.spotLightMap[M]=F.map,M++,$.updateMatrices(F),F.castShadow&&P++),i.spotLightMatrix[g]=$.matrix,F.castShadow){const X=r.get(F);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,i.spotShadow[g]=X,i.spotShadowMap[g]=B,E++}g++}else if(F.isRectAreaLight){const z=n.get(F);z.color.copy(Z).multiplyScalar(H),z.halfWidth.set(F.width*.5,0,0),z.halfHeight.set(0,F.height*.5,0),i.rectArea[_]=z,_++}else if(F.isPointLight){const z=n.get(F);if(z.color.copy(F.color).multiplyScalar(F.intensity*N),z.distance=F.distance,z.decay=F.decay,F.castShadow){const $=F.shadow,X=r.get(F);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,X.shadowCameraNear=$.camera.near,X.shadowCameraFar=$.camera.far,i.pointShadow[y]=X,i.pointShadowMap[y]=B,i.pointShadowMatrix[y]=F.shadow.matrix,A++}i.point[y]=z,y++}else if(F.isHemisphereLight){const z=n.get(F);z.skyColor.copy(F.color).multiplyScalar(H*N),z.groundColor.copy(F.groundColor).multiplyScalar(H*N),i.hemi[b]=z,b++}}_>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=It.LTC_FLOAT_1,i.rectAreaLTC2=It.LTC_FLOAT_2):(i.rectAreaLTC1=It.LTC_HALF_1,i.rectAreaLTC2=It.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=It.LTC_FLOAT_1,i.rectAreaLTC2=It.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=It.LTC_HALF_1,i.rectAreaLTC2=It.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=m;const C=i.hash;(C.directionalLength!==x||C.pointLength!==y||C.spotLength!==g||C.rectAreaLength!==_||C.hemiLength!==b||C.numDirectionalShadows!==S||C.numPointShadows!==A||C.numSpotShadows!==E||C.numSpotMaps!==M||C.numLightProbes!==D)&&(i.directional.length=x,i.spot.length=g,i.rectArea.length=_,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=E+M-P,i.spotLightMap.length=M,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=D,C.directionalLength=x,C.pointLength=y,C.spotLength=g,C.rectAreaLength=_,C.hemiLength=b,C.numDirectionalShadows=S,C.numPointShadows=A,C.numSpotShadows=E,C.numSpotMaps=M,C.numLightProbes=D,i.version=__e++)}function u(c,f){let h=0,d=0,m=0,x=0,y=0;const g=f.matrixWorldInverse;for(let _=0,b=c.length;_<b;_++){const S=c[_];if(S.isDirectionalLight){const A=i.directional[h];A.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(a),A.direction.transformDirection(g),h++}else if(S.isSpotLight){const A=i.spot[m];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(g),A.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(a),A.direction.transformDirection(g),m++}else if(S.isRectAreaLight){const A=i.rectArea[x];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(g),s.identity(),o.copy(S.matrixWorld),o.premultiply(g),s.extractRotation(o),A.halfWidth.set(S.width*.5,0,0),A.halfHeight.set(0,S.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),x++}else if(S.isPointLight){const A=i.point[d];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(g),d++}else if(S.isHemisphereLight){const A=i.hemi[y];A.direction.setFromMatrixPosition(S.matrixWorld),A.direction.transformDirection(g),y++}}}return{setup:l,setupView:u,state:i}}function OI(t,e){const n=new S_e(t,e),r=[],i=[];function a(){r.length=0,i.length=0}function o(f){r.push(f)}function s(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:s}}function A_e(t,e){let n=new WeakMap;function r(a,o=0){const s=n.get(a);let l;return s===void 0?(l=new OI(t,e),n.set(a,[l])):o>=s.length?(l=new OI(t,e),s.push(l)):l=s[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class Sw extends Eo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=v7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Aw extends Eo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const M_e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,E_e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function T_e(t,e,n){let r=new l1;const i=new dt,a=new dt,o=new ar,s=new Sw({depthPacking:JP}),l=new Aw,u={},c=n.maxTextureSize,f={[Bc]:So,[So]:Bc,[eu]:eu},h=new ou({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dt},radius:{value:4}},vertexShader:M_e,fragmentShader:E_e}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const m=new Cn;m.setAttribute("position",new Sr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new gi(m,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=gw;let g=this.type;this.render=function(E,M,P){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const D=t.getRenderTarget(),N=t.getActiveCubeFace(),C=t.getActiveMipmapLevel(),O=t.state;O.setBlending(Lc),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const j=g!==Vl&&this.type===Vl,F=g===Vl&&this.type!==Vl;for(let Z=0,H=E.length;Z<H;Z++){const q=E[Z],B=q.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const z=B.getFrameExtents();if(i.multiply(z),a.copy(B.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/z.x),i.x=a.x*z.x,B.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/z.y),i.y=a.y*z.y,B.mapSize.y=a.y)),B.map===null||j===!0||F===!0){const X=this.type!==Vl?{minFilter:Di,magFilter:Di}:{};B.map!==null&&B.map.dispose(),B.map=new au(i.x,i.y,X),B.map.texture.name=q.name+".shadowMap",B.camera.updateProjectionMatrix()}t.setRenderTarget(B.map),t.clear();const $=B.getViewportCount();for(let X=0;X<$;X++){const k=B.getViewport(X);o.set(a.x*k.x,a.y*k.y,a.x*k.z,a.y*k.w),O.viewport(o),B.updateMatrices(q,X),r=B.getFrustum(),S(M,P,B.camera,q,this.type)}B.isPointLightShadow!==!0&&this.type===Vl&&_(B,P),B.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(D,N,C)};function _(E,M){const P=e.update(x);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,d.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new au(i.x,i.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(M,null,P,h,x,null),d.uniforms.shadow_pass.value=E.mapPass.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(M,null,P,d,x,null)}function b(E,M,P,D){let N=null;const C=P.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(C!==void 0)N=C;else if(N=P.isPointLight===!0?l:s,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const O=N.uuid,j=M.uuid;let F=u[O];F===void 0&&(F={},u[O]=F);let Z=F[j];Z===void 0&&(Z=N.clone(),F[j]=Z,M.addEventListener("dispose",A)),N=Z}if(N.visible=M.visible,N.wireframe=M.wireframe,D===Vl?N.side=M.shadowSide!==null?M.shadowSide:M.side:N.side=M.shadowSide!==null?M.shadowSide:f[M.side],N.alphaMap=M.alphaMap,N.alphaTest=M.alphaTest,N.map=M.map,N.clipShadows=M.clipShadows,N.clippingPlanes=M.clippingPlanes,N.clipIntersection=M.clipIntersection,N.displacementMap=M.displacementMap,N.displacementScale=M.displacementScale,N.displacementBias=M.displacementBias,N.wireframeLinewidth=M.wireframeLinewidth,N.linewidth=M.linewidth,P.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const O=t.properties.get(N);O.light=P}return N}function S(E,M,P,D,N){if(E.visible===!1)return;if(E.layers.test(M.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&N===Vl)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,E.matrixWorld);const j=e.update(E),F=E.material;if(Array.isArray(F)){const Z=j.groups;for(let H=0,q=Z.length;H<q;H++){const B=Z[H],z=F[B.materialIndex];if(z&&z.visible){const $=b(E,z,D,N);E.onBeforeShadow(t,E,M,P,j,$,B),t.renderBufferDirect(P,null,j,$,E,B),E.onAfterShadow(t,E,M,P,j,$,B)}}}else if(F.visible){const Z=b(E,F,D,N);E.onBeforeShadow(t,E,M,P,j,Z,null),t.renderBufferDirect(P,null,j,Z,E,null),E.onAfterShadow(t,E,M,P,j,Z,null)}}const O=E.children;for(let j=0,F=O.length;j<F;j++)S(O[j],M,P,D,N)}function A(E){E.target.removeEventListener("dispose",A);for(const P in u){const D=u[P],N=E.target.uuid;N in D&&(D[N].dispose(),delete D[N])}}}function P_e(t,e,n){const r=n.isWebGL2;function i(){let Te=!1;const St=new ar;let Ie=null;const Xe=new ar(0,0,0,0);return{setMask:function(st){Ie!==st&&!Te&&(t.colorMask(st,st,st,st),Ie=st)},setLocked:function(st){Te=st},setClear:function(st,Nt,Et,qt,pn){pn===!0&&(st*=qt,Nt*=qt,Et*=qt),St.set(st,Nt,Et,qt),Xe.equals(St)===!1&&(t.clearColor(st,Nt,Et,qt),Xe.copy(St))},reset:function(){Te=!1,Ie=null,Xe.set(-1,0,0,0)}}}function a(){let Te=!1,St=null,Ie=null,Xe=null;return{setTest:function(st){st?ce(t.DEPTH_TEST):Me(t.DEPTH_TEST)},setMask:function(st){St!==st&&!Te&&(t.depthMask(st),St=st)},setFunc:function(st){if(Ie!==st){switch(st){case Vz:t.depthFunc(t.NEVER);break;case $z:t.depthFunc(t.ALWAYS);break;case qz:t.depthFunc(t.LESS);break;case yy:t.depthFunc(t.LEQUAL);break;case Xz:t.depthFunc(t.EQUAL);break;case Yz:t.depthFunc(t.GEQUAL);break;case Kz:t.depthFunc(t.GREATER);break;case Zz:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ie=st}},setLocked:function(st){Te=st},setClear:function(st){Xe!==st&&(t.clearDepth(st),Xe=st)},reset:function(){Te=!1,St=null,Ie=null,Xe=null}}}function o(){let Te=!1,St=null,Ie=null,Xe=null,st=null,Nt=null,Et=null,qt=null,pn=null;return{setTest:function(At){Te||(At?ce(t.STENCIL_TEST):Me(t.STENCIL_TEST))},setMask:function(At){St!==At&&!Te&&(t.stencilMask(At),St=At)},setFunc:function(At,hn,Un){(Ie!==At||Xe!==hn||st!==Un)&&(t.stencilFunc(At,hn,Un),Ie=At,Xe=hn,st=Un)},setOp:function(At,hn,Un){(Nt!==At||Et!==hn||qt!==Un)&&(t.stencilOp(At,hn,Un),Nt=At,Et=hn,qt=Un)},setLocked:function(At){Te=At},setClear:function(At){pn!==At&&(t.clearStencil(At),pn=At)},reset:function(){Te=!1,St=null,Ie=null,Xe=null,st=null,Nt=null,Et=null,qt=null,pn=null}}}const s=new i,l=new a,u=new o,c=new WeakMap,f=new WeakMap;let h={},d={},m=new WeakMap,x=[],y=null,g=!1,_=null,b=null,S=null,A=null,E=null,M=null,P=null,D=new zt(0,0,0),N=0,C=!1,O=null,j=null,F=null,Z=null,H=null;const q=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,z=0;const $=t.getParameter(t.VERSION);$.indexOf("WebGL")!==-1?(z=parseFloat(/^WebGL (\d)/.exec($)[1]),B=z>=1):$.indexOf("OpenGL ES")!==-1&&(z=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),B=z>=2);let X=null,k={};const V=t.getParameter(t.SCISSOR_BOX),G=t.getParameter(t.VIEWPORT),K=new ar().fromArray(V),ne=new ar().fromArray(G);function ue(Te,St,Ie,Xe){const st=new Uint8Array(4),Nt=t.createTexture();t.bindTexture(Te,Nt),t.texParameteri(Te,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Te,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Et=0;Et<Ie;Et++)r&&(Te===t.TEXTURE_3D||Te===t.TEXTURE_2D_ARRAY)?t.texImage3D(St,0,t.RGBA,1,1,Xe,0,t.RGBA,t.UNSIGNED_BYTE,st):t.texImage2D(St+Et,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,st);return Nt}const he={};he[t.TEXTURE_2D]=ue(t.TEXTURE_2D,t.TEXTURE_2D,1),he[t.TEXTURE_CUBE_MAP]=ue(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(he[t.TEXTURE_2D_ARRAY]=ue(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),he[t.TEXTURE_3D]=ue(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ce(t.DEPTH_TEST),l.setFunc(yy),Ce(!1),Le(IE),ce(t.CULL_FACE),ie(Lc);function ce(Te){h[Te]!==!0&&(t.enable(Te),h[Te]=!0)}function Me(Te){h[Te]!==!1&&(t.disable(Te),h[Te]=!1)}function ye(Te,St){return d[Te]!==St?(t.bindFramebuffer(Te,St),d[Te]=St,r&&(Te===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=St),Te===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=St)),!0):!1}function J(Te,St){let Ie=x,Xe=!1;if(Te){Ie=m.get(St),Ie===void 0&&(Ie=[],m.set(St,Ie));const st=Te.textures;if(Ie.length!==st.length||Ie[0]!==t.COLOR_ATTACHMENT0){for(let Nt=0,Et=st.length;Nt<Et;Nt++)Ie[Nt]=t.COLOR_ATTACHMENT0+Nt;Ie.length=st.length,Xe=!0}}else Ie[0]!==t.BACK&&(Ie[0]=t.BACK,Xe=!0);if(Xe)if(n.isWebGL2)t.drawBuffers(Ie);else if(e.has("WEBGL_draw_buffers")===!0)e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ie);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function Ee(Te){return y!==Te?(t.useProgram(Te),y=Te,!0):!1}const Ae={[Uf]:t.FUNC_ADD,[Lz]:t.FUNC_SUBTRACT,[Nz]:t.FUNC_REVERSE_SUBTRACT};if(r)Ae[FE]=t.MIN,Ae[UE]=t.MAX;else{const Te=e.get("EXT_blend_minmax");Te!==null&&(Ae[FE]=Te.MIN_EXT,Ae[UE]=Te.MAX_EXT)}const me={[Oz]:t.ZERO,[Rz]:t.ONE,[Iz]:t.SRC_COLOR,[n_]:t.SRC_ALPHA,[zz]:t.SRC_ALPHA_SATURATE,[Uz]:t.DST_COLOR,[Dz]:t.DST_ALPHA,[kz]:t.ONE_MINUS_SRC_COLOR,[r_]:t.ONE_MINUS_SRC_ALPHA,[Bz]:t.ONE_MINUS_DST_COLOR,[Fz]:t.ONE_MINUS_DST_ALPHA,[jz]:t.CONSTANT_COLOR,[Hz]:t.ONE_MINUS_CONSTANT_COLOR,[Wz]:t.CONSTANT_ALPHA,[Gz]:t.ONE_MINUS_CONSTANT_ALPHA};function ie(Te,St,Ie,Xe,st,Nt,Et,qt,pn,At){if(Te===Lc){g===!0&&(Me(t.BLEND),g=!1);return}if(g===!1&&(ce(t.BLEND),g=!0),Te!==Cz){if(Te!==_||At!==C){if((b!==Uf||E!==Uf)&&(t.blendEquation(t.FUNC_ADD),b=Uf,E=Uf),At)switch(Te){case Pd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case vy:t.blendFunc(t.ONE,t.ONE);break;case kE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case DE:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}else switch(Te){case Pd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case vy:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case kE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case DE:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}S=null,A=null,M=null,P=null,D.set(0,0,0),N=0,_=Te,C=At}return}st=st||St,Nt=Nt||Ie,Et=Et||Xe,(St!==b||st!==E)&&(t.blendEquationSeparate(Ae[St],Ae[st]),b=St,E=st),(Ie!==S||Xe!==A||Nt!==M||Et!==P)&&(t.blendFuncSeparate(me[Ie],me[Xe],me[Nt],me[Et]),S=Ie,A=Xe,M=Nt,P=Et),(qt.equals(D)===!1||pn!==N)&&(t.blendColor(qt.r,qt.g,qt.b,pn),D.copy(qt),N=pn),_=Te,C=!1}function He(Te,St){Te.side===eu?Me(t.CULL_FACE):ce(t.CULL_FACE);let Ie=Te.side===So;St&&(Ie=!Ie),Ce(Ie),Te.blending===Pd&&Te.transparent===!1?ie(Lc):ie(Te.blending,Te.blendEquation,Te.blendSrc,Te.blendDst,Te.blendEquationAlpha,Te.blendSrcAlpha,Te.blendDstAlpha,Te.blendColor,Te.blendAlpha,Te.premultipliedAlpha),l.setFunc(Te.depthFunc),l.setTest(Te.depthTest),l.setMask(Te.depthWrite),s.setMask(Te.colorWrite);const Xe=Te.stencilWrite;u.setTest(Xe),Xe&&(u.setMask(Te.stencilWriteMask),u.setFunc(Te.stencilFunc,Te.stencilRef,Te.stencilFuncMask),u.setOp(Te.stencilFail,Te.stencilZFail,Te.stencilZPass)),te(Te.polygonOffset,Te.polygonOffsetFactor,Te.polygonOffsetUnits),Te.alphaToCoverage===!0?ce(t.SAMPLE_ALPHA_TO_COVERAGE):Me(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ce(Te){O!==Te&&(Te?t.frontFace(t.CW):t.frontFace(t.CCW),O=Te)}function Le(Te){Te!==Ez?(ce(t.CULL_FACE),Te!==j&&(Te===IE?t.cullFace(t.BACK):Te===Tz?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Me(t.CULL_FACE),j=Te}function Fe(Te){Te!==F&&(B&&t.lineWidth(Te),F=Te)}function te(Te,St,Ie){Te?(ce(t.POLYGON_OFFSET_FILL),(Z!==St||H!==Ie)&&(t.polygonOffset(St,Ie),Z=St,H=Ie)):Me(t.POLYGON_OFFSET_FILL)}function ee(Te){Te?ce(t.SCISSOR_TEST):Me(t.SCISSOR_TEST)}function Se(Te){Te===void 0&&(Te=t.TEXTURE0+q-1),X!==Te&&(t.activeTexture(Te),X=Te)}function Pe(Te,St,Ie){Ie===void 0&&(X===null?Ie=t.TEXTURE0+q-1:Ie=X);let Xe=k[Ie];Xe===void 0&&(Xe={type:void 0,texture:void 0},k[Ie]=Xe),(Xe.type!==Te||Xe.texture!==St)&&(X!==Ie&&(t.activeTexture(Ie),X=Ie),t.bindTexture(Te,St||he[Te]),Xe.type=Te,Xe.texture=St)}function Oe(){const Te=k[X];Te!==void 0&&Te.type!==void 0&&(t.bindTexture(Te.type,null),Te.type=void 0,Te.texture=void 0)}function qe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function it(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function at(){try{t.texSubImage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ze(){try{t.texSubImage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Ze(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function tt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ht(){try{t.texStorage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Mt(){try{t.texStorage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Pt(){try{t.texImage2D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ot(){try{t.texImage3D.apply(t,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function be(Te){K.equals(Te)===!1&&(t.scissor(Te.x,Te.y,Te.z,Te.w),K.copy(Te))}function Ve(Te){ne.equals(Te)===!1&&(t.viewport(Te.x,Te.y,Te.z,Te.w),ne.copy(Te))}function ct(Te,St){let Ie=f.get(St);Ie===void 0&&(Ie=new WeakMap,f.set(St,Ie));let Xe=Ie.get(Te);Xe===void 0&&(Xe=t.getUniformBlockIndex(St,Te.name),Ie.set(Te,Xe))}function xt(Te,St){const Xe=f.get(St).get(Te);c.get(St)!==Xe&&(t.uniformBlockBinding(St,Xe,Te.__bindingPointIndex),c.set(St,Xe))}function vt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},X=null,k={},d={},m=new WeakMap,x=[],y=null,g=!1,_=null,b=null,S=null,A=null,E=null,M=null,P=null,D=new zt(0,0,0),N=0,C=!1,O=null,j=null,F=null,Z=null,H=null,K.set(0,0,t.canvas.width,t.canvas.height),ne.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:ce,disable:Me,bindFramebuffer:ye,drawBuffers:J,useProgram:Ee,setBlending:ie,setMaterial:He,setFlipSided:Ce,setCullFace:Le,setLineWidth:Fe,setPolygonOffset:te,setScissorTest:ee,activeTexture:Se,bindTexture:Pe,unbindTexture:Oe,compressedTexImage2D:qe,compressedTexImage3D:it,texImage2D:Pt,texImage3D:ot,updateUBOMapping:ct,uniformBlockBinding:xt,texStorage2D:ht,texStorage3D:Mt,texSubImage2D:at,texSubImage3D:ze,compressedTexSubImage2D:Ze,compressedTexSubImage3D:tt,scissor:be,viewport:Ve,reset:vt}}function C_e(t,e,n,r,i,a,o){const s=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new dt,f=new WeakMap;let h;const d=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(te,ee){return m?new OffscreenCanvas(te,ee):Ny("canvas")}function y(te,ee,Se,Pe){let Oe=1;const qe=Fe(te);if((qe.width>Pe||qe.height>Pe)&&(Oe=Pe/Math.max(qe.width,qe.height)),Oe<1||ee===!0)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap||typeof VideoFrame<"u"&&te instanceof VideoFrame){const it=ee?o_:Math.floor,at=it(Oe*qe.width),ze=it(Oe*qe.height);h===void 0&&(h=x(at,ze));const Ze=Se?x(at,ze):h;return Ze.width=at,Ze.height=ze,Ze.getContext("2d").drawImage(te,0,0,at,ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+qe.width+"x"+qe.height+") to ("+at+"x"+ze+")."),Ze}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+qe.width+"x"+qe.height+")."),te;return te}function g(te){const ee=Fe(te);return d3(ee.width)&&d3(ee.height)}function _(te){return s?!1:te.wrapS!==_o||te.wrapT!==_o||te.minFilter!==Di&&te.minFilter!==Xr}function b(te,ee){return te.generateMipmaps&&ee&&te.minFilter!==Di&&te.minFilter!==Xr}function S(te){t.generateMipmap(te)}function A(te,ee,Se,Pe,Oe=!1){if(s===!1)return ee;if(te!==null){if(t[te]!==void 0)return t[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let qe=ee;if(ee===t.RED&&(Se===t.FLOAT&&(qe=t.R32F),Se===t.HALF_FLOAT&&(qe=t.R16F),Se===t.UNSIGNED_BYTE&&(qe=t.R8)),ee===t.RED_INTEGER&&(Se===t.UNSIGNED_BYTE&&(qe=t.R8UI),Se===t.UNSIGNED_SHORT&&(qe=t.R16UI),Se===t.UNSIGNED_INT&&(qe=t.R32UI),Se===t.BYTE&&(qe=t.R8I),Se===t.SHORT&&(qe=t.R16I),Se===t.INT&&(qe=t.R32I)),ee===t.RG&&(Se===t.FLOAT&&(qe=t.RG32F),Se===t.HALF_FLOAT&&(qe=t.RG16F),Se===t.UNSIGNED_BYTE&&(qe=t.RG8)),ee===t.RG_INTEGER&&(Se===t.UNSIGNED_BYTE&&(qe=t.RG8UI),Se===t.UNSIGNED_SHORT&&(qe=t.RG16UI),Se===t.UNSIGNED_INT&&(qe=t.RG32UI),Se===t.BYTE&&(qe=t.RG8I),Se===t.SHORT&&(qe=t.RG16I),Se===t.INT&&(qe=t.RG32I)),ee===t.RGBA){const it=Oe?Ey:mr.getTransfer(Pe);Se===t.FLOAT&&(qe=t.RGBA32F),Se===t.HALF_FLOAT&&(qe=t.RGBA16F),Se===t.UNSIGNED_BYTE&&(qe=it===Dr?t.SRGB8_ALPHA8:t.RGBA8),Se===t.UNSIGNED_SHORT_4_4_4_4&&(qe=t.RGBA4),Se===t.UNSIGNED_SHORT_5_5_5_1&&(qe=t.RGB5_A1)}return(qe===t.R16F||qe===t.R32F||qe===t.RG16F||qe===t.RG32F||qe===t.RGBA16F||qe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),qe}function E(te,ee,Se){return b(te,Se)===!0||te.isFramebufferTexture&&te.minFilter!==Di&&te.minFilter!==Xr?Math.log2(Math.max(ee.width,ee.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?ee.mipmaps.length:1}function M(te){return te===Di||te===i_||te===od?t.NEAREST:t.LINEAR}function P(te){const ee=te.target;ee.removeEventListener("dispose",P),N(ee),ee.isVideoTexture&&f.delete(ee)}function D(te){const ee=te.target;ee.removeEventListener("dispose",D),O(ee)}function N(te){const ee=r.get(te);if(ee.__webglInit===void 0)return;const Se=te.source,Pe=d.get(Se);if(Pe){const Oe=Pe[ee.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&C(te),Object.keys(Pe).length===0&&d.delete(Se)}r.remove(te)}function C(te){const ee=r.get(te);t.deleteTexture(ee.__webglTexture);const Se=te.source,Pe=d.get(Se);delete Pe[ee.__cacheKey],o.memory.textures--}function O(te){const ee=r.get(te);if(te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++){if(Array.isArray(ee.__webglFramebuffer[Pe]))for(let Oe=0;Oe<ee.__webglFramebuffer[Pe].length;Oe++)t.deleteFramebuffer(ee.__webglFramebuffer[Pe][Oe]);else t.deleteFramebuffer(ee.__webglFramebuffer[Pe]);ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer[Pe])}else{if(Array.isArray(ee.__webglFramebuffer))for(let Pe=0;Pe<ee.__webglFramebuffer.length;Pe++)t.deleteFramebuffer(ee.__webglFramebuffer[Pe]);else t.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let Pe=0;Pe<ee.__webglColorRenderbuffer.length;Pe++)ee.__webglColorRenderbuffer[Pe]&&t.deleteRenderbuffer(ee.__webglColorRenderbuffer[Pe]);ee.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}const Se=te.textures;for(let Pe=0,Oe=Se.length;Pe<Oe;Pe++){const qe=r.get(Se[Pe]);qe.__webglTexture&&(t.deleteTexture(qe.__webglTexture),o.memory.textures--),r.remove(Se[Pe])}r.remove(te)}let j=0;function F(){j=0}function Z(){const te=j;return te>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+i.maxTextures),j+=1,te}function H(te){const ee=[];return ee.push(te.wrapS),ee.push(te.wrapT),ee.push(te.wrapR||0),ee.push(te.magFilter),ee.push(te.minFilter),ee.push(te.anisotropy),ee.push(te.internalFormat),ee.push(te.format),ee.push(te.type),ee.push(te.generateMipmaps),ee.push(te.premultiplyAlpha),ee.push(te.flipY),ee.push(te.unpackAlignment),ee.push(te.colorSpace),ee.join()}function q(te,ee){const Se=r.get(te);if(te.isVideoTexture&&Ce(te),te.isRenderTargetTexture===!1&&te.version>0&&Se.__version!==te.version){const Pe=te.image;if(Pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ne(Se,te,ee);return}}n.bindTexture(t.TEXTURE_2D,Se.__webglTexture,t.TEXTURE0+ee)}function B(te,ee){const Se=r.get(te);if(te.version>0&&Se.__version!==te.version){ne(Se,te,ee);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Se.__webglTexture,t.TEXTURE0+ee)}function z(te,ee){const Se=r.get(te);if(te.version>0&&Se.__version!==te.version){ne(Se,te,ee);return}n.bindTexture(t.TEXTURE_3D,Se.__webglTexture,t.TEXTURE0+ee)}function $(te,ee){const Se=r.get(te);if(te.version>0&&Se.__version!==te.version){ue(Se,te,ee);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture,t.TEXTURE0+ee)}const X={[_y]:t.REPEAT,[_o]:t.CLAMP_TO_EDGE,[wy]:t.MIRRORED_REPEAT},k={[Di]:t.NEAREST,[i_]:t.NEAREST_MIPMAP_NEAREST,[od]:t.NEAREST_MIPMAP_LINEAR,[Xr]:t.LINEAR,[s0]:t.LINEAR_MIPMAP_NEAREST,[Cu]:t.LINEAR_MIPMAP_LINEAR},V={[x7]:t.NEVER,[M7]:t.ALWAYS,[b7]:t.LESS,[QP]:t.LEQUAL,[_7]:t.EQUAL,[A7]:t.GEQUAL,[w7]:t.GREATER,[S7]:t.NOTEQUAL};function G(te,ee,Se){if(ee.type===Ls&&e.has("OES_texture_float_linear")===!1&&(ee.magFilter===Xr||ee.magFilter===s0||ee.magFilter===od||ee.magFilter===Cu||ee.minFilter===Xr||ee.minFilter===s0||ee.minFilter===od||ee.minFilter===Cu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),Se?(t.texParameteri(te,t.TEXTURE_WRAP_S,X[ee.wrapS]),t.texParameteri(te,t.TEXTURE_WRAP_T,X[ee.wrapT]),(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)&&t.texParameteri(te,t.TEXTURE_WRAP_R,X[ee.wrapR]),t.texParameteri(te,t.TEXTURE_MAG_FILTER,k[ee.magFilter]),t.texParameteri(te,t.TEXTURE_MIN_FILTER,k[ee.minFilter])):(t.texParameteri(te,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(te,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)&&t.texParameteri(te,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(ee.wrapS!==_o||ee.wrapT!==_o)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(te,t.TEXTURE_MAG_FILTER,M(ee.magFilter)),t.texParameteri(te,t.TEXTURE_MIN_FILTER,M(ee.minFilter)),ee.minFilter!==Di&&ee.minFilter!==Xr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),ee.compareFunction&&(t.texParameteri(te,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(te,t.TEXTURE_COMPARE_FUNC,V[ee.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ee.magFilter===Di||ee.minFilter!==od&&ee.minFilter!==Cu||ee.type===Ls&&e.has("OES_texture_float_linear")===!1||s===!1&&ee.type===gg&&e.has("OES_texture_half_float_linear")===!1)return;if(ee.anisotropy>1||r.get(ee).__currentAnisotropy){const Pe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(te,Pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ee.anisotropy,i.getMaxAnisotropy())),r.get(ee).__currentAnisotropy=ee.anisotropy}}}function K(te,ee){let Se=!1;te.__webglInit===void 0&&(te.__webglInit=!0,ee.addEventListener("dispose",P));const Pe=ee.source;let Oe=d.get(Pe);Oe===void 0&&(Oe={},d.set(Pe,Oe));const qe=H(ee);if(qe!==te.__cacheKey){Oe[qe]===void 0&&(Oe[qe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Se=!0),Oe[qe].usedTimes++;const it=Oe[te.__cacheKey];it!==void 0&&(Oe[te.__cacheKey].usedTimes--,it.usedTimes===0&&C(ee)),te.__cacheKey=qe,te.__webglTexture=Oe[qe].texture}return Se}function ne(te,ee,Se){let Pe=t.TEXTURE_2D;(ee.isDataArrayTexture||ee.isCompressedArrayTexture)&&(Pe=t.TEXTURE_2D_ARRAY),ee.isData3DTexture&&(Pe=t.TEXTURE_3D);const Oe=K(te,ee),qe=ee.source;n.bindTexture(Pe,te.__webglTexture,t.TEXTURE0+Se);const it=r.get(qe);if(qe.version!==it.__version||Oe===!0){n.activeTexture(t.TEXTURE0+Se);const at=mr.getPrimaries(mr.workingColorSpace),ze=ee.colorSpace===gc?null:mr.getPrimaries(ee.colorSpace),Ze=ee.colorSpace===gc||at===ze?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ee.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ee.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ze);const tt=_(ee)&&g(ee.image)===!1;let ht=y(ee.image,tt,!1,i.maxTextureSize);ht=Le(ee,ht);const Mt=g(ht)||s,Pt=a.convert(ee.format,ee.colorSpace);let ot=a.convert(ee.type),be=A(ee.internalFormat,Pt,ot,ee.colorSpace,ee.isVideoTexture);G(Pe,ee,Mt);let Ve;const ct=ee.mipmaps,xt=s&&ee.isVideoTexture!==!0&&be!==KP,vt=it.__version===void 0||Oe===!0,Te=qe.dataReady,St=E(ee,ht,Mt);if(ee.isDepthTexture)be=t.DEPTH_COMPONENT,s?ee.type===Ls?be=t.DEPTH_COMPONENT32F:ee.type===Sc?be=t.DEPTH_COMPONENT24:ee.type===eh?be=t.DEPTH24_STENCIL8:be=t.DEPTH_COMPONENT16:ee.type===Ls&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ee.format===th&&be===t.DEPTH_COMPONENT&&ee.type!==yw&&ee.type!==Sc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ee.type=Sc,ot=a.convert(ee.type)),ee.format===$d&&be===t.DEPTH_COMPONENT&&(be=t.DEPTH_STENCIL,ee.type!==eh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ee.type=eh,ot=a.convert(ee.type))),vt&&(xt?n.texStorage2D(t.TEXTURE_2D,1,be,ht.width,ht.height):n.texImage2D(t.TEXTURE_2D,0,be,ht.width,ht.height,0,Pt,ot,null));else if(ee.isDataTexture)if(ct.length>0&&Mt){xt&&vt&&n.texStorage2D(t.TEXTURE_2D,St,be,ct[0].width,ct[0].height);for(let Ie=0,Xe=ct.length;Ie<Xe;Ie++)Ve=ct[Ie],xt?Te&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,Ve.width,Ve.height,Pt,ot,Ve.data):n.texImage2D(t.TEXTURE_2D,Ie,be,Ve.width,Ve.height,0,Pt,ot,Ve.data);ee.generateMipmaps=!1}else xt?(vt&&n.texStorage2D(t.TEXTURE_2D,St,be,ht.width,ht.height),Te&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ht.width,ht.height,Pt,ot,ht.data)):n.texImage2D(t.TEXTURE_2D,0,be,ht.width,ht.height,0,Pt,ot,ht.data);else if(ee.isCompressedTexture)if(ee.isCompressedArrayTexture){xt&&vt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,St,be,ct[0].width,ct[0].height,ht.depth);for(let Ie=0,Xe=ct.length;Ie<Xe;Ie++)Ve=ct[Ie],ee.format!==Fo?Pt!==null?xt?Te&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,Ve.width,Ve.height,ht.depth,Pt,Ve.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ie,be,Ve.width,Ve.height,ht.depth,0,Ve.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xt?Te&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,Ve.width,Ve.height,ht.depth,Pt,ot,Ve.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ie,be,Ve.width,Ve.height,ht.depth,0,Pt,ot,Ve.data)}else{xt&&vt&&n.texStorage2D(t.TEXTURE_2D,St,be,ct[0].width,ct[0].height);for(let Ie=0,Xe=ct.length;Ie<Xe;Ie++)Ve=ct[Ie],ee.format!==Fo?Pt!==null?xt?Te&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ie,0,0,Ve.width,Ve.height,Pt,Ve.data):n.compressedTexImage2D(t.TEXTURE_2D,Ie,be,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xt?Te&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,Ve.width,Ve.height,Pt,ot,Ve.data):n.texImage2D(t.TEXTURE_2D,Ie,be,Ve.width,Ve.height,0,Pt,ot,Ve.data)}else if(ee.isDataArrayTexture)xt?(vt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,St,be,ht.width,ht.height,ht.depth),Te&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ht.width,ht.height,ht.depth,Pt,ot,ht.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,be,ht.width,ht.height,ht.depth,0,Pt,ot,ht.data);else if(ee.isData3DTexture)xt?(vt&&n.texStorage3D(t.TEXTURE_3D,St,be,ht.width,ht.height,ht.depth),Te&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ht.width,ht.height,ht.depth,Pt,ot,ht.data)):n.texImage3D(t.TEXTURE_3D,0,be,ht.width,ht.height,ht.depth,0,Pt,ot,ht.data);else if(ee.isFramebufferTexture){if(vt)if(xt)n.texStorage2D(t.TEXTURE_2D,St,be,ht.width,ht.height);else{let Ie=ht.width,Xe=ht.height;for(let st=0;st<St;st++)n.texImage2D(t.TEXTURE_2D,st,be,Ie,Xe,0,Pt,ot,null),Ie>>=1,Xe>>=1}}else if(ct.length>0&&Mt){if(xt&&vt){const Ie=Fe(ct[0]);n.texStorage2D(t.TEXTURE_2D,St,be,Ie.width,Ie.height)}for(let Ie=0,Xe=ct.length;Ie<Xe;Ie++)Ve=ct[Ie],xt?Te&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,Pt,ot,Ve):n.texImage2D(t.TEXTURE_2D,Ie,be,Pt,ot,Ve);ee.generateMipmaps=!1}else if(xt){if(vt){const Ie=Fe(ht);n.texStorage2D(t.TEXTURE_2D,St,be,Ie.width,Ie.height)}Te&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Pt,ot,ht)}else n.texImage2D(t.TEXTURE_2D,0,be,Pt,ot,ht);b(ee,Mt)&&S(Pe),it.__version=qe.version,ee.onUpdate&&ee.onUpdate(ee)}te.__version=ee.version}function ue(te,ee,Se){if(ee.image.length!==6)return;const Pe=K(te,ee),Oe=ee.source;n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture,t.TEXTURE0+Se);const qe=r.get(Oe);if(Oe.version!==qe.__version||Pe===!0){n.activeTexture(t.TEXTURE0+Se);const it=mr.getPrimaries(mr.workingColorSpace),at=ee.colorSpace===gc?null:mr.getPrimaries(ee.colorSpace),ze=ee.colorSpace===gc||it===at?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ee.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ee.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);const Ze=ee.isCompressedTexture||ee.image[0].isCompressedTexture,tt=ee.image[0]&&ee.image[0].isDataTexture,ht=[];for(let Ie=0;Ie<6;Ie++)!Ze&&!tt?ht[Ie]=y(ee.image[Ie],!1,!0,i.maxCubemapSize):ht[Ie]=tt?ee.image[Ie].image:ee.image[Ie],ht[Ie]=Le(ee,ht[Ie]);const Mt=ht[0],Pt=g(Mt)||s,ot=a.convert(ee.format,ee.colorSpace),be=a.convert(ee.type),Ve=A(ee.internalFormat,ot,be,ee.colorSpace),ct=s&&ee.isVideoTexture!==!0,xt=qe.__version===void 0||Pe===!0,vt=Oe.dataReady;let Te=E(ee,Mt,Pt);G(t.TEXTURE_CUBE_MAP,ee,Pt);let St;if(Ze){ct&&xt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Te,Ve,Mt.width,Mt.height);for(let Ie=0;Ie<6;Ie++){St=ht[Ie].mipmaps;for(let Xe=0;Xe<St.length;Xe++){const st=St[Xe];ee.format!==Fo?ot!==null?ct?vt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe,0,0,st.width,st.height,ot,st.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe,Ve,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ct?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe,0,0,st.width,st.height,ot,be,st.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe,Ve,st.width,st.height,0,ot,be,st.data)}}}else{if(St=ee.mipmaps,ct&&xt){St.length>0&&Te++;const Ie=Fe(ht[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Te,Ve,Ie.width,Ie.height)}for(let Ie=0;Ie<6;Ie++)if(tt){ct?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,ht[Ie].width,ht[Ie].height,ot,be,ht[Ie].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,Ve,ht[Ie].width,ht[Ie].height,0,ot,be,ht[Ie].data);for(let Xe=0;Xe<St.length;Xe++){const Nt=St[Xe].image[Ie].image;ct?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe+1,0,0,Nt.width,Nt.height,ot,be,Nt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe+1,Ve,Nt.width,Nt.height,0,ot,be,Nt.data)}}else{ct?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,ot,be,ht[Ie]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,Ve,ot,be,ht[Ie]);for(let Xe=0;Xe<St.length;Xe++){const st=St[Xe];ct?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe+1,0,0,ot,be,st.image[Ie]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe+1,Ve,ot,be,st.image[Ie])}}}b(ee,Pt)&&S(t.TEXTURE_CUBE_MAP),qe.__version=Oe.version,ee.onUpdate&&ee.onUpdate(ee)}te.__version=ee.version}function he(te,ee,Se,Pe,Oe,qe){const it=a.convert(Se.format,Se.colorSpace),at=a.convert(Se.type),ze=A(Se.internalFormat,it,at,Se.colorSpace);if(!r.get(ee).__hasExternalTextures){const tt=Math.max(1,ee.width>>qe),ht=Math.max(1,ee.height>>qe);Oe===t.TEXTURE_3D||Oe===t.TEXTURE_2D_ARRAY?n.texImage3D(Oe,qe,ze,tt,ht,ee.depth,0,it,at,null):n.texImage2D(Oe,qe,ze,tt,ht,0,it,at,null)}n.bindFramebuffer(t.FRAMEBUFFER,te),He(ee)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Pe,Oe,r.get(Se).__webglTexture,0,ie(ee)):(Oe===t.TEXTURE_2D||Oe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Oe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Pe,Oe,r.get(Se).__webglTexture,qe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ce(te,ee,Se){if(t.bindRenderbuffer(t.RENDERBUFFER,te),ee.depthBuffer&&!ee.stencilBuffer){let Pe=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(Se||He(ee)){const Oe=ee.depthTexture;Oe&&Oe.isDepthTexture&&(Oe.type===Ls?Pe=t.DEPTH_COMPONENT32F:Oe.type===Sc&&(Pe=t.DEPTH_COMPONENT24));const qe=ie(ee);He(ee)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,qe,Pe,ee.width,ee.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,qe,Pe,ee.width,ee.height)}else t.renderbufferStorage(t.RENDERBUFFER,Pe,ee.width,ee.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,te)}else if(ee.depthBuffer&&ee.stencilBuffer){const Pe=ie(ee);Se&&He(ee)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Pe,t.DEPTH24_STENCIL8,ee.width,ee.height):He(ee)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Pe,t.DEPTH24_STENCIL8,ee.width,ee.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,ee.width,ee.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,te)}else{const Pe=ee.textures;for(let Oe=0;Oe<Pe.length;Oe++){const qe=Pe[Oe],it=a.convert(qe.format,qe.colorSpace),at=a.convert(qe.type),ze=A(qe.internalFormat,it,at,qe.colorSpace),Ze=ie(ee);Se&&He(ee)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ze,ze,ee.width,ee.height):He(ee)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ze,ze,ee.width,ee.height):t.renderbufferStorage(t.RENDERBUFFER,ze,ee.width,ee.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Me(te,ee){if(ee&&ee.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,te),!(ee.depthTexture&&ee.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(ee.depthTexture).__webglTexture||ee.depthTexture.image.width!==ee.width||ee.depthTexture.image.height!==ee.height)&&(ee.depthTexture.image.width=ee.width,ee.depthTexture.image.height=ee.height,ee.depthTexture.needsUpdate=!0),q(ee.depthTexture,0);const Pe=r.get(ee.depthTexture).__webglTexture,Oe=ie(ee);if(ee.depthTexture.format===th)He(ee)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Pe,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Pe,0);else if(ee.depthTexture.format===$d)He(ee)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Pe,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Pe,0);else throw new Error("Unknown depthTexture format")}function ye(te){const ee=r.get(te),Se=te.isWebGLCubeRenderTarget===!0;if(te.depthTexture&&!ee.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");Me(ee.__webglFramebuffer,te)}else if(Se){ee.__webglDepthbuffer=[];for(let Pe=0;Pe<6;Pe++)n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglFramebuffer[Pe]),ee.__webglDepthbuffer[Pe]=t.createRenderbuffer(),ce(ee.__webglDepthbuffer[Pe],te,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglFramebuffer),ee.__webglDepthbuffer=t.createRenderbuffer(),ce(ee.__webglDepthbuffer,te,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function J(te,ee,Se){const Pe=r.get(te);ee!==void 0&&he(Pe.__webglFramebuffer,te,te.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Se!==void 0&&ye(te)}function Ee(te){const ee=te.texture,Se=r.get(te),Pe=r.get(ee);te.addEventListener("dispose",D);const Oe=te.textures,qe=te.isWebGLCubeRenderTarget===!0,it=Oe.length>1,at=g(te)||s;if(it||(Pe.__webglTexture===void 0&&(Pe.__webglTexture=t.createTexture()),Pe.__version=ee.version,o.memory.textures++),qe){Se.__webglFramebuffer=[];for(let ze=0;ze<6;ze++)if(s&&ee.mipmaps&&ee.mipmaps.length>0){Se.__webglFramebuffer[ze]=[];for(let Ze=0;Ze<ee.mipmaps.length;Ze++)Se.__webglFramebuffer[ze][Ze]=t.createFramebuffer()}else Se.__webglFramebuffer[ze]=t.createFramebuffer()}else{if(s&&ee.mipmaps&&ee.mipmaps.length>0){Se.__webglFramebuffer=[];for(let ze=0;ze<ee.mipmaps.length;ze++)Se.__webglFramebuffer[ze]=t.createFramebuffer()}else Se.__webglFramebuffer=t.createFramebuffer();if(it)if(i.drawBuffers)for(let ze=0,Ze=Oe.length;ze<Ze;ze++){const tt=r.get(Oe[ze]);tt.__webglTexture===void 0&&(tt.__webglTexture=t.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&te.samples>0&&He(te)===!1){Se.__webglMultisampledFramebuffer=t.createFramebuffer(),Se.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let ze=0;ze<Oe.length;ze++){const Ze=Oe[ze];Se.__webglColorRenderbuffer[ze]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Se.__webglColorRenderbuffer[ze]);const tt=a.convert(Ze.format,Ze.colorSpace),ht=a.convert(Ze.type),Mt=A(Ze.internalFormat,tt,ht,Ze.colorSpace,te.isXRRenderTarget===!0),Pt=ie(te);t.renderbufferStorageMultisample(t.RENDERBUFFER,Pt,Mt,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,Se.__webglColorRenderbuffer[ze])}t.bindRenderbuffer(t.RENDERBUFFER,null),te.depthBuffer&&(Se.__webglDepthRenderbuffer=t.createRenderbuffer(),ce(Se.__webglDepthRenderbuffer,te,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(qe){n.bindTexture(t.TEXTURE_CUBE_MAP,Pe.__webglTexture),G(t.TEXTURE_CUBE_MAP,ee,at);for(let ze=0;ze<6;ze++)if(s&&ee.mipmaps&&ee.mipmaps.length>0)for(let Ze=0;Ze<ee.mipmaps.length;Ze++)he(Se.__webglFramebuffer[ze][Ze],te,ee,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,Ze);else he(Se.__webglFramebuffer[ze],te,ee,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0);b(ee,at)&&S(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(it){for(let ze=0,Ze=Oe.length;ze<Ze;ze++){const tt=Oe[ze],ht=r.get(tt);n.bindTexture(t.TEXTURE_2D,ht.__webglTexture),G(t.TEXTURE_2D,tt,at),he(Se.__webglFramebuffer,te,tt,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,0),b(tt,at)&&S(t.TEXTURE_2D)}n.unbindTexture()}else{let ze=t.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(s?ze=te.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(ze,Pe.__webglTexture),G(ze,ee,at),s&&ee.mipmaps&&ee.mipmaps.length>0)for(let Ze=0;Ze<ee.mipmaps.length;Ze++)he(Se.__webglFramebuffer[Ze],te,ee,t.COLOR_ATTACHMENT0,ze,Ze);else he(Se.__webglFramebuffer,te,ee,t.COLOR_ATTACHMENT0,ze,0);b(ee,at)&&S(ze),n.unbindTexture()}te.depthBuffer&&ye(te)}function Ae(te){const ee=g(te)||s,Se=te.textures;for(let Pe=0,Oe=Se.length;Pe<Oe;Pe++){const qe=Se[Pe];if(b(qe,ee)){const it=te.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,at=r.get(qe).__webglTexture;n.bindTexture(it,at),S(it),n.unbindTexture()}}}function me(te){if(s&&te.samples>0&&He(te)===!1){const ee=te.textures,Se=te.width,Pe=te.height;let Oe=t.COLOR_BUFFER_BIT;const qe=[],it=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,at=r.get(te),ze=ee.length>1;if(ze)for(let Ze=0;Ze<ee.length;Ze++)n.bindFramebuffer(t.FRAMEBUFFER,at.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,at.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,at.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,at.__webglFramebuffer);for(let Ze=0;Ze<ee.length;Ze++){qe.push(t.COLOR_ATTACHMENT0+Ze),te.depthBuffer&&qe.push(it);const tt=at.__ignoreDepthValues!==void 0?at.__ignoreDepthValues:!1;if(tt===!1&&(te.depthBuffer&&(Oe|=t.DEPTH_BUFFER_BIT),te.stencilBuffer&&(Oe|=t.STENCIL_BUFFER_BIT)),ze&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,at.__webglColorRenderbuffer[Ze]),tt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[it]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[it])),ze){const ht=r.get(ee[Ze]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ht,0)}t.blitFramebuffer(0,0,Se,Pe,0,0,Se,Pe,Oe,t.NEAREST),u&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,qe)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ze)for(let Ze=0;Ze<ee.length;Ze++){n.bindFramebuffer(t.FRAMEBUFFER,at.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.RENDERBUFFER,at.__webglColorRenderbuffer[Ze]);const tt=r.get(ee[Ze]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,at.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.TEXTURE_2D,tt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,at.__webglMultisampledFramebuffer)}}function ie(te){return Math.min(i.maxSamples,te.samples)}function He(te){const ee=r.get(te);return s&&te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ee.__useRenderToTexture!==!1}function Ce(te){const ee=o.render.frame;f.get(te)!==ee&&(f.set(te,ee),te.update())}function Le(te,ee){const Se=te.colorSpace,Pe=te.format,Oe=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||te.format===a_||Se!==$c&&Se!==gc&&(mr.getTransfer(Se)===Dr?s===!1?e.has("EXT_sRGB")===!0&&Pe===Fo?(te.format=a_,te.minFilter=Xr,te.generateMipmaps=!1):ee=tC.sRGBToLinear(ee):(Pe!==Fo||Oe!==Fu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Se)),ee}function Fe(te){return typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement?(c.width=te.naturalWidth||te.width,c.height=te.naturalHeight||te.height):typeof VideoFrame<"u"&&te instanceof VideoFrame?(c.width=te.displayWidth,c.height=te.displayHeight):(c.width=te.width,c.height=te.height),c}this.allocateTextureUnit=Z,this.resetTextureUnits=F,this.setTexture2D=q,this.setTexture2DArray=B,this.setTexture3D=z,this.setTextureCube=$,this.rebindTextures=J,this.setupRenderTarget=Ee,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=me,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=he,this.useMultisampledRTT=He}function z7(t,e,n){const r=n.isWebGL2;function i(a,o=gc){let s;const l=mr.getTransfer(o);if(a===Fu)return t.UNSIGNED_BYTE;if(a===GP)return t.UNSIGNED_SHORT_4_4_4_4;if(a===VP)return t.UNSIGNED_SHORT_5_5_5_1;if(a===s7)return t.BYTE;if(a===l7)return t.SHORT;if(a===yw)return t.UNSIGNED_SHORT;if(a===WP)return t.INT;if(a===Sc)return t.UNSIGNED_INT;if(a===Ls)return t.FLOAT;if(a===gg)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===u7)return t.ALPHA;if(a===Fo)return t.RGBA;if(a===c7)return t.LUMINANCE;if(a===f7)return t.LUMINANCE_ALPHA;if(a===th)return t.DEPTH_COMPONENT;if(a===$d)return t.DEPTH_STENCIL;if(a===a_)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(a===$P)return t.RED;if(a===qP)return t.RED_INTEGER;if(a===h7)return t.RG;if(a===XP)return t.RG_INTEGER;if(a===YP)return t.RGBA_INTEGER;if(a===wx||a===Sx||a===Ax||a===Mx)if(l===Dr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(a===wx)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===Sx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===Ax)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===Mx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===wx)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===Sx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===Ax)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===Mx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===zE||a===jE||a===HE||a===WE)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===zE)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===jE)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===HE)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===WE)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===KP)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===GE||a===VE)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(a===GE)return l===Dr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(a===VE)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===$E||a===qE||a===XE||a===YE||a===KE||a===ZE||a===JE||a===QE||a===e3||a===t3||a===n3||a===r3||a===i3||a===a3)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(a===$E)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===qE)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===XE)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===YE)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===KE)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===ZE)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===JE)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===QE)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===e3)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===t3)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===n3)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===r3)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===i3)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===a3)return l===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===Ex||a===o3||a===s3)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(a===Ex)return l===Dr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(a===o3)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(a===s3)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(a===d7||a===l3||a===u3||a===c3)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(a===Ex)return s.COMPRESSED_RED_RGTC1_EXT;if(a===l3)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===u3)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===c3)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===eh?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[a]!==void 0?t[a]:null}return{convert:i}}class j7 extends Ui{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Tm extends er{constructor(){super(),this.isGroup=!0,this.type="Group"}}const L_e={type:"move"};class O5{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Tm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Tm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ve,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ve),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Tm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ve,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ve),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),g=this._getHandJoint(u,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),d=.02,m=.005;u.inputState.pinching&&h>d+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=d-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(L_e)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Tm;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const N_e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,O_e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class R_e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new yi,a=e.properties.get(i);a.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new ou({extensions:{fragDepth:!0},vertexShader:N_e,fragmentShader:O_e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new gi(new Yc(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class I_e extends qc{constructor(e,n){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,h=null,d=null,m=null;const x=new R_e,y=n.getContextAttributes();let g=null,_=null;const b=[],S=[],A=new dt;let E=null;const M=new Ui;M.layers.enable(1),M.viewport=new ar;const P=new Ui;P.layers.enable(2),P.viewport=new ar;const D=[M,P],N=new j7;N.layers.enable(1),N.layers.enable(2);let C=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let K=b[G];return K===void 0&&(K=new O5,b[G]=K),K.getTargetRaySpace()},this.getControllerGrip=function(G){let K=b[G];return K===void 0&&(K=new O5,b[G]=K),K.getGripSpace()},this.getHand=function(G){let K=b[G];return K===void 0&&(K=new O5,b[G]=K),K.getHandSpace()};function j(G){const K=S.indexOf(G.inputSource);if(K===-1)return;const ne=b[K];ne!==void 0&&(ne.update(G.inputSource,G.frame,u||o),ne.dispatchEvent({type:G.type,data:G.inputSource}))}function F(){i.removeEventListener("select",j),i.removeEventListener("selectstart",j),i.removeEventListener("selectend",j),i.removeEventListener("squeeze",j),i.removeEventListener("squeezestart",j),i.removeEventListener("squeezeend",j),i.removeEventListener("end",F),i.removeEventListener("inputsourceschange",Z);for(let G=0;G<b.length;G++){const K=S[G];K!==null&&(S[G]=null,b[G].disconnect(K))}C=null,O=null,x.reset(),e.setRenderTarget(g),d=null,h=null,f=null,i=null,_=null,V.stop(),r.isPresenting=!1,e.setPixelRatio(E),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){a=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){s=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(G){u=G},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",j),i.addEventListener("selectstart",j),i.addEventListener("selectend",j),i.addEventListener("squeeze",j),i.addEventListener("squeezestart",j),i.addEventListener("squeezeend",j),i.addEventListener("end",F),i.addEventListener("inputsourceschange",Z),y.xrCompatible!==!0&&await n.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(A),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const K={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(i,n,K),i.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),_=new au(d.framebufferWidth,d.framebufferHeight,{format:Fo,type:Fu,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let K=null,ne=null,ue=null;y.depth&&(ue=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,K=y.stencil?$d:th,ne=y.stencil?eh:Sc);const he={colorFormat:n.RGBA8,depthFormat:ue,scaleFactor:a};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(he),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),_=new au(h.textureWidth,h.textureHeight,{format:Fo,type:Fu,depthTexture:new sC(h.textureWidth,h.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,K),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const ce=e.properties.get(_);ce.__ignoreDepthValues=h.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(s),V.setContext(i),V.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Z(G){for(let K=0;K<G.removed.length;K++){const ne=G.removed[K],ue=S.indexOf(ne);ue>=0&&(S[ue]=null,b[ue].disconnect(ne))}for(let K=0;K<G.added.length;K++){const ne=G.added[K];let ue=S.indexOf(ne);if(ue===-1){for(let ce=0;ce<b.length;ce++)if(ce>=S.length){S.push(ne),ue=ce;break}else if(S[ce]===null){S[ce]=ne,ue=ce;break}if(ue===-1)break}const he=b[ue];he&&he.connect(ne)}}const H=new ve,q=new ve;function B(G,K,ne){H.setFromMatrixPosition(K.matrixWorld),q.setFromMatrixPosition(ne.matrixWorld);const ue=H.distanceTo(q),he=K.projectionMatrix.elements,ce=ne.projectionMatrix.elements,Me=he[14]/(he[10]-1),ye=he[14]/(he[10]+1),J=(he[9]+1)/he[5],Ee=(he[9]-1)/he[5],Ae=(he[8]-1)/he[0],me=(ce[8]+1)/ce[0],ie=Me*Ae,He=Me*me,Ce=ue/(-Ae+me),Le=Ce*-Ae;K.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Le),G.translateZ(Ce),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const Fe=Me+Ce,te=ye+Ce,ee=ie-Le,Se=He+(ue-Le),Pe=J*ye/te*Fe,Oe=Ee*ye/te*Fe;G.projectionMatrix.makePerspective(ee,Se,Pe,Oe,Fe,te),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}function z(G,K){K===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(K.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;x.texture!==null&&(G.near=x.depthNear,G.far=x.depthFar),N.near=P.near=M.near=G.near,N.far=P.far=M.far=G.far,(C!==N.near||O!==N.far)&&(i.updateRenderState({depthNear:N.near,depthFar:N.far}),C=N.near,O=N.far,M.near=C,M.far=O,P.near=C,P.far=O,M.updateProjectionMatrix(),P.updateProjectionMatrix(),G.updateProjectionMatrix());const K=G.parent,ne=N.cameras;z(N,K);for(let ue=0;ue<ne.length;ue++)z(ne[ue],K);ne.length===2?B(N,M,P):N.projectionMatrix.copy(M.projectionMatrix),$(G,N,K)};function $(G,K,ne){ne===null?G.matrix.copy(K.matrixWorld):(G.matrix.copy(ne.matrixWorld),G.matrix.invert(),G.matrix.multiply(K.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(K.projectionMatrix),G.projectionMatrixInverse.copy(K.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=vg*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(G){l=G,h!==null&&(h.fixedFoveation=G),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=G)},this.hasDepthSensing=function(){return x.texture!==null};let X=null;function k(G,K){if(c=K.getViewerPose(u||o),m=K,c!==null){const ne=c.views;d!==null&&(e.setRenderTargetFramebuffer(_,d.framebuffer),e.setRenderTarget(_));let ue=!1;ne.length!==N.cameras.length&&(N.cameras.length=0,ue=!0);for(let ce=0;ce<ne.length;ce++){const Me=ne[ce];let ye=null;if(d!==null)ye=d.getViewport(Me);else{const Ee=f.getViewSubImage(h,Me);ye=Ee.viewport,ce===0&&(e.setRenderTargetTextures(_,Ee.colorTexture,h.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(_))}let J=D[ce];J===void 0&&(J=new Ui,J.layers.enable(ce),J.viewport=new ar,D[ce]=J),J.matrix.fromArray(Me.transform.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale),J.projectionMatrix.fromArray(Me.projectionMatrix),J.projectionMatrixInverse.copy(J.projectionMatrix).invert(),J.viewport.set(ye.x,ye.y,ye.width,ye.height),ce===0&&(N.matrix.copy(J.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),ue===!0&&N.cameras.push(J)}const he=i.enabledFeatures;if(he&&he.includes("depth-sensing")){const ce=f.getDepthInformation(ne[0]);ce&&ce.isValid&&ce.texture&&x.init(e,ce,i.renderState)}}for(let ne=0;ne<b.length;ne++){const ue=S[ne],he=b[ne];ue!==null&&he!==void 0&&he.update(ue,K,u||o)}x.render(e,N),X&&X(G,K),K.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:K}),m=null}const V=new I7;V.setAnimationLoop(k),this.setAnimationLoop=function(G){X=G},this.dispose=function(){}}}const jh=new Us,k_e=new cn;function D_e(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,N7(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,_,b,S){g.isMeshBasicMaterial||g.isMeshLambertMaterial?a(y,g):g.isMeshToonMaterial?(a(y,g),f(y,g)):g.isMeshPhongMaterial?(a(y,g),c(y,g)):g.isMeshStandardMaterial?(a(y,g),h(y,g),g.isMeshPhysicalMaterial&&d(y,g,S)):g.isMeshMatcapMaterial?(a(y,g),m(y,g)):g.isMeshDepthMaterial?a(y,g):g.isMeshDistanceMaterial?(a(y,g),x(y,g)):g.isMeshNormalMaterial?a(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&s(y,g)):g.isPointsMaterial?l(y,g,_,b):g.isSpriteMaterial?u(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function a(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===So&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===So&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const _=e.get(g),b=_.envMap,S=_.envMapRotation;if(b&&(y.envMap.value=b,jh.copy(S),jh.x*=-1,jh.y*=-1,jh.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(jh.y*=-1,jh.z*=-1),y.envMapRotation.value.setFromMatrix4(k_e.makeRotationFromEuler(jh)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap){y.lightMap.value=g.lightMap;const A=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=g.lightMapIntensity*A,n(g.lightMap,y.lightMapTransform)}g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function s(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,_,b){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*_,y.scale.value=b*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function f(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function h(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),e.get(g).envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function d(y,g,_){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===So&&y.clearcoatNormalScale.value.negate())),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function m(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const _=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function F_e(t,e,n,r){let i={},a={},o=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,b){const S=b.program;r.uniformBlockBinding(_,S)}function u(_,b){let S=i[_.id];S===void 0&&(m(_),S=c(_),i[_.id]=S,_.addEventListener("dispose",y));const A=b.program;r.updateUBOMapping(_,A);const E=e.render.frame;a[_.id]!==E&&(h(_),a[_.id]=E)}function c(_){const b=f();_.__bindingPointIndex=b;const S=t.createBuffer(),A=_.__size,E=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,A,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,S),S}function f(){for(let _=0;_<s;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const b=i[_.id],S=_.uniforms,A=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let E=0,M=S.length;E<M;E++){const P=Array.isArray(S[E])?S[E]:[S[E]];for(let D=0,N=P.length;D<N;D++){const C=P[D];if(d(C,E,D,A)===!0){const O=C.__offset,j=Array.isArray(C.value)?C.value:[C.value];let F=0;for(let Z=0;Z<j.length;Z++){const H=j[Z],q=x(H);typeof H=="number"||typeof H=="boolean"?(C.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,O+F,C.__data)):H.isMatrix3?(C.__data[0]=H.elements[0],C.__data[1]=H.elements[1],C.__data[2]=H.elements[2],C.__data[3]=0,C.__data[4]=H.elements[3],C.__data[5]=H.elements[4],C.__data[6]=H.elements[5],C.__data[7]=0,C.__data[8]=H.elements[6],C.__data[9]=H.elements[7],C.__data[10]=H.elements[8],C.__data[11]=0):(H.toArray(C.__data,F),F+=q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,O,C.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(_,b,S,A){const E=_.value,M=b+"_"+S;if(A[M]===void 0)return typeof E=="number"||typeof E=="boolean"?A[M]=E:A[M]=E.clone(),!0;{const P=A[M];if(typeof E=="number"||typeof E=="boolean"){if(P!==E)return A[M]=E,!0}else if(P.equals(E)===!1)return P.copy(E),!0}return!1}function m(_){const b=_.uniforms;let S=0;const A=16;for(let M=0,P=b.length;M<P;M++){const D=Array.isArray(b[M])?b[M]:[b[M]];for(let N=0,C=D.length;N<C;N++){const O=D[N],j=Array.isArray(O.value)?O.value:[O.value];for(let F=0,Z=j.length;F<Z;F++){const H=j[F],q=x(H),B=S%A;B!==0&&A-B<q.boundary&&(S+=A-B),O.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=S,S+=q.storage}}}const E=S%A;return E>0&&(S+=A-E),_.__size=S,_.__cache={},this}function x(_){const b={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function y(_){const b=_.target;b.removeEventListener("dispose",y);const S=o.indexOf(b.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function g(){for(const _ in i)t.deleteBuffer(i[_]);o=[],i={},a={}}return{bind:l,update:u,dispose:g}}class lC{constructor(e={}){const{canvas:n=T7(),context:r=null,depth:i=!0,stencil:a=!0,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;r!==null?h=r.getContextAttributes().alpha:h=o;const d=new Uint32Array(4),m=new Int32Array(4);let x=null,y=null;const g=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=hl,this._useLegacyLights=!1,this.toneMapping=Du,this.toneMappingExposure=1;const b=this;let S=!1,A=0,E=0,M=null,P=-1,D=null;const N=new ar,C=new ar;let O=null;const j=new zt(0);let F=0,Z=n.width,H=n.height,q=1,B=null,z=null;const $=new ar(0,0,Z,H),X=new ar(0,0,Z,H);let k=!1;const V=new l1;let G=!1,K=!1,ne=null;const ue=new cn,he=new dt,ce=new ve,Me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return M===null?q:1}let J=r;function Ee(pe,We){for(let Qe=0;Qe<pe.length;Qe++){const nt=pe[Qe],Je=n.getContext(nt,We);if(Je!==null)return Je}return null}try{const pe={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${mw}`),n.addEventListener("webglcontextlost",vt,!1),n.addEventListener("webglcontextrestored",Te,!1),n.addEventListener("webglcontextcreationerror",St,!1),J===null){const We=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&We.shift(),J=Ee(We,pe),J===null)throw Ee(We)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&J instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),J.getShaderPrecisionFormat===void 0&&(J.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(pe){throw console.error("THREE.WebGLRenderer: "+pe.message),pe}let Ae,me,ie,He,Ce,Le,Fe,te,ee,Se,Pe,Oe,qe,it,at,ze,Ze,tt,ht,Mt,Pt,ot,be,Ve;function ct(){Ae=new qxe(J),me=new jxe(J,Ae,e),Ae.init(me),ot=new z7(J,Ae,me),ie=new P_e(J,Ae,me),He=new Kxe(J),Ce=new g_e,Le=new C_e(J,Ae,ie,Ce,me,ot,He),Fe=new Wxe(b),te=new $xe(b),ee=new n1e(J,me),be=new Bxe(J,Ae,ee,me),Se=new Xxe(J,ee,He,be),Pe=new ebe(J,Se,ee,He),ht=new Qxe(J,me,Le),ze=new Hxe(Ce),Oe=new m_e(b,Fe,te,Ae,me,be,ze),qe=new D_e(b,Ce),it=new y_e,at=new A_e(Ae,me),tt=new Uxe(b,Fe,te,ie,Pe,h,l),Ze=new T_e(b,Pe,me),Ve=new F_e(J,He,me,ie),Mt=new zxe(J,Ae,He,me),Pt=new Yxe(J,Ae,He,me),He.programs=Oe.programs,b.capabilities=me,b.extensions=Ae,b.properties=Ce,b.renderLists=it,b.shadowMap=Ze,b.state=ie,b.info=He}ct();const xt=new I_e(b,J);this.xr=xt,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const pe=Ae.get("WEBGL_lose_context");pe&&pe.loseContext()},this.forceContextRestore=function(){const pe=Ae.get("WEBGL_lose_context");pe&&pe.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(pe){pe!==void 0&&(q=pe,this.setSize(Z,H,!1))},this.getSize=function(pe){return pe.set(Z,H)},this.setSize=function(pe,We,Qe=!0){if(xt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Z=pe,H=We,n.width=Math.floor(pe*q),n.height=Math.floor(We*q),Qe===!0&&(n.style.width=pe+"px",n.style.height=We+"px"),this.setViewport(0,0,pe,We)},this.getDrawingBufferSize=function(pe){return pe.set(Z*q,H*q).floor()},this.setDrawingBufferSize=function(pe,We,Qe){Z=pe,H=We,q=Qe,n.width=Math.floor(pe*Qe),n.height=Math.floor(We*Qe),this.setViewport(0,0,pe,We)},this.getCurrentViewport=function(pe){return pe.copy(N)},this.getViewport=function(pe){return pe.copy($)},this.setViewport=function(pe,We,Qe,nt){pe.isVector4?$.set(pe.x,pe.y,pe.z,pe.w):$.set(pe,We,Qe,nt),ie.viewport(N.copy($).multiplyScalar(q).round())},this.getScissor=function(pe){return pe.copy(X)},this.setScissor=function(pe,We,Qe,nt){pe.isVector4?X.set(pe.x,pe.y,pe.z,pe.w):X.set(pe,We,Qe,nt),ie.scissor(C.copy(X).multiplyScalar(q).round())},this.getScissorTest=function(){return k},this.setScissorTest=function(pe){ie.setScissorTest(k=pe)},this.setOpaqueSort=function(pe){B=pe},this.setTransparentSort=function(pe){z=pe},this.getClearColor=function(pe){return pe.copy(tt.getClearColor())},this.setClearColor=function(){tt.setClearColor.apply(tt,arguments)},this.getClearAlpha=function(){return tt.getClearAlpha()},this.setClearAlpha=function(){tt.setClearAlpha.apply(tt,arguments)},this.clear=function(pe=!0,We=!0,Qe=!0){let nt=0;if(pe){let Je=!1;if(M!==null){const Ot=M.texture.format;Je=Ot===YP||Ot===XP||Ot===qP}if(Je){const Ot=M.texture.type,jt=Ot===Fu||Ot===Sc||Ot===yw||Ot===eh||Ot===GP||Ot===VP,Kt=tt.getClearColor(),bt=tt.getClearAlpha(),nn=Kt.r,rn=Kt.g,Qt=Kt.b;jt?(d[0]=nn,d[1]=rn,d[2]=Qt,d[3]=bt,J.clearBufferuiv(J.COLOR,0,d)):(m[0]=nn,m[1]=rn,m[2]=Qt,m[3]=bt,J.clearBufferiv(J.COLOR,0,m))}else nt|=J.COLOR_BUFFER_BIT}We&&(nt|=J.DEPTH_BUFFER_BIT),Qe&&(nt|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(nt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",vt,!1),n.removeEventListener("webglcontextrestored",Te,!1),n.removeEventListener("webglcontextcreationerror",St,!1),it.dispose(),at.dispose(),Ce.dispose(),Fe.dispose(),te.dispose(),Pe.dispose(),be.dispose(),Ve.dispose(),Oe.dispose(),xt.dispose(),xt.removeEventListener("sessionstart",pn),xt.removeEventListener("sessionend",At),ne&&(ne.dispose(),ne=null),hn.stop()};function vt(pe){pe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Te(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const pe=He.autoReset,We=Ze.enabled,Qe=Ze.autoUpdate,nt=Ze.needsUpdate,Je=Ze.type;ct(),He.autoReset=pe,Ze.enabled=We,Ze.autoUpdate=Qe,Ze.needsUpdate=nt,Ze.type=Je}function St(pe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",pe.statusMessage)}function Ie(pe){const We=pe.target;We.removeEventListener("dispose",Ie),Xe(We)}function Xe(pe){st(pe),Ce.remove(pe)}function st(pe){const We=Ce.get(pe).programs;We!==void 0&&(We.forEach(function(Qe){Oe.releaseProgram(Qe)}),pe.isShaderMaterial&&Oe.releaseShaderCache(pe))}this.renderBufferDirect=function(pe,We,Qe,nt,Je,Ot){We===null&&(We=Me);const jt=Je.isMesh&&Je.matrixWorld.determinant()<0,Kt=ya(pe,We,Qe,nt,Je);ie.setMaterial(nt,jt);let bt=Qe.index,nn=1;if(nt.wireframe===!0){if(bt=Se.getWireframeAttribute(Qe),bt===void 0)return;nn=2}const rn=Qe.drawRange,Qt=Qe.attributes.position;let qn=rn.start*nn,Or=(rn.start+rn.count)*nn;Ot!==null&&(qn=Math.max(qn,Ot.start*nn),Or=Math.min(Or,(Ot.start+Ot.count)*nn)),bt!==null?(qn=Math.max(qn,0),Or=Math.min(Or,bt.count)):Qt!=null&&(qn=Math.max(qn,0),Or=Math.min(Or,Qt.count));const Gn=Or-qn;if(Gn<0||Gn===1/0)return;be.setup(Je,nt,Kt,Qe,bt);let xr,Zt=Mt;if(bt!==null&&(xr=ee.get(bt),Zt=Pt,Zt.setIndex(xr)),Je.isMesh)nt.wireframe===!0?(ie.setLineWidth(nt.wireframeLinewidth*ye()),Zt.setMode(J.LINES)):Zt.setMode(J.TRIANGLES);else if(Je.isLine){let Ft=nt.linewidth;Ft===void 0&&(Ft=1),ie.setLineWidth(Ft*ye()),Je.isLineSegments?Zt.setMode(J.LINES):Je.isLineLoop?Zt.setMode(J.LINE_LOOP):Zt.setMode(J.LINE_STRIP)}else Je.isPoints?Zt.setMode(J.POINTS):Je.isSprite&&Zt.setMode(J.TRIANGLES);if(Je.isBatchedMesh)Zt.renderMultiDraw(Je._multiDrawStarts,Je._multiDrawCounts,Je._multiDrawCount);else if(Je.isInstancedMesh)Zt.renderInstances(qn,Gn,Je.count);else if(Qe.isInstancedBufferGeometry){const Ft=Qe._maxInstanceCount!==void 0?Qe._maxInstanceCount:1/0,Li=Math.min(Qe.instanceCount,Ft);Zt.renderInstances(qn,Gn,Li)}else Zt.render(qn,Gn)};function Nt(pe,We,Qe){pe.transparent===!0&&pe.side===eu&&pe.forceSinglePass===!1?(pe.side=So,pe.needsUpdate=!0,ii(pe,We,Qe),pe.side=Bc,pe.needsUpdate=!0,ii(pe,We,Qe),pe.side=eu):ii(pe,We,Qe)}this.compile=function(pe,We,Qe=null){Qe===null&&(Qe=pe),y=at.get(Qe),y.init(),_.push(y),Qe.traverseVisible(function(Je){Je.isLight&&Je.layers.test(We.layers)&&(y.pushLight(Je),Je.castShadow&&y.pushShadow(Je))}),pe!==Qe&&pe.traverseVisible(function(Je){Je.isLight&&Je.layers.test(We.layers)&&(y.pushLight(Je),Je.castShadow&&y.pushShadow(Je))}),y.setupLights(b._useLegacyLights);const nt=new Set;return pe.traverse(function(Je){const Ot=Je.material;if(Ot)if(Array.isArray(Ot))for(let jt=0;jt<Ot.length;jt++){const Kt=Ot[jt];Nt(Kt,Qe,Je),nt.add(Kt)}else Nt(Ot,Qe,Je),nt.add(Ot)}),_.pop(),y=null,nt},this.compileAsync=function(pe,We,Qe=null){const nt=this.compile(pe,We,Qe);return new Promise(Je=>{function Ot(){if(nt.forEach(function(jt){Ce.get(jt).currentProgram.isReady()&&nt.delete(jt)}),nt.size===0){Je(pe);return}setTimeout(Ot,10)}Ae.get("KHR_parallel_shader_compile")!==null?Ot():setTimeout(Ot,10)})};let Et=null;function qt(pe){Et&&Et(pe)}function pn(){hn.stop()}function At(){hn.start()}const hn=new I7;hn.setAnimationLoop(qt),typeof self<"u"&&hn.setContext(self),this.setAnimationLoop=function(pe){Et=pe,xt.setAnimationLoop(pe),pe===null?hn.stop():hn.start()},xt.addEventListener("sessionstart",pn),xt.addEventListener("sessionend",At),this.render=function(pe,We){if(We!==void 0&&We.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),We.parent===null&&We.matrixWorldAutoUpdate===!0&&We.updateMatrixWorld(),xt.enabled===!0&&xt.isPresenting===!0&&(xt.cameraAutoUpdate===!0&&xt.updateCamera(We),We=xt.getCamera()),pe.isScene===!0&&pe.onBeforeRender(b,pe,We,M),y=at.get(pe,_.length),y.init(),_.push(y),ue.multiplyMatrices(We.projectionMatrix,We.matrixWorldInverse),V.setFromProjectionMatrix(ue),K=this.localClippingEnabled,G=ze.init(this.clippingPlanes,K),x=it.get(pe,g.length),x.init(),g.push(x),Un(pe,We,0,b.sortObjects),x.finish(),b.sortObjects===!0&&x.sort(B,z),this.info.render.frame++,G===!0&&ze.beginShadows();const Qe=y.state.shadowsArray;if(Ze.render(Qe,pe,We),G===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset(),(xt.enabled===!1||xt.isPresenting===!1||xt.hasDepthSensing()===!1)&&tt.render(x,pe),y.setupLights(b._useLegacyLights),We.isArrayCamera){const nt=We.cameras;for(let Je=0,Ot=nt.length;Je<Ot;Je++){const jt=nt[Je];dr(x,pe,jt,jt.viewport)}}else dr(x,pe,We);M!==null&&(Le.updateMultisampleRenderTarget(M),Le.updateRenderTargetMipmap(M)),pe.isScene===!0&&pe.onAfterRender(b,pe,We),be.resetDefaultState(),P=-1,D=null,_.pop(),_.length>0?y=_[_.length-1]:y=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function Un(pe,We,Qe,nt){if(pe.visible===!1)return;if(pe.layers.test(We.layers)){if(pe.isGroup)Qe=pe.renderOrder;else if(pe.isLOD)pe.autoUpdate===!0&&pe.update(We);else if(pe.isLight)y.pushLight(pe),pe.castShadow&&y.pushShadow(pe);else if(pe.isSprite){if(!pe.frustumCulled||V.intersectsSprite(pe)){nt&&ce.setFromMatrixPosition(pe.matrixWorld).applyMatrix4(ue);const jt=Pe.update(pe),Kt=pe.material;Kt.visible&&x.push(pe,jt,Kt,Qe,ce.z,null)}}else if((pe.isMesh||pe.isLine||pe.isPoints)&&(!pe.frustumCulled||V.intersectsObject(pe))){const jt=Pe.update(pe),Kt=pe.material;if(nt&&(pe.boundingSphere!==void 0?(pe.boundingSphere===null&&pe.computeBoundingSphere(),ce.copy(pe.boundingSphere.center)):(jt.boundingSphere===null&&jt.computeBoundingSphere(),ce.copy(jt.boundingSphere.center)),ce.applyMatrix4(pe.matrixWorld).applyMatrix4(ue)),Array.isArray(Kt)){const bt=jt.groups;for(let nn=0,rn=bt.length;nn<rn;nn++){const Qt=bt[nn],qn=Kt[Qt.materialIndex];qn&&qn.visible&&x.push(pe,jt,qn,Qe,ce.z,Qt)}}else Kt.visible&&x.push(pe,jt,Kt,Qe,ce.z,null)}}const Ot=pe.children;for(let jt=0,Kt=Ot.length;jt<Kt;jt++)Un(Ot[jt],We,Qe,nt)}function dr(pe,We,Qe,nt){const Je=pe.opaque,Ot=pe.transmissive,jt=pe.transparent;y.setupLightsView(Qe),G===!0&&ze.setGlobalState(b.clippingPlanes,Qe),Ot.length>0&&Bn(Je,Ot,We,Qe),nt&&ie.viewport(N.copy(nt)),Je.length>0&&kn(Je,We,Qe),Ot.length>0&&kn(Ot,We,Qe),jt.length>0&&kn(jt,We,Qe),ie.buffers.depth.setTest(!0),ie.buffers.depth.setMask(!0),ie.buffers.color.setMask(!0),ie.setPolygonOffset(!1)}function Bn(pe,We,Qe,nt){if((Qe.isScene===!0?Qe.overrideMaterial:null)!==null)return;const Ot=me.isWebGL2;ne===null&&(ne=new au(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")?gg:Fu,minFilter:Cu,samples:Ot?4:0})),b.getDrawingBufferSize(he),Ot?ne.setSize(he.x,he.y):ne.setSize(o_(he.x),o_(he.y));const jt=b.getRenderTarget();b.setRenderTarget(ne),b.getClearColor(j),F=b.getClearAlpha(),F<1&&b.setClearColor(16777215,.5),b.clear();const Kt=b.toneMapping;b.toneMapping=Du,kn(pe,Qe,nt),Le.updateMultisampleRenderTarget(ne),Le.updateRenderTargetMipmap(ne);let bt=!1;for(let nn=0,rn=We.length;nn<rn;nn++){const Qt=We[nn],qn=Qt.object,Or=Qt.geometry,Gn=Qt.material,xr=Qt.group;if(Gn.side===eu&&qn.layers.test(nt.layers)){const Zt=Gn.side;Gn.side=So,Gn.needsUpdate=!0,or(qn,Qe,nt,Or,Gn,xr),Gn.side=Zt,Gn.needsUpdate=!0,bt=!0}}bt===!0&&(Le.updateMultisampleRenderTarget(ne),Le.updateRenderTargetMipmap(ne)),b.setRenderTarget(jt),b.setClearColor(j,F),b.toneMapping=Kt}function kn(pe,We,Qe){const nt=We.isScene===!0?We.overrideMaterial:null;for(let Je=0,Ot=pe.length;Je<Ot;Je++){const jt=pe[Je],Kt=jt.object,bt=jt.geometry,nn=nt===null?jt.material:nt,rn=jt.group;Kt.layers.test(Qe.layers)&&or(Kt,We,Qe,bt,nn,rn)}}function or(pe,We,Qe,nt,Je,Ot){pe.onBeforeRender(b,We,Qe,nt,Je,Ot),pe.modelViewMatrix.multiplyMatrices(Qe.matrixWorldInverse,pe.matrixWorld),pe.normalMatrix.getNormalMatrix(pe.modelViewMatrix),Je.onBeforeRender(b,We,Qe,nt,pe,Ot),Je.transparent===!0&&Je.side===eu&&Je.forceSinglePass===!1?(Je.side=So,Je.needsUpdate=!0,b.renderBufferDirect(Qe,We,nt,Je,pe,Ot),Je.side=Bc,Je.needsUpdate=!0,b.renderBufferDirect(Qe,We,nt,Je,pe,Ot),Je.side=eu):b.renderBufferDirect(Qe,We,nt,Je,pe,Ot),pe.onAfterRender(b,We,Qe,nt,Je,Ot)}function ii(pe,We,Qe){We.isScene!==!0&&(We=Me);const nt=Ce.get(pe),Je=y.state.lights,Ot=y.state.shadowsArray,jt=Je.state.version,Kt=Oe.getParameters(pe,Je.state,Ot,We,Qe),bt=Oe.getProgramCacheKey(Kt);let nn=nt.programs;nt.environment=pe.isMeshStandardMaterial?We.environment:null,nt.fog=We.fog,nt.envMap=(pe.isMeshStandardMaterial?te:Fe).get(pe.envMap||nt.environment),nt.envMapRotation=nt.environment!==null&&pe.envMap===null?We.environmentRotation:pe.envMapRotation,nn===void 0&&(pe.addEventListener("dispose",Ie),nn=new Map,nt.programs=nn);let rn=nn.get(bt);if(rn!==void 0){if(nt.currentProgram===rn&&nt.lightsStateVersion===jt)return Zr(pe,Kt),rn}else Kt.uniforms=Oe.getUniforms(pe),pe.onBuild(Qe,Kt,b),pe.onBeforeCompile(Kt,b),rn=Oe.acquireProgram(Kt,bt),nn.set(bt,rn),nt.uniforms=Kt.uniforms;const Qt=nt.uniforms;return(!pe.isShaderMaterial&&!pe.isRawShaderMaterial||pe.clipping===!0)&&(Qt.clippingPlanes=ze.uniform),Zr(pe,Kt),nt.needsLights=to(pe),nt.lightsStateVersion=jt,nt.needsLights&&(Qt.ambientLightColor.value=Je.state.ambient,Qt.lightProbe.value=Je.state.probe,Qt.directionalLights.value=Je.state.directional,Qt.directionalLightShadows.value=Je.state.directionalShadow,Qt.spotLights.value=Je.state.spot,Qt.spotLightShadows.value=Je.state.spotShadow,Qt.rectAreaLights.value=Je.state.rectArea,Qt.ltc_1.value=Je.state.rectAreaLTC1,Qt.ltc_2.value=Je.state.rectAreaLTC2,Qt.pointLights.value=Je.state.point,Qt.pointLightShadows.value=Je.state.pointShadow,Qt.hemisphereLights.value=Je.state.hemi,Qt.directionalShadowMap.value=Je.state.directionalShadowMap,Qt.directionalShadowMatrix.value=Je.state.directionalShadowMatrix,Qt.spotShadowMap.value=Je.state.spotShadowMap,Qt.spotLightMatrix.value=Je.state.spotLightMatrix,Qt.spotLightMap.value=Je.state.spotLightMap,Qt.pointShadowMap.value=Je.state.pointShadowMap,Qt.pointShadowMatrix.value=Je.state.pointShadowMatrix),nt.currentProgram=rn,nt.uniformsList=null,rn}function sr(pe){if(pe.uniformsList===null){const We=pe.currentProgram.getUniforms();pe.uniformsList=Px.seqWithValue(We.seq,pe.uniforms)}return pe.uniformsList}function Zr(pe,We){const Qe=Ce.get(pe);Qe.outputColorSpace=We.outputColorSpace,Qe.batching=We.batching,Qe.instancing=We.instancing,Qe.instancingColor=We.instancingColor,Qe.instancingMorph=We.instancingMorph,Qe.skinning=We.skinning,Qe.morphTargets=We.morphTargets,Qe.morphNormals=We.morphNormals,Qe.morphColors=We.morphColors,Qe.morphTargetsCount=We.morphTargetsCount,Qe.numClippingPlanes=We.numClippingPlanes,Qe.numIntersection=We.numClipIntersection,Qe.vertexAlphas=We.vertexAlphas,Qe.vertexTangents=We.vertexTangents,Qe.toneMapping=We.toneMapping}function ya(pe,We,Qe,nt,Je){We.isScene!==!0&&(We=Me),Le.resetTextureUnits();const Ot=We.fog,jt=nt.isMeshStandardMaterial?We.environment:null,Kt=M===null?b.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:$c,bt=(nt.isMeshStandardMaterial?te:Fe).get(nt.envMap||jt),nn=nt.vertexColors===!0&&!!Qe.attributes.color&&Qe.attributes.color.itemSize===4,rn=!!Qe.attributes.tangent&&(!!nt.normalMap||nt.anisotropy>0),Qt=!!Qe.morphAttributes.position,qn=!!Qe.morphAttributes.normal,Or=!!Qe.morphAttributes.color;let Gn=Du;nt.toneMapped&&(M===null||M.isXRRenderTarget===!0)&&(Gn=b.toneMapping);const xr=Qe.morphAttributes.position||Qe.morphAttributes.normal||Qe.morphAttributes.color,Zt=xr!==void 0?xr.length:0,Ft=Ce.get(nt),Li=y.state.lights;if(G===!0&&(K===!0||pe!==D)){const Dn=pe===D&&nt.id===P;ze.setState(nt,pe,Dn)}let Ht=!1;nt.version===Ft.__version?(Ft.needsLights&&Ft.lightsStateVersion!==Li.state.version||Ft.outputColorSpace!==Kt||Je.isBatchedMesh&&Ft.batching===!1||!Je.isBatchedMesh&&Ft.batching===!0||Je.isInstancedMesh&&Ft.instancing===!1||!Je.isInstancedMesh&&Ft.instancing===!0||Je.isSkinnedMesh&&Ft.skinning===!1||!Je.isSkinnedMesh&&Ft.skinning===!0||Je.isInstancedMesh&&Ft.instancingColor===!0&&Je.instanceColor===null||Je.isInstancedMesh&&Ft.instancingColor===!1&&Je.instanceColor!==null||Je.isInstancedMesh&&Ft.instancingMorph===!0&&Je.morphTexture===null||Je.isInstancedMesh&&Ft.instancingMorph===!1&&Je.morphTexture!==null||Ft.envMap!==bt||nt.fog===!0&&Ft.fog!==Ot||Ft.numClippingPlanes!==void 0&&(Ft.numClippingPlanes!==ze.numPlanes||Ft.numIntersection!==ze.numIntersection)||Ft.vertexAlphas!==nn||Ft.vertexTangents!==rn||Ft.morphTargets!==Qt||Ft.morphNormals!==qn||Ft.morphColors!==Or||Ft.toneMapping!==Gn||me.isWebGL2===!0&&Ft.morphTargetsCount!==Zt)&&(Ht=!0):(Ht=!0,Ft.__version=nt.version);let nr=Ft.currentProgram;Ht===!0&&(nr=ii(nt,We,Je));let xa=!1,ai=!1,br=!1;const Xn=nr.getUniforms(),Rr=Ft.uniforms;if(ie.useProgram(nr.program)&&(xa=!0,ai=!0,br=!0),nt.id!==P&&(P=nt.id,ai=!0),xa||D!==pe){Xn.setValue(J,"projectionMatrix",pe.projectionMatrix),Xn.setValue(J,"viewMatrix",pe.matrixWorldInverse);const Dn=Xn.map.cameraPosition;Dn!==void 0&&Dn.setValue(J,ce.setFromMatrixPosition(pe.matrixWorld)),me.logarithmicDepthBuffer&&Xn.setValue(J,"logDepthBufFC",2/(Math.log(pe.far+1)/Math.LN2)),(nt.isMeshPhongMaterial||nt.isMeshToonMaterial||nt.isMeshLambertMaterial||nt.isMeshBasicMaterial||nt.isMeshStandardMaterial||nt.isShaderMaterial)&&Xn.setValue(J,"isOrthographic",pe.isOrthographicCamera===!0),D!==pe&&(D=pe,ai=!0,br=!0)}if(Je.isSkinnedMesh){Xn.setOptional(J,Je,"bindMatrix"),Xn.setOptional(J,Je,"bindMatrixInverse");const Dn=Je.skeleton;Dn&&(me.floatVertexTextures?(Dn.boneTexture===null&&Dn.computeBoneTexture(),Xn.setValue(J,"boneTexture",Dn.boneTexture,Le)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Je.isBatchedMesh&&(Xn.setOptional(J,Je,"batchingTexture"),Xn.setValue(J,"batchingTexture",Je._matricesTexture,Le));const Ua=Qe.morphAttributes;if((Ua.position!==void 0||Ua.normal!==void 0||Ua.color!==void 0&&me.isWebGL2===!0)&&ht.update(Je,Qe,nr),(ai||Ft.receiveShadow!==Je.receiveShadow)&&(Ft.receiveShadow=Je.receiveShadow,Xn.setValue(J,"receiveShadow",Je.receiveShadow)),nt.isMeshGouraudMaterial&&nt.envMap!==null&&(Rr.envMap.value=bt,Rr.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),ai&&(Xn.setValue(J,"toneMappingExposure",b.toneMappingExposure),Ft.needsLights&&Zi(Rr,br),Ot&&nt.fog===!0&&qe.refreshFogUniforms(Rr,Ot),qe.refreshMaterialUniforms(Rr,nt,q,H,ne),Px.upload(J,sr(Ft),Rr,Le)),nt.isShaderMaterial&&nt.uniformsNeedUpdate===!0&&(Px.upload(J,sr(Ft),Rr,Le),nt.uniformsNeedUpdate=!1),nt.isSpriteMaterial&&Xn.setValue(J,"center",Je.center),Xn.setValue(J,"modelViewMatrix",Je.modelViewMatrix),Xn.setValue(J,"normalMatrix",Je.normalMatrix),Xn.setValue(J,"modelMatrix",Je.matrixWorld),nt.isShaderMaterial||nt.isRawShaderMaterial){const Dn=nt.uniformsGroups;for(let oi=0,Wi=Dn.length;oi<Wi;oi++)if(me.isWebGL2){const fs=Dn[oi];Ve.update(fs,nr),Ve.bind(fs,nr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return nr}function Zi(pe,We){pe.ambientLightColor.needsUpdate=We,pe.lightProbe.needsUpdate=We,pe.directionalLights.needsUpdate=We,pe.directionalLightShadows.needsUpdate=We,pe.pointLights.needsUpdate=We,pe.pointLightShadows.needsUpdate=We,pe.spotLights.needsUpdate=We,pe.spotLightShadows.needsUpdate=We,pe.rectAreaLights.needsUpdate=We,pe.hemisphereLights.needsUpdate=We}function to(pe){return pe.isMeshLambertMaterial||pe.isMeshToonMaterial||pe.isMeshPhongMaterial||pe.isMeshStandardMaterial||pe.isShadowMaterial||pe.isShaderMaterial&&pe.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(pe,We,Qe){Ce.get(pe.texture).__webglTexture=We,Ce.get(pe.depthTexture).__webglTexture=Qe;const nt=Ce.get(pe);nt.__hasExternalTextures=!0,nt.__autoAllocateDepthBuffer=Qe===void 0,nt.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),nt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(pe,We){const Qe=Ce.get(pe);Qe.__webglFramebuffer=We,Qe.__useDefaultFramebuffer=We===void 0},this.setRenderTarget=function(pe,We=0,Qe=0){M=pe,A=We,E=Qe;let nt=!0,Je=null,Ot=!1,jt=!1;if(pe){const bt=Ce.get(pe);bt.__useDefaultFramebuffer!==void 0?(ie.bindFramebuffer(J.FRAMEBUFFER,null),nt=!1):bt.__webglFramebuffer===void 0?Le.setupRenderTarget(pe):bt.__hasExternalTextures&&Le.rebindTextures(pe,Ce.get(pe.texture).__webglTexture,Ce.get(pe.depthTexture).__webglTexture);const nn=pe.texture;(nn.isData3DTexture||nn.isDataArrayTexture||nn.isCompressedArrayTexture)&&(jt=!0);const rn=Ce.get(pe).__webglFramebuffer;pe.isWebGLCubeRenderTarget?(Array.isArray(rn[We])?Je=rn[We][Qe]:Je=rn[We],Ot=!0):me.isWebGL2&&pe.samples>0&&Le.useMultisampledRTT(pe)===!1?Je=Ce.get(pe).__webglMultisampledFramebuffer:Array.isArray(rn)?Je=rn[Qe]:Je=rn,N.copy(pe.viewport),C.copy(pe.scissor),O=pe.scissorTest}else N.copy($).multiplyScalar(q).floor(),C.copy(X).multiplyScalar(q).floor(),O=k;if(ie.bindFramebuffer(J.FRAMEBUFFER,Je)&&me.drawBuffers&&nt&&ie.drawBuffers(pe,Je),ie.viewport(N),ie.scissor(C),ie.setScissorTest(O),Ot){const bt=Ce.get(pe.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+We,bt.__webglTexture,Qe)}else if(jt){const bt=Ce.get(pe.texture),nn=We||0;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,bt.__webglTexture,Qe||0,nn)}P=-1},this.readRenderTargetPixels=function(pe,We,Qe,nt,Je,Ot,jt){if(!(pe&&pe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Kt=Ce.get(pe).__webglFramebuffer;if(pe.isWebGLCubeRenderTarget&&jt!==void 0&&(Kt=Kt[jt]),Kt){ie.bindFramebuffer(J.FRAMEBUFFER,Kt);try{const bt=pe.texture,nn=bt.format,rn=bt.type;if(nn!==Fo&&ot.convert(nn)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Qt=rn===gg&&(Ae.has("EXT_color_buffer_half_float")||me.isWebGL2&&Ae.has("EXT_color_buffer_float"));if(rn!==Fu&&ot.convert(rn)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_TYPE)&&!(rn===Ls&&(me.isWebGL2||Ae.has("OES_texture_float")||Ae.has("WEBGL_color_buffer_float")))&&!Qt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}We>=0&&We<=pe.width-nt&&Qe>=0&&Qe<=pe.height-Je&&J.readPixels(We,Qe,nt,Je,ot.convert(nn),ot.convert(rn),Ot)}finally{const bt=M!==null?Ce.get(M).__webglFramebuffer:null;ie.bindFramebuffer(J.FRAMEBUFFER,bt)}}},this.copyFramebufferToTexture=function(pe,We,Qe=0){const nt=Math.pow(2,-Qe),Je=Math.floor(We.image.width*nt),Ot=Math.floor(We.image.height*nt);Le.setTexture2D(We,0),J.copyTexSubImage2D(J.TEXTURE_2D,Qe,0,0,pe.x,pe.y,Je,Ot),ie.unbindTexture()},this.copyTextureToTexture=function(pe,We,Qe,nt=0){const Je=We.image.width,Ot=We.image.height,jt=ot.convert(Qe.format),Kt=ot.convert(Qe.type);Le.setTexture2D(Qe,0),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,Qe.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qe.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,Qe.unpackAlignment),We.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,nt,pe.x,pe.y,Je,Ot,jt,Kt,We.image.data):We.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,nt,pe.x,pe.y,We.mipmaps[0].width,We.mipmaps[0].height,jt,We.mipmaps[0].data):J.texSubImage2D(J.TEXTURE_2D,nt,pe.x,pe.y,jt,Kt,We.image),nt===0&&Qe.generateMipmaps&&J.generateMipmap(J.TEXTURE_2D),ie.unbindTexture()},this.copyTextureToTexture3D=function(pe,We,Qe,nt,Je=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ot=Math.round(pe.max.x-pe.min.x),jt=Math.round(pe.max.y-pe.min.y),Kt=pe.max.z-pe.min.z+1,bt=ot.convert(nt.format),nn=ot.convert(nt.type);let rn;if(nt.isData3DTexture)Le.setTexture3D(nt,0),rn=J.TEXTURE_3D;else if(nt.isDataArrayTexture||nt.isCompressedArrayTexture)Le.setTexture2DArray(nt,0),rn=J.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,nt.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,nt.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,nt.unpackAlignment);const Qt=J.getParameter(J.UNPACK_ROW_LENGTH),qn=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Or=J.getParameter(J.UNPACK_SKIP_PIXELS),Gn=J.getParameter(J.UNPACK_SKIP_ROWS),xr=J.getParameter(J.UNPACK_SKIP_IMAGES),Zt=Qe.isCompressedTexture?Qe.mipmaps[Je]:Qe.image;J.pixelStorei(J.UNPACK_ROW_LENGTH,Zt.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Zt.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,pe.min.x),J.pixelStorei(J.UNPACK_SKIP_ROWS,pe.min.y),J.pixelStorei(J.UNPACK_SKIP_IMAGES,pe.min.z),Qe.isDataTexture||Qe.isData3DTexture?J.texSubImage3D(rn,Je,We.x,We.y,We.z,Ot,jt,Kt,bt,nn,Zt.data):nt.isCompressedArrayTexture?J.compressedTexSubImage3D(rn,Je,We.x,We.y,We.z,Ot,jt,Kt,bt,Zt.data):J.texSubImage3D(rn,Je,We.x,We.y,We.z,Ot,jt,Kt,bt,nn,Zt),J.pixelStorei(J.UNPACK_ROW_LENGTH,Qt),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,qn),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Or),J.pixelStorei(J.UNPACK_SKIP_ROWS,Gn),J.pixelStorei(J.UNPACK_SKIP_IMAGES,xr),Je===0&&nt.generateMipmaps&&J.generateMipmap(rn),ie.unbindTexture()},this.initTexture=function(pe){pe.isCubeTexture?Le.setTextureCube(pe,0):pe.isData3DTexture?Le.setTexture3D(pe,0):pe.isDataArrayTexture||pe.isCompressedArrayTexture?Le.setTexture2DArray(pe,0):Le.setTexture2D(pe,0),ie.unbindTexture()},this.resetState=function(){A=0,E=0,M=null,ie.reset(),be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Lu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===bw?"display-p3":"srgb",n.unpackColorSpace=mr.workingColorSpace===a1?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class H7 extends lC{}H7.prototype.isWebGL1Renderer=!0;class Mw{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new zt(e),this.density=n}clone(){return new Mw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Ew{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new zt(e),this.near=n,this.far=r}clone(){return new Ew(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class uC extends er{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Us,this.environmentRotation=new Us,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Tw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Cy,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=ks()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return P7("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ks()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ks()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Io=new ve;class qd{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Io.fromBufferAttribute(this,n),Io.applyMatrix4(e),this.setXYZ(n,Io.x,Io.y,Io.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Io.fromBufferAttribute(this,n),Io.applyNormalMatrix(e),this.setXYZ(n,Io.x,Io.y,Io.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Io.fromBufferAttribute(this,n),Io.transformDirection(e),this.setXYZ(n,Io.x,Io.y,Io.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Uo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=En(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=En(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=En(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=En(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=En(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Uo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Uo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Uo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Uo(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=En(n,this.array),r=En(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=En(n,this.array),r=En(r,this.array),i=En(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=En(n,this.array),r=En(r,this.array),i=En(i,this.array),a=En(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new Sr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class cC extends Eo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let qp;const Pv=new ve,Xp=new ve,Yp=new ve,Kp=new dt,Cv=new dt,W7=new cn,C2=new ve,Lv=new ve,L2=new ve,RI=new dt,R5=new dt,II=new dt;class G7 extends er{constructor(e=new cC){if(super(),this.isSprite=!0,this.type="Sprite",qp===void 0){qp=new Cn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Tw(n,5);qp.setIndex([0,1,2,0,2,3]),qp.setAttribute("position",new qd(r,3,0,!1)),qp.setAttribute("uv",new qd(r,2,3,!1))}this.geometry=qp,this.material=e,this.center=new dt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xp.setFromMatrixScale(this.matrixWorld),W7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Xp.multiplyScalar(-Yp.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;N2(C2.set(-.5,-.5,0),Yp,o,Xp,i,a),N2(Lv.set(.5,-.5,0),Yp,o,Xp,i,a),N2(L2.set(.5,.5,0),Yp,o,Xp,i,a),RI.set(0,0),R5.set(1,0),II.set(1,1);let s=e.ray.intersectTriangle(C2,Lv,L2,!1,Pv);if(s===null&&(N2(Lv.set(-.5,.5,0),Yp,o,Xp,i,a),R5.set(0,1),s=e.ray.intersectTriangle(C2,L2,Lv,!1,Pv),s===null))return;const l=e.ray.origin.distanceTo(Pv);l<e.near||l>e.far||n.push({distance:l,point:Pv.clone(),uv:Ns.getInterpolation(Pv,C2,Lv,L2,RI,R5,II,new dt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function N2(t,e,n,r,i,a){Kp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Cv.x=a*Kp.x-i*Kp.y,Cv.y=i*Kp.x+a*Kp.y):Cv.copy(Kp),t.copy(e),t.x+=Cv.x,t.y+=Cv.y,t.applyMatrix4(W7)}const O2=new ve,kI=new ve;class V7 extends er{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){O2.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(O2);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){O2.setFromMatrixPosition(e.matrixWorld),kI.setFromMatrixPosition(this.matrixWorld);const r=O2.distanceTo(kI)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const DI=new ve,FI=new ar,UI=new ar,U_e=new ve,BI=new cn,R2=new ve,I5=new Qa,zI=new cn,k5=new np;class $7 extends gi{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=BE,this.bindMatrix=new cn,this.bindMatrixInverse=new cn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ja),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,R2),this.boundingBox.expandByPoint(R2)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Qa),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,R2),this.boundingSphere.expandByPoint(R2)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),I5.copy(this.boundingSphere),I5.applyMatrix4(i),e.ray.intersectsSphere(I5)!==!1&&(zI.copy(i).invert(),k5.copy(e.ray).applyMatrix4(zI),!(this.boundingBox!==null&&k5.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,k5)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ar,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===BE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===o7?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;FI.fromBufferAttribute(i.attributes.skinIndex,e),UI.fromBufferAttribute(i.attributes.skinWeight,e),DI.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=UI.getComponent(a);if(o!==0){const s=FI.getComponent(a);BI.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(U_e.copy(DI).applyMatrix4(BI),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class fC extends er{constructor(){super(),this.isBone=!0,this.type="Bone"}}class rh extends yi{constructor(e=null,n=1,r=1,i,a,o,s,l,u=Di,c=Di,f,h){super(null,o,s,l,u,c,i,a,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const jI=new cn,B_e=new cn;class Pw{constructor(e=[],n=[]){this.uuid=ks(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new cn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new cn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:B_e;jI.multiplyMatrices(s,n[a]),jI.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Pw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new rh(n,e,e,Fo,Ls);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=n[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new fC),this.bones.push(o),this.boneInverses.push(new cn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const o=n[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Xd extends Sr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Zp=new cn,HI=new cn,I2=[],WI=new Ja,z_e=new cn,Nv=new gi,Ov=new Qa;class q7 extends gi{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Xd(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,z_e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ja),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Zp),WI.copy(e.boundingBox).applyMatrix4(Zp),this.boundingBox.union(WI)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Qa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Zp),Ov.copy(e.boundingSphere).applyMatrix4(Zp),this.boundingSphere.union(Ov)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let s=0;s<r.length;s++)r[s]=i[o+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Nv.geometry=this.geometry,Nv.material=this.material,Nv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ov.copy(this.boundingSphere),Ov.applyMatrix4(r),e.ray.intersectsSphere(Ov)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,Zp),HI.multiplyMatrices(r,Zp),Nv.matrixWorld=HI,Nv.raycast(e,I2);for(let o=0,s=I2.length;o<s;o++){const l=I2[o];l.instanceId=a,l.object=this,n.push(l)}I2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Xd(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new rh(new Float32Array(i*this.count),i,this.count,$P,Ls));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=i*e;a[l]=s,a.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function j_e(t,e){return t.z-e.z}function H_e(t,e){return e.z-t.z}class W_e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const a=r[this.index];i.push(a),this.index++,a.start=e.start,a.count=e.count,a.z=n}reset(){this.list.length=0,this.index=0}}const Jp="batchId",Tf=new cn,GI=new cn,G_e=new cn,VI=new cn,D5=new l1,k2=new Ja,Hh=new Qa,Rv=new ve,F5=new W_e,fo=new gi,D2=[];function V_e(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+n,o,t.getComponent(a,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class X7 extends gi{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Cn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new rh(n,e,e,Fo,Ls);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:u,itemSize:c,normalized:f}=l,h=new u.constructor(r*c),d=new l.constructor(h,c,f);d.setUsage(l.usage),n.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(a):new Uint16Array(a);n.setIndex(new Sr(s,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Jp,new Sr(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Jp))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Jp}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Jp)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=n.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ja);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Tf),this.getBoundingBoxAt(i,k2).applyMatrix4(Tf),n.union(k2))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qa);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Tf),this.getBoundingSphereAt(i,Hh).applyMatrix4(Tf),n.union(Hh))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const o=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(a=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,a===null?i.vertexStart=0:i.vertexStart=a.vertexStart+a.vertexCount;const u=e.getIndex(),c=u!==null;if(c&&(r===-1?i.indexCount=u.count:i.indexCount=r,a===null?i.indexStart=0:i.indexStart=a.indexStart+a.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,h=this._active,d=this._matricesTexture,m=this._matricesTexture.image.data;f.push(!0),h.push(!0);const x=this._geometryCount;this._geometryCount++,G_e.toArray(m,x*16),d.needsUpdate=!0,o.push(i),s.push({start:c?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Ja,sphereInitialized:!1,sphere:new Qa});const y=this.geometry.getAttribute(Jp);for(let g=0;g<i.vertexCount;g++)y.setX(i.vertexStart+g,x);return y.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=n.getIndex(),s=this._reservedRanges[e];if(i&&o.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.vertexCount;for(const d in r.attributes){if(d===Jp)continue;const m=n.getAttribute(d),x=r.getAttribute(d);V_e(m,x,l);const y=m.itemSize;for(let g=m.count,_=u;g<_;g++){const b=l+g;for(let S=0;S<y;S++)x.setComponent(b,S,0)}x.needsUpdate=!0}if(i){const d=s.indexStart;for(let m=0;m<o.count;m++)a.setX(d+m,l+o.getX(m));for(let m=o.count,x=s.indexCount;m<x;m++)a.setX(d+m,l);a.needsUpdate=!0}const c=this._bounds[e];n.boundingBox!==null?(c.box.copy(n.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,n.boundingSphere!==null?(c.sphere.copy(n.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const f=this._drawRanges[e],h=n.getAttribute("position");return f.count=i?o.count:h.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],a=i.box,o=this.geometry;if(i.boxInitialized===!1){a.makeEmpty();const s=o.index,l=o.attributes.position,u=this._drawRanges[e];for(let c=u.start,f=u.start+u.count;c<f;c++){let h=c;s&&(h=s.getX(h)),a.expandByPoint(Rv.fromBufferAttribute(l,h))}i.boxInitialized=!0}return n.copy(a),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],a=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){a.makeEmpty(),this.getBoundingBoxAt(e,k2),k2.getCenter(a.center);const s=o.index,l=o.attributes.position,u=this._drawRanges[e];let c=0;for(let f=u.start,h=u.start+u.count;f<h;f++){let d=f;s&&(d=s.getX(d)),Rv.fromBufferAttribute(l,d),c=Math.max(c,a.center.distanceToSquared(Rv))}a.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(a),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,a=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(a,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,a=this._geometryCount;return e>=a||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,a=this._drawRanges,o=this._geometryCount,s=this.matrixWorld,l=this.geometry;fo.material=this.material,fo.geometry.index=l.index,fo.geometry.attributes=l.attributes,fo.geometry.boundingBox===null&&(fo.geometry.boundingBox=new Ja),fo.geometry.boundingSphere===null&&(fo.geometry.boundingSphere=new Qa);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const c=a[u];fo.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(u,fo.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,fo.geometry.boundingBox),this.getBoundingSphereAt(u,fo.geometry.boundingSphere),fo.raycast(e,D2);for(let f=0,h=D2.length;f<h;f++){const d=D2[f];d.object=this,d.batchId=u,n.push(d)}D2.length=0}fo.material=null,fo.geometry.index=null,fo.geometry.attributes={},fo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,u=this._visibility,c=this._multiDrawStarts,f=this._multiDrawCounts,h=this._drawRanges,d=this.perObjectFrustumCulled;d&&(VI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),D5.setFromProjectionMatrix(VI,e.coordinateSystem));let m=0;if(this.sortObjects){GI.copy(this.matrixWorld).invert(),Rv.setFromMatrixPosition(r.matrixWorld).applyMatrix4(GI);for(let g=0,_=u.length;g<_;g++)if(u[g]&&l[g]){this.getMatrixAt(g,Tf),this.getBoundingSphereAt(g,Hh).applyMatrix4(Tf);let b=!1;if(d&&(b=!D5.intersectsSphere(Hh)),!b){const S=Rv.distanceTo(Hh.center);F5.push(h[g],S)}}const x=F5.list,y=this.customSort;y===null?x.sort(a.transparent?H_e:j_e):y.call(this,x,r);for(let g=0,_=x.length;g<_;g++){const b=x[g];c[m]=b.start*s,f[m]=b.count,m++}F5.reset()}else for(let x=0,y=u.length;x<y;x++)if(u[x]&&l[x]){let g=!1;if(d&&(this.getMatrixAt(x,Tf),this.getBoundingSphereAt(x,Hh).applyMatrix4(Tf),g=!D5.intersectsSphere(Hh)),!g){const _=h[x];c[m]=_.start*s,f[m]=_.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class Wo extends Eo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new zt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const $I=new ve,qI=new ve,XI=new cn,U5=new np,F2=new Qa;class lh extends er{constructor(e=new Cn,n=new Wo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)$I.fromBufferAttribute(n,i-1),qI.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=$I.distanceTo(qI);e.setAttribute("lineDistance",new Xt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),F2.copy(r.boundingSphere),F2.applyMatrix4(i),F2.radius+=a,e.ray.intersectsSphere(F2)===!1)return;XI.copy(i).invert(),U5.copy(e.ray).applyMatrix4(XI);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=new ve,c=new ve,f=new ve,h=new ve,d=this.isLineSegments?2:1,m=r.index,y=r.attributes.position;if(m!==null){const g=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let b=g,S=_-1;b<S;b+=d){const A=m.getX(b),E=m.getX(b+1);if(u.fromBufferAttribute(y,A),c.fromBufferAttribute(y,E),U5.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(h);P<e.near||P>e.far||n.push({distance:P,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let b=g,S=_-1;b<S;b+=d){if(u.fromBufferAttribute(y,b),c.fromBufferAttribute(y,b+1),U5.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(h);E<e.near||E>e.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}const YI=new ve,KI=new ve;class Hu extends lh{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)YI.fromBufferAttribute(n,i),KI.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+YI.distanceTo(KI);e.setAttribute("lineDistance",new Xt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Y7 extends lh{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class hC extends Eo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ZI=new cn,g3=new np,U2=new Qa,B2=new ve;class K7 extends er{constructor(e=new Cn,n=new hC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),U2.copy(r.boundingSphere),U2.applyMatrix4(i),U2.radius+=a,e.ray.intersectsSphere(U2)===!1)return;ZI.copy(i).invert(),g3.copy(e.ray).applyMatrix4(ZI);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),d=Math.min(u.count,o.start+o.count);for(let m=h,x=d;m<x;m++){const y=u.getX(m);B2.fromBufferAttribute(f,y),JI(B2,y,l,i,e,n,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let m=h,x=d;m<x;m++)B2.fromBufferAttribute(f,m),JI(B2,m,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function JI(t,e,n,r,i,a,o){const s=g3.distanceSqToPoint(t);if(s<n){const l=new ve;g3.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}class $_e extends yi{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Xr,this.magFilter=a!==void 0?a:Xr,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class q_e extends yi{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Di,this.minFilter=Di,this.generateMipmaps=!1,this.needsUpdate=!0}}class Cw extends yi{constructor(e,n,r,i,a,o,s,l,u,c,f,h){super(null,o,s,l,u,c,i,a,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class X_e extends Cw{constructor(e,n,r,i,a,o){super(e,n,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=_o}}class Y_e extends Cw{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,zc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class K_e extends yi{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class lu{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const a=r.length;let o;n?o=n:o=e*r[a-1];let s=0,l=a-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-o,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const c=r[i],h=r[i+1]-c,d=(o-c)/h;return(i+d)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=n||(o.isVector2?new dt:new ve);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ve,i=[],a=[],o=[],s=new ve,l=new cn;for(let d=0;d<=e;d++){const m=d/e;i[d]=this.getTangentAt(m,new ve)}a[0]=new ve,o[0]=new ve;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let d=1;d<=e;d++){if(a[d]=a[d-1].clone(),o[d]=o[d-1].clone(),s.crossVectors(i[d-1],i[d]),s.length()>Number.EPSILON){s.normalize();const m=Math.acos(Ci(i[d-1].dot(i[d]),-1,1));a[d].applyMatrix4(l.makeRotationAxis(s,m))}o[d].crossVectors(i[d],a[d])}if(n===!0){let d=Math.acos(Ci(a[0].dot(a[e]),-1,1));d/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(d=-d);for(let m=1;m<=e;m++)a[m].applyMatrix4(l.makeRotationAxis(i[m],d*m)),o[m].crossVectors(i[m],a[m])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Lw extends lu{constructor(e=0,n=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new dt){const r=n,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=u-this.aY;l=h*c-d*f+this.aX,u=h*f+d*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Z7 extends Lw{constructor(e,n,r,i,a,o){super(e,n,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function dC(){let t=0,e=0,n=0,r=0;function i(a,o,s,l){t=a,e=s,n=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){i(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,c,f){let h=(o-a)/u-(s-a)/(u+c)+(s-o)/c,d=(s-o)/c-(l-o)/(c+f)+(l-s)/f;h*=c,d*=c,i(o,s,h,d)},calc:function(a){const o=a*a,s=o*a;return t+e*a+n*o+r*s}}}const z2=new ve,B5=new dC,z5=new dC,j5=new dC;class J7 extends lu{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ve){const r=n,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%a]:(z2.subVectors(i[0],i[1]).add(i[0]),u=z2);const f=i[s%a],h=i[(s+1)%a];if(this.closed||s+2<a?c=i[(s+2)%a]:(z2.subVectors(i[a-1],i[a-2]).add(i[a-1]),c=z2),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let m=Math.pow(u.distanceToSquared(f),d),x=Math.pow(f.distanceToSquared(h),d),y=Math.pow(h.distanceToSquared(c),d);x<1e-4&&(x=1),m<1e-4&&(m=x),y<1e-4&&(y=x),B5.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,m,x,y),z5.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,m,x,y),j5.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,m,x,y)}else this.curveType==="catmullrom"&&(B5.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),z5.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),j5.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(B5.calc(l),z5.calc(l),j5.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ve().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function QI(t,e,n,r,i){const a=(r-e)*.5,o=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+a+o)*l+(-3*n+3*r-2*a-o)*s+a*t+n}function Z_e(t,e){const n=1-t;return n*n*e}function J_e(t,e){return 2*(1-t)*t*e}function Q_e(t,e){return t*t*e}function u0(t,e,n,r){return Z_e(t,e)+J_e(t,n)+Q_e(t,r)}function ewe(t,e){const n=1-t;return n*n*n*e}function twe(t,e){const n=1-t;return 3*n*n*t*e}function nwe(t,e){return 3*(1-t)*t*t*e}function rwe(t,e){return t*t*t*e}function c0(t,e,n,r,i){return ewe(t,e)+twe(t,n)+nwe(t,r)+rwe(t,i)}class pC extends lu{constructor(e=new dt,n=new dt,r=new dt,i=new dt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new dt){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(c0(e,i.x,a.x,o.x,s.x),c0(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Q7 extends lu{constructor(e=new ve,n=new ve,r=new ve,i=new ve){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ve){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(c0(e,i.x,a.x,o.x,s.x),c0(e,i.y,a.y,o.y,s.y),c0(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mC extends lu{constructor(e=new dt,n=new dt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new dt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new dt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ej extends lu{constructor(e=new ve,n=new ve){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ve){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ve){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gC extends lu{constructor(e=new dt,n=new dt,r=new dt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new dt){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(u0(e,i.x,a.x,o.x),u0(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vC extends lu{constructor(e=new ve,n=new ve,r=new ve){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ve){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(u0(e,i.x,a.x,o.x),u0(e,i.y,a.y,o.y),u0(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yC extends lu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new dt){const r=n,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(QI(s,l.x,u.x,c.x,f.x),QI(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new dt().fromArray(i))}return this}}var s_=Object.freeze({__proto__:null,ArcCurve:Z7,CatmullRomCurve3:J7,CubicBezierCurve:pC,CubicBezierCurve3:Q7,EllipseCurve:Lw,LineCurve:mC,LineCurve3:ej,QuadraticBezierCurve:gC,QuadraticBezierCurve3:vC,SplineCurve:yC});class tj extends lu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new s_[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new s_[i.type]().fromJSON(i))}return this}}class Oy extends tj{constructor(e){super(),this.type="Path",this.currentPoint=new dt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new mC(this.currentPoint.clone(),new dt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new gC(this.currentPoint.clone(),new dt(e,n),new dt(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,o){const s=new pC(this.currentPoint.clone(),new dt(e,n),new dt(r,i),new dt(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new yC(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,a,o),this}absarc(e,n,r,i,a,o){return this.absellipse(e,n,r,r,i,a,o),this}ellipse(e,n,r,i,a,o,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,a,o,s,l),this}absellipse(e,n,r,i,a,o,s,l){const u=new Lw(e,n,r,i,a,o,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class u1 extends Cn{constructor(e=[new dt(0,-.5),new dt(.5,0),new dt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Ci(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],c=1/n,f=new ve,h=new dt,d=new ve,m=new ve,x=new ve;let y=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,d.x=g*1,d.y=-y,d.z=g*0,x.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,d.x=g*1,d.y=-y,d.z=g*0,m.copy(d),d.x+=x.x,d.y+=x.y,d.z+=x.z,d.normalize(),l.push(d.x,d.y,d.z),x.copy(m)}for(let _=0;_<=n;_++){const b=r+_*c*i,S=Math.sin(b),A=Math.cos(b);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*S,f.y=e[E].y,f.z=e[E].x*A,o.push(f.x,f.y,f.z),h.x=_/n,h.y=E/(e.length-1),s.push(h.x,h.y);const M=l[3*E+0]*S,P=l[3*E+1],D=l[3*E+0]*A;u.push(M,P,D)}}for(let _=0;_<n;_++)for(let b=0;b<e.length-1;b++){const S=b+_*e.length,A=S,E=S+e.length,M=S+e.length+1,P=S+1;a.push(A,E,P),a.push(M,P,E)}this.setIndex(a),this.setAttribute("position",new Xt(o,3)),this.setAttribute("uv",new Xt(s,2)),this.setAttribute("normal",new Xt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u1(e.points,e.segments,e.phiStart,e.phiLength)}}class Nw extends u1{constructor(e=1,n=1,r=4,i=8){const a=new Oy;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Nw(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ow extends Cn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],o=[],s=[],l=[],u=new ve,c=new dt;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const d=r+f/n*i;u.x=e*Math.cos(d),u.y=e*Math.sin(d),o.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Xt(o,3)),this.setAttribute("normal",new Xt(s,3)),this.setAttribute("uv",new Xt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ow(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ug extends Cn{constructor(e=1,n=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const c=[],f=[],h=[],d=[];let m=0;const x=[],y=r/2;let g=0;_(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new Xt(f,3)),this.setAttribute("normal",new Xt(h,3)),this.setAttribute("uv",new Xt(d,2));function _(){const S=new ve,A=new ve;let E=0;const M=(n-e)/r;for(let P=0;P<=a;P++){const D=[],N=P/a,C=N*(n-e)+e;for(let O=0;O<=i;O++){const j=O/i,F=j*l+s,Z=Math.sin(F),H=Math.cos(F);A.x=C*Z,A.y=-N*r+y,A.z=C*H,f.push(A.x,A.y,A.z),S.set(Z,M,H).normalize(),h.push(S.x,S.y,S.z),d.push(j,1-N),D.push(m++)}x.push(D)}for(let P=0;P<i;P++)for(let D=0;D<a;D++){const N=x[D][P],C=x[D+1][P],O=x[D+1][P+1],j=x[D][P+1];c.push(N,C,j),c.push(C,O,j),E+=6}u.addGroup(g,E,0),g+=E}function b(S){const A=m,E=new dt,M=new ve;let P=0;const D=S===!0?e:n,N=S===!0?1:-1;for(let O=1;O<=i;O++)f.push(0,y*N,0),h.push(0,N,0),d.push(.5,.5),m++;const C=m;for(let O=0;O<=i;O++){const F=O/i*l+s,Z=Math.cos(F),H=Math.sin(F);M.x=D*H,M.y=y*N,M.z=D*Z,f.push(M.x,M.y,M.z),h.push(0,N,0),E.x=Z*.5+.5,E.y=H*.5*N+.5,d.push(E.x,E.y),m++}for(let O=0;O<i;O++){const j=A+O,F=C+O;S===!0?c.push(F,F+1,j):c.push(F+1,F,j),P+=3}u.addGroup(g,P,S===!0?1:2),g+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ug(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Rw extends Ug{constructor(e=1,n=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,n,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new Rw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bh extends Cn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],o=[];s(i),u(r),c(),this.setAttribute("position",new Xt(a,3)),this.setAttribute("normal",new Xt(a.slice(),3)),this.setAttribute("uv",new Xt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(_){const b=new ve,S=new ve,A=new ve;for(let E=0;E<n.length;E+=3)d(n[E+0],b),d(n[E+1],S),d(n[E+2],A),l(b,S,A,_)}function l(_,b,S,A){const E=A+1,M=[];for(let P=0;P<=E;P++){M[P]=[];const D=_.clone().lerp(S,P/E),N=b.clone().lerp(S,P/E),C=E-P;for(let O=0;O<=C;O++)O===0&&P===E?M[P][O]=D:M[P][O]=D.clone().lerp(N,O/C)}for(let P=0;P<E;P++)for(let D=0;D<2*(E-P)-1;D++){const N=Math.floor(D/2);D%2===0?(h(M[P][N+1]),h(M[P+1][N]),h(M[P][N])):(h(M[P][N+1]),h(M[P+1][N+1]),h(M[P+1][N]))}}function u(_){const b=new ve;for(let S=0;S<a.length;S+=3)b.x=a[S+0],b.y=a[S+1],b.z=a[S+2],b.normalize().multiplyScalar(_),a[S+0]=b.x,a[S+1]=b.y,a[S+2]=b.z}function c(){const _=new ve;for(let b=0;b<a.length;b+=3){_.x=a[b+0],_.y=a[b+1],_.z=a[b+2];const S=y(_)/2/Math.PI+.5,A=g(_)/Math.PI+.5;o.push(S,1-A)}m(),f()}function f(){for(let _=0;_<o.length;_+=6){const b=o[_+0],S=o[_+2],A=o[_+4],E=Math.max(b,S,A),M=Math.min(b,S,A);E>.9&&M<.1&&(b<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),A<.2&&(o[_+4]+=1))}}function h(_){a.push(_.x,_.y,_.z)}function d(_,b){const S=_*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function m(){const _=new ve,b=new ve,S=new ve,A=new ve,E=new dt,M=new dt,P=new dt;for(let D=0,N=0;D<a.length;D+=9,N+=6){_.set(a[D+0],a[D+1],a[D+2]),b.set(a[D+3],a[D+4],a[D+5]),S.set(a[D+6],a[D+7],a[D+8]),E.set(o[N+0],o[N+1]),M.set(o[N+2],o[N+3]),P.set(o[N+4],o[N+5]),A.copy(_).add(b).add(S).divideScalar(3);const C=y(A);x(E,N+0,_,C),x(M,N+2,b,C),x(P,N+4,S,C)}}function x(_,b,S,A){A<0&&_.x===1&&(o[b]=_.x-1),S.x===0&&S.z===0&&(o[b]=A/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bh(e.vertices,e.indices,e.radius,e.details)}}class Iw extends bh{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Iw(e.radius,e.detail)}}const j2=new ve,H2=new ve,H5=new ve,W2=new Ns;class nj extends Cn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),a=Math.cos(Cd*n),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},d=[];for(let m=0;m<l;m+=3){o?(u[0]=o.getX(m),u[1]=o.getX(m+1),u[2]=o.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);const{a:x,b:y,c:g}=W2;if(x.fromBufferAttribute(s,u[0]),y.fromBufferAttribute(s,u[1]),g.fromBufferAttribute(s,u[2]),W2.getNormal(H5),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const b=(_+1)%3,S=f[_],A=f[b],E=W2[c[_]],M=W2[c[b]],P=`${S}_${A}`,D=`${A}_${S}`;D in h&&h[D]?(H5.dot(h[D].normal)<=a&&(d.push(E.x,E.y,E.z),d.push(M.x,M.y,M.z)),h[D]=null):P in h||(h[P]={index0:u[_],index1:u[b],normal:H5.clone()})}}for(const m in h)if(h[m]){const{index0:x,index1:y}=h[m];j2.fromBufferAttribute(s,x),H2.fromBufferAttribute(s,y),d.push(j2.x,j2.y,j2.z),d.push(H2.x,H2.y,H2.z)}this.setAttribute("position",new Xt(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Nd extends Oy{constructor(e){super(e),this.uuid=ks(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Oy().fromJSON(i))}return this}}const iwe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=rj(t,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u,c,f,h,d;if(r&&(a=uwe(t,e,a,n)),t.length>80*n){s=u=t[0],l=c=t[1];for(let m=n;m<i;m+=n)f=t[m],h=t[m+1],f<s&&(s=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);d=Math.max(u-s,c-l),d=d!==0?32767/d:0}return Ry(a,o,n,s,l,d,0),o}};function rj(t,e,n,r,i){let a,o;if(i===bwe(t,e,n,r)>0)for(a=e;a<n;a+=r)o=ek(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=ek(a,t[a],t[a+1],o);return o&&kw(o,o.next)&&(ky(o),o=o.next),o}function Yd(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(kw(n,n.next)||mi(n.prev,n,n.next)===0)){if(ky(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Ry(t,e,n,r,i,a,o){if(!t)return;!o&&a&&pwe(t,r,i,a);let s=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,a?owe(t,r,i,a):awe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),ky(t),t=u.next,s=u.next;continue}if(t=u,t===s){o?o===1?(t=swe(Yd(t),e,n),Ry(t,e,n,r,i,a,2)):o===2&&lwe(t,e,n,r,i,a):Ry(Yd(t),e,n,r,i,a,1);break}}}function awe(t){const e=t.prev,n=t,r=t.next;if(mi(e,n,r)>=0)return!1;const i=e.x,a=n.x,o=r.x,s=e.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,f=s<l?s<u?s:u:l<u?l:u,h=i>a?i>o?i:o:a>o?a:o,d=s>l?s>u?s:u:l>u?l:u;let m=r.next;for(;m!==e;){if(m.x>=c&&m.x<=h&&m.y>=f&&m.y<=d&&Pm(i,s,a,l,o,u,m.x,m.y)&&mi(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function owe(t,e,n,r){const i=t.prev,a=t,o=t.next;if(mi(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,c=i.y,f=a.y,h=o.y,d=s<l?s<u?s:u:l<u?l:u,m=c<f?c<h?c:h:f<h?f:h,x=s>l?s>u?s:u:l>u?l:u,y=c>f?c>h?c:h:f>h?f:h,g=v3(d,m,e,n,r),_=v3(x,y,e,n,r);let b=t.prevZ,S=t.nextZ;for(;b&&b.z>=g&&S&&S.z<=_;){if(b.x>=d&&b.x<=x&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&Pm(s,c,l,f,u,h,b.x,b.y)&&mi(b.prev,b,b.next)>=0||(b=b.prevZ,S.x>=d&&S.x<=x&&S.y>=m&&S.y<=y&&S!==i&&S!==o&&Pm(s,c,l,f,u,h,S.x,S.y)&&mi(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;b&&b.z>=g;){if(b.x>=d&&b.x<=x&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&Pm(s,c,l,f,u,h,b.x,b.y)&&mi(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=_;){if(S.x>=d&&S.x<=x&&S.y>=m&&S.y<=y&&S!==i&&S!==o&&Pm(s,c,l,f,u,h,S.x,S.y)&&mi(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function swe(t,e,n){let r=t;do{const i=r.prev,a=r.next.next;!kw(i,a)&&ij(i,r,r.next,a)&&Iy(i,a)&&Iy(a,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(a.i/n|0),ky(r),ky(r.next),r=t=a),r=r.next}while(r!==t);return Yd(r)}function lwe(t,e,n,r,i,a){let o=t;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&vwe(o,s)){let l=aj(o,s);o=Yd(o,o.next),l=Yd(l,l.next),Ry(o,e,n,r,i,a,0),Ry(l,e,n,r,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function uwe(t,e,n,r){const i=[];let a,o,s,l,u;for(a=0,o=e.length;a<o;a++)s=e[a]*r,l=a<o-1?e[a+1]*r:t.length,u=rj(t,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(gwe(u));for(i.sort(cwe),a=0;a<i.length;a++)n=fwe(i[a],n);return n}function cwe(t,e){return t.x-e.x}function fwe(t,e){const n=hwe(t,e);if(!n)return e;const r=aj(n,t);return Yd(r,r.next),Yd(n,n.next)}function hwe(t,e){let n=e,r=-1/0,i;const a=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=a&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===a))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,u=i.y;let c=1/0,f;n=i;do a>=n.x&&n.x>=l&&a!==n.x&&Pm(o<u?a:r,o,l,u,o<u?r:a,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(a-n.x),Iy(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&dwe(i,n)))&&(i=n,c=f)),n=n.next;while(n!==s);return i}function dwe(t,e){return mi(t.prev,t,e.prev)<0&&mi(e.next,t,t.next)<0}function pwe(t,e,n,r){let i=t;do i.z===0&&(i.z=v3(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,mwe(i)}function mwe(t){let e,n,r,i,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1);return t}function v3(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function gwe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Pm(t,e,n,r,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function vwe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ywe(t,e)&&(Iy(t,e)&&Iy(e,t)&&xwe(t,e)&&(mi(t.prev,t,e.prev)||mi(t,e.prev,e))||kw(t,e)&&mi(t.prev,t,t.next)>0&&mi(e.prev,e,e.next)>0)}function mi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function kw(t,e){return t.x===e.x&&t.y===e.y}function ij(t,e,n,r){const i=V2(mi(t,e,n)),a=V2(mi(t,e,r)),o=V2(mi(n,r,t)),s=V2(mi(n,r,e));return!!(i!==a&&o!==s||i===0&&G2(t,n,e)||a===0&&G2(t,r,e)||o===0&&G2(n,t,r)||s===0&&G2(n,e,r))}function G2(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function V2(t){return t>0?1:t<0?-1:0}function ywe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ij(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Iy(t,e){return mi(t.prev,t,t.next)<0?mi(t,e,t.next)>=0&&mi(t,t.prev,e)>=0:mi(t,e,t.prev)<0||mi(t,t.next,e)<0}function xwe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function aj(t,e){const n=new y3(t.i,t.x,t.y),r=new y3(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function ek(t,e,n,r){const i=new y3(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ky(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function y3(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bwe(t,e,n,r){let i=0;for(let a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}class Uu{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Uu.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];tk(e),nk(r,e);let o=e.length;n.forEach(tk);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,nk(r,n[l]);const s=iwe.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function tk(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function nk(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Dw extends Cn{constructor(e=new Nd([new dt(.5,.5),new dt(-.5,.5),new dt(-.5,-.5),new dt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new Xt(i,3)),this.setAttribute("uv",new Xt(a,2)),this.computeVertexNormals();function o(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:d-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:_we;let b,S=!1,A,E,M,P;g&&(b=g.getSpacedPoints(c),S=!0,h=!1,A=g.computeFrenetFrames(c,!1),E=new ve,M=new ve,P=new ve),h||(y=0,d=0,m=0,x=0);const D=s.extractPoints(u);let N=D.shape;const C=D.holes;if(!Uu.isClockWise(N)){N=N.reverse();for(let J=0,Ee=C.length;J<Ee;J++){const Ae=C[J];Uu.isClockWise(Ae)&&(C[J]=Ae.reverse())}}const j=Uu.triangulateShape(N,C),F=N;for(let J=0,Ee=C.length;J<Ee;J++){const Ae=C[J];N=N.concat(Ae)}function Z(J,Ee,Ae){return Ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(Ee,Ae)}const H=N.length,q=j.length;function B(J,Ee,Ae){let me,ie,He;const Ce=J.x-Ee.x,Le=J.y-Ee.y,Fe=Ae.x-J.x,te=Ae.y-J.y,ee=Ce*Ce+Le*Le,Se=Ce*te-Le*Fe;if(Math.abs(Se)>Number.EPSILON){const Pe=Math.sqrt(ee),Oe=Math.sqrt(Fe*Fe+te*te),qe=Ee.x-Le/Pe,it=Ee.y+Ce/Pe,at=Ae.x-te/Oe,ze=Ae.y+Fe/Oe,Ze=((at-qe)*te-(ze-it)*Fe)/(Ce*te-Le*Fe);me=qe+Ce*Ze-J.x,ie=it+Le*Ze-J.y;const tt=me*me+ie*ie;if(tt<=2)return new dt(me,ie);He=Math.sqrt(tt/2)}else{let Pe=!1;Ce>Number.EPSILON?Fe>Number.EPSILON&&(Pe=!0):Ce<-Number.EPSILON?Fe<-Number.EPSILON&&(Pe=!0):Math.sign(Le)===Math.sign(te)&&(Pe=!0),Pe?(me=-Le,ie=Ce,He=Math.sqrt(ee)):(me=Ce,ie=Le,He=Math.sqrt(ee/2))}return new dt(me/He,ie/He)}const z=[];for(let J=0,Ee=F.length,Ae=Ee-1,me=J+1;J<Ee;J++,Ae++,me++)Ae===Ee&&(Ae=0),me===Ee&&(me=0),z[J]=B(F[J],F[Ae],F[me]);const $=[];let X,k=z.concat();for(let J=0,Ee=C.length;J<Ee;J++){const Ae=C[J];X=[];for(let me=0,ie=Ae.length,He=ie-1,Ce=me+1;me<ie;me++,He++,Ce++)He===ie&&(He=0),Ce===ie&&(Ce=0),X[me]=B(Ae[me],Ae[He],Ae[Ce]);$.push(X),k=k.concat(X)}for(let J=0;J<y;J++){const Ee=J/y,Ae=d*Math.cos(Ee*Math.PI/2),me=m*Math.sin(Ee*Math.PI/2)+x;for(let ie=0,He=F.length;ie<He;ie++){const Ce=Z(F[ie],z[ie],me);ue(Ce.x,Ce.y,-Ae)}for(let ie=0,He=C.length;ie<He;ie++){const Ce=C[ie];X=$[ie];for(let Le=0,Fe=Ce.length;Le<Fe;Le++){const te=Z(Ce[Le],X[Le],me);ue(te.x,te.y,-Ae)}}}const V=m+x;for(let J=0;J<H;J++){const Ee=h?Z(N[J],k[J],V):N[J];S?(M.copy(A.normals[0]).multiplyScalar(Ee.x),E.copy(A.binormals[0]).multiplyScalar(Ee.y),P.copy(b[0]).add(M).add(E),ue(P.x,P.y,P.z)):ue(Ee.x,Ee.y,0)}for(let J=1;J<=c;J++)for(let Ee=0;Ee<H;Ee++){const Ae=h?Z(N[Ee],k[Ee],V):N[Ee];S?(M.copy(A.normals[J]).multiplyScalar(Ae.x),E.copy(A.binormals[J]).multiplyScalar(Ae.y),P.copy(b[J]).add(M).add(E),ue(P.x,P.y,P.z)):ue(Ae.x,Ae.y,f/c*J)}for(let J=y-1;J>=0;J--){const Ee=J/y,Ae=d*Math.cos(Ee*Math.PI/2),me=m*Math.sin(Ee*Math.PI/2)+x;for(let ie=0,He=F.length;ie<He;ie++){const Ce=Z(F[ie],z[ie],me);ue(Ce.x,Ce.y,f+Ae)}for(let ie=0,He=C.length;ie<He;ie++){const Ce=C[ie];X=$[ie];for(let Le=0,Fe=Ce.length;Le<Fe;Le++){const te=Z(Ce[Le],X[Le],me);S?ue(te.x,te.y+b[c-1].y,b[c-1].x+Ae):ue(te.x,te.y,f+Ae)}}}G(),K();function G(){const J=i.length/3;if(h){let Ee=0,Ae=H*Ee;for(let me=0;me<q;me++){const ie=j[me];he(ie[2]+Ae,ie[1]+Ae,ie[0]+Ae)}Ee=c+y*2,Ae=H*Ee;for(let me=0;me<q;me++){const ie=j[me];he(ie[0]+Ae,ie[1]+Ae,ie[2]+Ae)}}else{for(let Ee=0;Ee<q;Ee++){const Ae=j[Ee];he(Ae[2],Ae[1],Ae[0])}for(let Ee=0;Ee<q;Ee++){const Ae=j[Ee];he(Ae[0]+H*c,Ae[1]+H*c,Ae[2]+H*c)}}r.addGroup(J,i.length/3-J,0)}function K(){const J=i.length/3;let Ee=0;ne(F,Ee),Ee+=F.length;for(let Ae=0,me=C.length;Ae<me;Ae++){const ie=C[Ae];ne(ie,Ee),Ee+=ie.length}r.addGroup(J,i.length/3-J,1)}function ne(J,Ee){let Ae=J.length;for(;--Ae>=0;){const me=Ae;let ie=Ae-1;ie<0&&(ie=J.length-1);for(let He=0,Ce=c+y*2;He<Ce;He++){const Le=H*He,Fe=H*(He+1),te=Ee+me+Le,ee=Ee+ie+Le,Se=Ee+ie+Fe,Pe=Ee+me+Fe;ce(te,ee,Se,Pe)}}}function ue(J,Ee,Ae){l.push(J),l.push(Ee),l.push(Ae)}function he(J,Ee,Ae){Me(J),Me(Ee),Me(Ae);const me=i.length/3,ie=_.generateTopUV(r,i,me-3,me-2,me-1);ye(ie[0]),ye(ie[1]),ye(ie[2])}function ce(J,Ee,Ae,me){Me(J),Me(Ee),Me(me),Me(Ee),Me(Ae),Me(me);const ie=i.length/3,He=_.generateSideWallUV(r,i,ie-6,ie-3,ie-2,ie-1);ye(He[0]),ye(He[1]),ye(He[3]),ye(He[1]),ye(He[2]),ye(He[3])}function Me(J){i.push(l[J*3+0]),i.push(l[J*3+1]),i.push(l[J*3+2])}function ye(J){a.push(J.x),a.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return wwe(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=n[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new s_[i.type]().fromJSON(i)),new Dw(r,e.options)}}const _we={generateTopUV:function(t,e,n,r,i){const a=e[n*3],o=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new dt(a,o),new dt(s,l),new dt(u,c)]},generateSideWallUV:function(t,e,n,r,i,a){const o=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],d=e[i*3+1],m=e[i*3+2],x=e[a*3],y=e[a*3+1],g=e[a*3+2];return Math.abs(s-c)<Math.abs(o-u)?[new dt(o,1-l),new dt(u,1-f),new dt(h,1-m),new dt(x,1-g)]:[new dt(s,1-l),new dt(c,1-f),new dt(d,1-m),new dt(y,1-g)]}};function wwe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Fw extends bh{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Fw(e.radius,e.detail)}}class c1 extends bh{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new c1(e.radius,e.detail)}}class Uw extends Cn{constructor(e=.5,n=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const h=(n-e)/i,d=new ve,m=new dt;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const g=a+y/r*o;d.x=f*Math.cos(g),d.y=f*Math.sin(g),l.push(d.x,d.y,d.z),u.push(0,0,1),m.x=(d.x/n+1)/2,m.y=(d.y/n+1)/2,c.push(m.x,m.y)}f+=h}for(let x=0;x<i;x++){const y=x*(r+1);for(let g=0;g<r;g++){const _=g+y,b=_,S=_+r+1,A=_+r+2,E=_+1;s.push(b,S,E),s.push(S,A,E)}}this.setIndex(s),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(u,3)),this.setAttribute("uv",new Xt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Bw extends Cn{constructor(e=new Nd([new dt(0,.5),new dt(-.5,-.5),new dt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Xt(i,3)),this.setAttribute("normal",new Xt(a,3)),this.setAttribute("uv",new Xt(o,2));function u(c){const f=i.length/3,h=c.extractPoints(n);let d=h.shape;const m=h.holes;Uu.isClockWise(d)===!1&&(d=d.reverse());for(let y=0,g=m.length;y<g;y++){const _=m[y];Uu.isClockWise(_)===!0&&(m[y]=_.reverse())}const x=Uu.triangulateShape(d,m);for(let y=0,g=m.length;y<g;y++){const _=m[y];d=d.concat(_)}for(let y=0,g=d.length;y<g;y++){const _=d[y];i.push(_.x,_.y,0),a.push(0,0,1),o.push(_.x,_.y)}for(let y=0,g=x.length;y<g;y++){const _=x[y],b=_[0]+f,S=_[1]+f,A=_[2]+f;r.push(b,S,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Swe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=n[e.shapes[i]];r.push(o)}return new Bw(r,e.curveSegments)}}function Swe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class f1 extends Cn{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const c=[],f=new ve,h=new ve,d=[],m=[],x=[],y=[];for(let g=0;g<=r;g++){const _=[],b=g/r;let S=0;g===0&&o===0?S=.5/n:g===r&&l===Math.PI&&(S=-.5/n);for(let A=0;A<=n;A++){const E=A/n;f.x=-e*Math.cos(i+E*a)*Math.sin(o+b*s),f.y=e*Math.cos(o+b*s),f.z=e*Math.sin(i+E*a)*Math.sin(o+b*s),m.push(f.x,f.y,f.z),h.copy(f).normalize(),x.push(h.x,h.y,h.z),y.push(E+S,1-b),_.push(u++)}c.push(_)}for(let g=0;g<r;g++)for(let _=0;_<n;_++){const b=c[g][_+1],S=c[g][_],A=c[g+1][_],E=c[g+1][_+1];(g!==0||o>0)&&d.push(b,S,E),(g!==r-1||l<Math.PI)&&d.push(S,A,E)}this.setIndex(d),this.setAttribute("position",new Xt(m,3)),this.setAttribute("normal",new Xt(x,3)),this.setAttribute("uv",new Xt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class zw extends bh{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new zw(e.radius,e.detail)}}class jw extends Cn{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const o=[],s=[],l=[],u=[],c=new ve,f=new ve,h=new ve;for(let d=0;d<=r;d++)for(let m=0;m<=i;m++){const x=m/i*a,y=d/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(x),f.y=(e+n*Math.cos(y))*Math.sin(x),f.z=n*Math.sin(y),s.push(f.x,f.y,f.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(m/i),u.push(d/r)}for(let d=1;d<=r;d++)for(let m=1;m<=i;m++){const x=(i+1)*d+m-1,y=(i+1)*(d-1)+m-1,g=(i+1)*(d-1)+m,_=(i+1)*d+m;o.push(x,y,_),o.push(y,g,_)}this.setIndex(o),this.setAttribute("position",new Xt(s,3)),this.setAttribute("normal",new Xt(l,3)),this.setAttribute("uv",new Xt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Hw extends Cn{constructor(e=1,n=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new ve,h=new ve,d=new ve,m=new ve,x=new ve,y=new ve,g=new ve;for(let b=0;b<=r;++b){const S=b/r*a*Math.PI*2;_(S,a,o,e,d),_(S+.01,a,o,e,m),y.subVectors(m,d),g.addVectors(m,d),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let A=0;A<=i;++A){const E=A/i*Math.PI*2,M=-n*Math.cos(E),P=n*Math.sin(E);f.x=d.x+(M*g.x+P*x.x),f.y=d.y+(M*g.y+P*x.y),f.z=d.z+(M*g.z+P*x.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),u.push(h.x,h.y,h.z),c.push(b/r),c.push(A/i)}}for(let b=1;b<=r;b++)for(let S=1;S<=i;S++){const A=(i+1)*(b-1)+(S-1),E=(i+1)*b+(S-1),M=(i+1)*b+S,P=(i+1)*(b-1)+S;s.push(A,E,P),s.push(E,M,P)}this.setIndex(s),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(u,3)),this.setAttribute("uv",new Xt(c,2));function _(b,S,A,E,M){const P=Math.cos(b),D=Math.sin(b),N=A/S*b,C=Math.cos(N);M.x=E*(2+C)*.5*P,M.y=E*(2+C)*D*.5,M.z=E*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Ww extends Cn{constructor(e=new vC(new ve(-1,-1,0),new ve(-1,1,0),new ve(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new ve,l=new ve,u=new dt;let c=new ve;const f=[],h=[],d=[],m=[];x(),this.setIndex(m),this.setAttribute("position",new Xt(f,3)),this.setAttribute("normal",new Xt(h,3)),this.setAttribute("uv",new Xt(d,2));function x(){for(let b=0;b<n;b++)y(b);y(a===!1?n:0),_(),g()}function y(b){c=e.getPointAt(b/n,c);const S=o.normals[b],A=o.binormals[b];for(let E=0;E<=i;E++){const M=E/i*Math.PI*2,P=Math.sin(M),D=-Math.cos(M);l.x=D*S.x+P*A.x,l.y=D*S.y+P*A.y,l.z=D*S.z+P*A.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function g(){for(let b=1;b<=n;b++)for(let S=1;S<=i;S++){const A=(i+1)*(b-1)+(S-1),E=(i+1)*b+(S-1),M=(i+1)*b+S,P=(i+1)*(b-1)+S;m.push(A,E,P),m.push(E,M,P)}}function _(){for(let b=0;b<=n;b++)for(let S=0;S<=i;S++)u.x=b/n,u.y=S/i,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Ww(new s_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class oj extends Cn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ve,a=new ve;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,d=f.count;for(let m=h,x=h+d;m<x;m+=3)for(let y=0;y<3;y++){const g=s.getX(m+y),_=s.getX(m+(y+1)%3);i.fromBufferAttribute(o,g),a.fromBufferAttribute(o,_),rk(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(o,c),a.fromBufferAttribute(o,f),rk(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Xt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function rk(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var ik=Object.freeze({__proto__:null,BoxGeometry:rp,CapsuleGeometry:Nw,CircleGeometry:Ow,ConeGeometry:Rw,CylinderGeometry:Ug,DodecahedronGeometry:Iw,EdgesGeometry:nj,ExtrudeGeometry:Dw,IcosahedronGeometry:Fw,LatheGeometry:u1,OctahedronGeometry:c1,PlaneGeometry:Yc,PolyhedronGeometry:bh,RingGeometry:Uw,ShapeGeometry:Bw,SphereGeometry:f1,TetrahedronGeometry:zw,TorusGeometry:jw,TorusKnotGeometry:Hw,TubeGeometry:Ww,WireframeGeometry:oj});class sj extends Eo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new zt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class lj extends ou{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class xC extends Eo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uj extends xC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ci(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new zt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new zt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new zt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cj extends Eo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new zt(16777215),this.specular=new zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.combine=i1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fj extends Eo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hj extends Eo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class dj extends Eo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.combine=i1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pj extends Eo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xh,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mj extends Wo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function gj(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vj(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function x3(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,o=0;o!==r;++a){const s=n[a]*e;for(let l=0;l!==e;++l)i[o++]=t[s+l]}return i}function bC(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push.apply(n,o)),a=t[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=t[i++];while(a!==void 0)}function Awe(t,e,n,r,i=30){const a=t.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],h=[];for(let d=0;d<u.times.length;++d){const m=u.times[d]*i;if(!(m<n||m>=r)){f.push(u.times[d]);for(let x=0;x<c;++x)h.push(u.values[d*c+x])}}f.length!==0&&(u.times=xd(f,u.times.constructor),u.values=xd(h,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function Mwe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=n.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===s.name&&g.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const m=s.times.length-1;let x;if(a<=s.times[0]){const g=c,_=f-c;x=s.values.slice(g,_)}else if(a>=s.times[m]){const g=m*f+c,_=g+f-c;x=s.values.slice(g,_)}else{const g=s.createInterpolant(),_=c,b=f-c;g.evaluate(a),x=g.resultBuffer.slice(_,b)}l==="quaternion"&&new Ao().fromArray(x).normalize().conjugate().toArray(x);const y=u.times.length;for(let g=0;g<y;++g){const _=g*d+h;if(l==="quaternion")Ao.multiplyQuaternionsFlat(u.values,_,x,0,u.values,_);else{const b=d-h*2;for(let S=0;S<b;++S)u.values[_+S]-=x[S]}}}return t.blendMode=ZP,t}const Ewe={convertArray:xd,isTypedArray:gj,getKeyframeOrder:vj,sortedArray:x3,flattenJSON:bC,subclip:Awe,makeClipAdditive:Mwe};class h1{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let o;n:{i:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break i;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=a)){const s=n[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<n[s]?o=s:r=s+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yj extends h1{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gd,endingEnd:gd}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case vd:a=e,s=2*n-r;break;case My:a=i.length-2,s=n+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case vd:o=e,l=2*r-n;break;case My:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=a*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,m=(r-n)/(i-n),x=m*m,y=x*m,g=-h*y+2*h*x-h*m,_=(1+h)*y+(-1.5-2*h)*x+(-.5+h)*m+1,b=(-1-d)*y+(1.5+d)*x+.5*m,S=d*y-d*x;for(let A=0;A!==s;++A)a[A]=g*o[c+A]+_*o[u+A]+b*o[l+A]+S*o[f+A];return a}}class _C extends h1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(i-n),f=1-c;for(let h=0;h!==s;++h)a[h]=o[u+h]*f+o[l+h]*c;return a}}class xj extends h1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class uu{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xd(n,this.TimeBufferType),this.values=xd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:xd(e.times,Array),values:xd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new xj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _C(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yj(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Sy:n=this.InterpolantFactoryMethodDiscrete;break;case Ay:n=this.InterpolantFactoryMethodLinear;break;case Tx:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Sy;case this.InterpolantFactoryMethodLinear:return Ay;case this.InterpolantFactoryMethodSmooth:return Tx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&gj(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Tx,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,h=f-r,d=f+r;for(let m=0;m!==r;++m){const x=n[f+m];if(x!==n[h+m]||x!==n[d+m]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const f=s*r,h=o*r;for(let d=0;d!==r;++d)n[h+d]=n[f+d]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}uu.prototype.TimeBufferType=Float32Array;uu.prototype.ValueBufferType=Float32Array;uu.prototype.DefaultInterpolation=Ay;class ip extends uu{}ip.prototype.ValueTypeName="bool";ip.prototype.ValueBufferType=Array;ip.prototype.DefaultInterpolation=Sy;ip.prototype.InterpolantFactoryMethodLinear=void 0;ip.prototype.InterpolantFactoryMethodSmooth=void 0;class wC extends uu{}wC.prototype.ValueTypeName="color";class Dy extends uu{}Dy.prototype.ValueTypeName="number";class bj extends h1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let c=u+s;u!==c;u+=4)Ao.slerpFlat(a,0,o,u-s,o,u,l);return a}}class Bg extends uu{InterpolantFactoryMethodLinear(e){return new bj(this.times,this.values,this.getValueSize(),e)}}Bg.prototype.ValueTypeName="quaternion";Bg.prototype.DefaultInterpolation=Ay;Bg.prototype.InterpolantFactoryMethodSmooth=void 0;class ap extends uu{}ap.prototype.ValueTypeName="string";ap.prototype.ValueBufferType=Array;ap.prototype.DefaultInterpolation=Sy;ap.prototype.InterpolantFactoryMethodLinear=void 0;ap.prototype.InterpolantFactoryMethodSmooth=void 0;class Fy extends uu{}Fy.prototype.ValueTypeName="vector";class Uy{constructor(e,n=-1,r,i=xw){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ks(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)n.push(Pwe(r[o]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)n.push(uu.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const c=vj(l);l=x3(l,1,c),u=x3(u,1,c),!i&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new Dy(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,d,m,x){if(d.length!==0){const y=[],g=[];bC(d,y,g,m),y.length!==0&&x.push(new f(h,y,g))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let x=0;x<h[m].morphTargets.length;x++)d[h[m].morphTargets[x]]=-1;for(const x in d){const y=[],g=[];for(let _=0;_!==h[m].morphTargets.length;++_){const b=h[m];y.push(b.time),g.push(b.morphTarget===x?1:0)}i.push(new Dy(".morphTargetInfluence["+x+"]",y,g))}l=d.length*o}else{const d=".bones["+n[f].name+"]";r(Fy,d+".position",h,"pos",i),r(Bg,d+".quaternion",h,"rot",i),r(Fy,d+".scale",h,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Twe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Dy;case"vector":case"vector2":case"vector3":case"vector4":return Fy;case"color":return wC;case"quaternion":return Bg;case"bool":case"boolean":return ip;case"string":return ap}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Pwe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Twe(t.type);if(t.times===void 0){const n=[],r=[];bC(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ac={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class SC{constructor(e,n,r){const i=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){s++,a===!1&&i.onStart!==void 0&&i.onStart(c,o,s),a=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const d=u[f],m=u[f+1];if(d.global&&(d.lastIndex=0),d.test(c))return m}return null}}}const _j=new SC;class us{constructor(e){this.manager=e!==void 0?e:_j,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}us.DEFAULT_MATERIAL_NAME="__DEFAULT";const cc={};class Cwe extends Error{constructor(e,n){super(e),this.response=n}}class jc extends us{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ac.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(cc[e]!==void 0){cc[e].push({onLoad:n,onProgress:r,onError:i});return}cc[e]=[],cc[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=cc[e],f=u.body.getReader(),h=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),d=h?parseInt(h):0,m=d!==0;let x=0;const y=new ReadableStream({start(g){_();function _(){f.read().then(({done:b,value:S})=>{if(b)g.close();else{x+=S.byteLength;const A=new ProgressEvent("progress",{lengthComputable:m,loaded:x,total:d});for(let E=0,M=c.length;E<M;E++){const P=c[E];P.onProgress&&P.onProgress(A)}g.enqueue(S),_()}})}}});return new Response(y)}else throw new Cwe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return u.arrayBuffer().then(m=>d.decode(m))}}}).then(u=>{Ac.add(e,u);const c=cc[e];delete cc[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{const c=cc[e];if(c===void 0)throw this.manager.itemError(e),u;delete cc[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Lwe extends us{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new jc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Uy.parse(e[r]);n.push(i)}return n}}class Nwe extends us{constructor(e){super(e)}load(e,n,r,i){const a=this,o=[],s=new Cw,l=new jc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const d=a.parse(h,!0);o[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(s.minFilter=Xr),s.image=o,s.format=d.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=a.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let m=0;m<d;m++){o[m]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)o[m].mipmaps.push(h.mipmaps[m*h.mipmapCount+x]),o[m].format=h.format,o[m].width=h.width,o[m].height=h.height}s.image=o}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=Xr),s.format=h.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class By extends us{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Ac.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o;const s=Ny("img");function l(){c(),Ac.add(e,this),n&&n(this),a.manager.itemEnd(e)}function u(f){c(),i&&i(f),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),a.manager.itemStart(e),s.src=e,s}}class Owe extends us{constructor(e){super(e)}load(e,n,r,i){const a=new s1;a.colorSpace=hl;const o=new By(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(c){a.images[u]=c,s++,s===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class Rwe extends us{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new rh,s=new jc(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:_o,o.wrapT=u.wrapT!==void 0?u.wrapT:_o,o.magFilter=u.magFilter!==void 0?u.magFilter:Xr,o.minFilter=u.minFilter!==void 0?u.minFilter:Xr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Cu),u.mipmapCount===1&&(o.minFilter=Xr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class wj extends us{constructor(e){super(e)}load(e,n,r,i){const a=new yi,o=new By(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class _h extends er{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new zt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Sj extends _h{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(er.DEFAULT_UP),this.updateMatrix(),this.groundColor=new zt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const W5=new cn,ak=new ve,ok=new ve;class AC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dt(512,512),this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new l1,this._frameExtents=new dt(1,1),this._viewportCount=1,this._viewports=[new ar(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;ak.setFromMatrixPosition(e.matrixWorld),n.position.copy(ak),ok.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(ok),n.updateMatrixWorld(),W5.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(W5),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(W5)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Iwe extends AC{constructor(){super(new Ui(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=vg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Aj extends _h{constructor(e,n,r=0,i=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(er.DEFAULT_UP),this.updateMatrix(),this.target=new er,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Iwe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const sk=new cn,Iv=new ve,G5=new ve;class kwe extends AC{constructor(){super(new Ui(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new dt(4,2),this._viewportCount=6,this._viewports=[new ar(2,1,1,1),new ar(0,1,1,1),new ar(3,1,1,1),new ar(1,1,1,1),new ar(3,0,1,1),new ar(1,0,1,1)],this._cubeDirections=[new ve(1,0,0),new ve(-1,0,0),new ve(0,0,1),new ve(0,0,-1),new ve(0,1,0),new ve(0,-1,0)],this._cubeUps=[new ve(0,1,0),new ve(0,1,0),new ve(0,1,0),new ve(0,1,0),new ve(0,0,1),new ve(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),Iv.setFromMatrixPosition(e.matrixWorld),r.position.copy(Iv),G5.copy(r.position),G5.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(G5),r.updateMatrixWorld(),i.makeTranslation(-Iv.x,-Iv.y,-Iv.z),sk.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sk)}}class Mj extends _h{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new kwe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Dwe extends AC{constructor(){super(new nh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ej extends _h{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(er.DEFAULT_UP),this.updateMatrix(),this.target=new er,this.shadow=new Dwe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Tj extends _h{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Pj extends _h{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Cj{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ve)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(r*a)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*r*a),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}}class Lj extends _h{constructor(e=new Cj,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Gw extends us{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,o=new jc(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const i=Gw.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new zt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new zt().setHex(o.value);break;case"v2":i.uniforms[a].value=new dt().fromArray(o.value);break;case"v3":i.uniforms[a].value=new ve().fromArray(o.value);break;case"v4":i.uniforms[a].value=new ar().fromArray(o.value);break;case"m3":i.uniforms[a].value=new Sn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new cn().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new dt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new dt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:sj,SpriteMaterial:cC,RawShaderMaterial:lj,ShaderMaterial:ou,PointsMaterial:hC,MeshPhysicalMaterial:uj,MeshStandardMaterial:xC,MeshPhongMaterial:cj,MeshToonMaterial:fj,MeshNormalMaterial:hj,MeshLambertMaterial:dj,MeshDepthMaterial:Sw,MeshDistanceMaterial:Aw,MeshBasicMaterial:Xc,MeshMatcapMaterial:pj,LineDashedMaterial:mj,LineBasicMaterial:Wo,Material:Eo};return new n[e]}}class b3{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class MC extends Cn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Nj extends us{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new jc(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(d,m){if(n[m]!==void 0)return n[m];const y=d.interleavedBuffers[m],g=a(d,y.buffer),_=Am(y.type,g),b=new Tw(_,y.stride);return b.uuid=y.uuid,n[m]=b,b}function a(d,m){if(r[m]!==void 0)return r[m];const y=d.arrayBuffers[m],g=new Uint32Array(y).buffer;return r[m]=g,g}const o=e.isInstancedBufferGeometry?new MC:new Cn,s=e.data.index;if(s!==void 0){const d=Am(s.type,s.array);o.setIndex(new Sr(d,1))}const l=e.data.attributes;for(const d in l){const m=l[d];let x;if(m.isInterleavedBufferAttribute){const y=i(e.data,m.data);x=new qd(y,m.itemSize,m.offset,m.normalized)}else{const y=Am(m.type,m.array),g=m.isInstancedBufferAttribute?Xd:Sr;x=new g(y,m.itemSize,m.normalized)}m.name!==void 0&&(x.name=m.name),m.usage!==void 0&&x.setUsage(m.usage),o.setAttribute(d,x)}const u=e.data.morphAttributes;if(u)for(const d in u){const m=u[d],x=[];for(let y=0,g=m.length;y<g;y++){const _=m[y];let b;if(_.isInterleavedBufferAttribute){const S=i(e.data,_.data);b=new qd(S,_.itemSize,_.offset,_.normalized)}else{const S=Am(_.type,_.array);b=new Sr(S,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),x.push(b)}o.morphAttributes[d]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,m=f.length;d!==m;++d){const x=f[d];o.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new ve;h.center!==void 0&&d.fromArray(h.center),o.boundingSphere=new Qa(d,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Fwe extends us{constructor(e){super(e)}load(e,n,r,i){const a=this,o=this.path===""?b3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new jc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?b3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new jc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new Nd().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new Pw().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Nj;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in ik?s=ik[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new Gw;a.setTextures(n);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=Uy.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Am(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new SC(n);a=new By(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const d=[];for(let m=0,x=h.length;m<x;m++){const y=h[m],g=s(y);g!==null&&(g instanceof HTMLImageElement?d.push(g):d.push(new rh(g.data,g.width,g.height)))}i[f.uuid]=new yd(d)}else{const d=s(f.url);i[f.uuid]=new yd(d)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:Am(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new By(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f],m=await a(d);m!==null&&(m instanceof HTMLImageElement?c.push(m):c.push(new rh(m.data,m.width,m.height)))}r[l.uuid]=new yd(c)}else{const c=await a(l.url);r[l.uuid]=new yd(c)}}}return r}parseTextures(e,n){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let c;Array.isArray(u)?(c=new s1,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new rh:c=new yi,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,Uwe)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],lk),c.wrapT=r(s.wrap[1],lk)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,uk)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,uk)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,n,r,i,a){let o;function s(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let m=0,x=h.length;m<x;m++){const y=h[m];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),d.push(r[y])}return d}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new uC,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new zt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Ew(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Mw(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ui(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new nh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Tj(e.color,e.intensity);break;case"DirectionalLight":o=new Ej(e.color,e.intensity);break;case"PointLight":o=new Mj(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Pj(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Aj(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Sj(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Lj().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),o=new $7(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),o=new gi(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,m=e.instanceColor;o=new q7(c,f,h),o.instanceMatrix=new Xd(new Float32Array(d.array),16),m!==void 0&&(o.instanceColor=new Xd(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),o=new X7(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=c,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const y=new Ja;y.min.fromArray(x.boxMin),y.max.fromArray(x.boxMax);const g=new Qa;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:y,sphereInitialized:x.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":o=new V7;break;case"Line":o=new lh(s(e.geometry),l(e.material));break;case"LineLoop":o=new Y7(s(e.geometry),l(e.material));break;case"LineSegments":o=new Hu(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new K7(s(e.geometry),l(e.material));break;case"Sprite":o=new G7(l(e.material));break;case"Group":o=new Tm;break;case"Bone":o=new fC;break;default:o=new er}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)o.add(this.parseObject(h[d],n,r,i,a))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const m=h[d];o.animations.push(a[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const m=h[d],x=o.getObjectByProperty("uuid",m.object);x!==void 0&&o.addLevel(x,m.distance,m.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Uwe={UVMapping:vw,CubeReflectionMapping:zc,CubeRefractionMapping:sh,EquirectangularReflectionMapping:xy,EquirectangularRefractionMapping:by,CubeUVReflectionMapping:Dg},lk={RepeatWrapping:_y,ClampToEdgeWrapping:_o,MirroredRepeatWrapping:wy},uk={NearestFilter:Di,NearestMipmapNearestFilter:i_,NearestMipmapLinearFilter:od,LinearFilter:Xr,LinearMipmapNearestFilter:s0,LinearMipmapLinearFilter:Cu};class Bwe extends us{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Ac.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),a.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return Ac.add(e,u),n&&n(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Ac.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Ac.add(e,l),a.manager.itemStart(e)}}let $2;class EC{static getContext(){return $2===void 0&&($2=new(window.AudioContext||window.webkitAudioContext)),$2}static setContext(e){$2=e}}class zwe extends us{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new jc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);EC.getContext().decodeAudioData(u,function(f){n(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):console.error(l),a.manager.itemError(e)}}}const ck=new cn,fk=new cn,Wh=new cn;class jwe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ui,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ui,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Wh.copy(e.projectionMatrix);const i=n.eyeSep/2,a=i*n.near/n.focus,o=n.near*Math.tan(Cd*n.fov*.5)/n.zoom;let s,l;fk.elements[12]=-i,ck.elements[12]=i,s=-o*n.aspect+a,l=o*n.aspect+a,Wh.elements[0]=2*n.near/(l-s),Wh.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Wh),s=-o*n.aspect-a,l=o*n.aspect-a,Wh.elements[0]=2*n.near/(l-s),Wh.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Wh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(fk),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ck)}}class TC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hk(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=hk();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function hk(){return(typeof performance>"u"?Date:performance).now()}const Gh=new ve,dk=new Ao,Hwe=new ve,Vh=new ve;class Wwe extends er{constructor(){super(),this.type="AudioListener",this.context=EC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new TC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Gh,dk,Hwe),Vh.set(0,0,-1).applyQuaternion(dk),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Gh.x,i),n.positionY.linearRampToValueAtTime(Gh.y,i),n.positionZ.linearRampToValueAtTime(Gh.z,i),n.forwardX.linearRampToValueAtTime(Vh.x,i),n.forwardY.linearRampToValueAtTime(Vh.y,i),n.forwardZ.linearRampToValueAtTime(Vh.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Gh.x,Gh.y,Gh.z),n.setOrientation(Vh.x,Vh.y,Vh.z,r.x,r.y,r.z)}}class Oj extends er{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const $h=new ve,pk=new Ao,Gwe=new ve,qh=new ve;class Vwe extends Oj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose($h,pk,Gwe),qh.set(0,0,1).applyQuaternion(pk);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime($h.x,r),n.positionY.linearRampToValueAtTime($h.y,r),n.positionZ.linearRampToValueAtTime($h.z,r),n.orientationX.linearRampToValueAtTime(qh.x,r),n.orientationY.linearRampToValueAtTime(qh.y,r),n.orientationZ.linearRampToValueAtTime(qh.z,r)}else n.setPosition($h.x,$h.y,$h.z),n.setOrientation(qh.x,qh.y,qh.z)}}class $we{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Rj{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,o;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=n}else{o+=n;const s=n/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,o=i;a!==o;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Ao.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const o=this._workIndex*a;Ao.multiplyQuaternionsFlat(e,o,e,n,e,r),Ao.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=n+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,n,r,i,a){for(let o=0;o!==a;++o){const s=n+o;e[s]=e[s]+e[r+o]*i}}}const PC="\\[\\]\\.:\\/",qwe=new RegExp("["+PC+"]","g"),CC="[^"+PC+"]",Xwe="[^"+PC.replace("\\.","")+"]",Ywe=/((?:WC+[\/:])*)/.source.replace("WC",CC),Kwe=/(WCOD+)?/.source.replace("WCOD",Xwe),Zwe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",CC),Jwe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",CC),Qwe=new RegExp("^"+Ywe+Kwe+Zwe+Jwe+"$"),eSe=["material","materials","bones","map"];class tSe{constructor(e,n,r){const i=r||Vn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Vn{constructor(e,n,r){this.path=n,this.parsedPath=r||Vn.parseTrackName(n),this.node=Vn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Vn.Composite(e,n,r):new Vn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(qwe,"")}static parseTrackName(e){const n=Qwe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);eSe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=Vn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vn.Composite=tSe;Vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vn.prototype.GetterByBindingType=[Vn.prototype._getValue_direct,Vn.prototype._getValue_array,Vn.prototype._getValue_arrayElement,Vn.prototype._getValue_toArray];Vn.prototype.SetterByBindingTypeAndVersioning=[[Vn.prototype._setValue_direct,Vn.prototype._setValue_direct_setNeedsUpdate,Vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_array,Vn.prototype._setValue_array_setNeedsUpdate,Vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_arrayElement,Vn.prototype._setValue_arrayElement_setNeedsUpdate,Vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_fromArray,Vn.prototype._setValue_fromArray_setNeedsUpdate,Vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class nSe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ks(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],d=h.uuid;let m=n[d];if(m===void 0){m=l++,n[d]=m,e.push(h);for(let x=0,y=o;x!==y;++x)a[x].push(new Vn(h,r[x],i[x]))}else if(m<u){s=e[m];const x=--u,y=e[x];n[y.uuid]=m,e[m]=y,n[d]=x,e[x]=h;for(let g=0,_=o;g!==_;++g){const b=a[g],S=b[x];let A=b[m];b[m]=S,A===void 0&&(A=new Vn(h,r[g],i[g])),b[x]=A}}else e[m]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=a){const f=a++,h=e[f];n[h.uuid]=c,e[c]=h,n[u]=f,e[f]=l;for(let d=0,m=i;d!==m;++d){const x=r[d],y=x[f],g=x[c];x[c]=y,x[f]=g}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<a){const h=--a,d=e[h],m=--o,x=e[m];n[d.uuid]=f,e[f]=d,n[x.uuid]=h,e[h]=x,e.pop();for(let y=0,g=i;y!==g;++y){const _=r[y],b=_[h],S=_[m];_[f]=b,_[h]=S,_.pop()}}else{const h=--o,d=e[h];h>0&&(n[d.uuid]=f),e[f]=d,e.pop();for(let m=0,x=i;m!==x;++m){const y=r[m];y[f]=y[h],y.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=a.length,r[e]=i,o.push(e),s.push(n),a.push(f);for(let h=c,d=l.length;h!==d;++h){const m=l[h];f[h]=new Vn(m,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];n[u]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class Ij{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,o=a.length,s=new Array(o),l={endingStart:gd,endingEnd:gd};for(let u=0;u!==o;++u){const c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=m7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case ZP:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case xw:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===g7;if(e===0)return a===-1?i:o&&(a&1)===1?n-i:i;if(r===p7){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=vd,i.endingEnd=vd):(e?i.endingStart=this.zeroSlopeAtStart?vd:gd:i.endingStart=My,n?i.endingEnd=this.zeroSlopeAtEnd?vd:gd:i.endingEnd=My)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=n,s[1]=a+e,l[1]=r,this}}const rSe=new Float32Array(1);class iSe extends qc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const h=i[f],d=h.name;let m=c[d];if(m!==void 0)++m.referenceCount,o[f]=m;else{if(m=o[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,d));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;m=new Rj(Vn.create(r,d,x),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,d),o[f]=m}s[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new _C(new Float32Array(2),new Float32Array(2),1,rSe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let o=typeof e=="string"?Uy.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=xw),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new Ij(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,s,a),c}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?Uy.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class LC{constructor(e){this.value=e}clone(){return new LC(this.value.clone===void 0?this.value:this.value.clone())}}let aSe=0;class oSe extends qc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:aSe++}),this.name="",this.usage=Cy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class sSe extends Tw{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class lSe{constructor(e,n,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const mk=new cn;class kj{constructor(e,n,r=0,i=1/0){this.ray=new np(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ld,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return mk.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(mk),this}intersectObject(e,n=!0,r=[]){return _3(e,this,r,n),r.sort(gk),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)_3(e[i],this,r,n);return r.sort(gk),r}}function gk(t,e){return t.distance-e.distance}function _3(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let a=0,o=i.length;a<o;a++)_3(i[a],e,n,!0)}}class w3{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ci(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class uSe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const vk=new dt;class cSe{constructor(e=new dt(1/0,1/0),n=new dt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=vk.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vk).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yk=new ve,q2=new ve;class fSe{constructor(e=new ve,n=new ve){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){yk.subVectors(e,this.start),q2.subVectors(this.end,this.start);const r=q2.dot(q2);let a=q2.dot(yk)/r;return n&&(a=Ci(a,0,1)),a}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const xk=new ve;class hSe extends er{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Cn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Xt(i,3));const a=new Wo({fog:!1,toneMapped:!1});this.cone=new Hu(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),xk.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(xk),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Pf=new ve,X2=new cn,V5=new cn;class dSe extends Hu{constructor(e){const n=Dj(e),r=new Cn,i=[],a=[],o=new zt(0,0,1),s=new zt(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(o.r,o.g,o.b),a.push(s.r,s.g,s.b))}r.setAttribute("position",new Xt(i,3)),r.setAttribute("color",new Xt(a,3));const l=new Wo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");V5.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const s=n[a];s.parent&&s.parent.isBone&&(X2.multiplyMatrices(V5,s.matrixWorld),Pf.setFromMatrixPosition(X2),i.setXYZ(o,Pf.x,Pf.y,Pf.z),X2.multiplyMatrices(V5,s.parent.matrixWorld),Pf.setFromMatrixPosition(X2),i.setXYZ(o+1,Pf.x,Pf.y,Pf.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Dj(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Dj(t.children[n]));return e}class pSe extends gi{constructor(e,n,r){const i=new f1(n,4,2),a=new Xc({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const mSe=new ve,bk=new zt,_k=new zt;class gSe extends er{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new c1(n);i.rotateY(Math.PI*.5),this.material=new Xc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new Sr(o,3)),this.add(new gi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");bk.copy(this.light.color),_k.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?bk:_k;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mSe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vSe extends Hu{constructor(e=10,n=10,r=4473924,i=8947848){r=new zt(r),i=new zt(i);const a=n/2,o=e/n,s=e/2,l=[],u=[];for(let h=0,d=0,m=-s;h<=n;h++,m+=o){l.push(-s,0,m,s,0,m),l.push(m,0,-s,m,0,s);const x=h===a?r:i;x.toArray(u,d),d+=3,x.toArray(u,d),d+=3,x.toArray(u,d),d+=3,x.toArray(u,d),d+=3}const c=new Cn;c.setAttribute("position",new Xt(l,3)),c.setAttribute("color",new Xt(u,3));const f=new Wo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ySe extends Hu{constructor(e=10,n=16,r=8,i=64,a=4473924,o=8947848){a=new zt(a),o=new zt(o);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),d=Math.sin(h)*e,m=Math.cos(h)*e;s.push(0,0,0),s.push(d,0,m);const x=f&1?a:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const h=f&1?a:o,d=e-e/r*f;for(let m=0;m<i;m++){let x=m/i*(Math.PI*2),y=Math.sin(x)*d,g=Math.cos(x)*d;s.push(y,0,g),l.push(h.r,h.g,h.b),x=(m+1)/i*(Math.PI*2),y=Math.sin(x)*d,g=Math.cos(x)*d,s.push(y,0,g),l.push(h.r,h.g,h.b)}}const u=new Cn;u.setAttribute("position",new Xt(s,3)),u.setAttribute("color",new Xt(l,3));const c=new Wo({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const wk=new ve,Y2=new ve,Sk=new ve;class xSe extends er{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Cn;i.setAttribute("position",new Xt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Wo({fog:!1,toneMapped:!1});this.lightPlane=new lh(i,a),this.add(this.lightPlane),i=new Cn,i.setAttribute("position",new Xt([0,0,0,0,0,1],3)),this.targetLine=new lh(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),wk.setFromMatrixPosition(this.light.matrixWorld),Y2.setFromMatrixPosition(this.light.target.matrixWorld),Sk.subVectors(Y2,wk),this.lightPlane.lookAt(Y2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Y2),this.targetLine.scale.z=Sk.length()}}const K2=new ve,Mi=new o1;class bSe extends Hu{constructor(e){const n=new Cn,r=new Wo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(m,x){l(m),l(x)}function l(m){i.push(0,0,0),a.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(i.length/3-1)}n.setAttribute("position",new Xt(i,3)),n.setAttribute("color",new Xt(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new zt(16755200),c=new zt(16711680),f=new zt(43775),h=new zt(16777215),d=new zt(3355443);this.setColors(u,c,f,h,d)}setColors(e,n,r,i,a){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Mi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ki("c",n,e,Mi,0,0,-1),ki("t",n,e,Mi,0,0,1),ki("n1",n,e,Mi,-r,-i,-1),ki("n2",n,e,Mi,r,-i,-1),ki("n3",n,e,Mi,-r,i,-1),ki("n4",n,e,Mi,r,i,-1),ki("f1",n,e,Mi,-r,-i,1),ki("f2",n,e,Mi,r,-i,1),ki("f3",n,e,Mi,-r,i,1),ki("f4",n,e,Mi,r,i,1),ki("u1",n,e,Mi,r*.7,i*1.1,-1),ki("u2",n,e,Mi,-r*.7,i*1.1,-1),ki("u3",n,e,Mi,0,i*2,-1),ki("cf1",n,e,Mi,-r,0,1),ki("cf2",n,e,Mi,r,0,1),ki("cf3",n,e,Mi,0,-i,1),ki("cf4",n,e,Mi,0,i,1),ki("cn1",n,e,Mi,-r,0,-1),ki("cn2",n,e,Mi,r,0,-1),ki("cn3",n,e,Mi,0,-i,-1),ki("cn4",n,e,Mi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ki(t,e,n,r,i,a,o){K2.set(i,a,o).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],K2.x,K2.y,K2.z)}}const Z2=new Ja;class _Se extends Hu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Cn;a.setIndex(new Sr(r,1)),a.setAttribute("position",new Sr(i,3)),super(a,new Wo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Z2.setFromObject(this.object),Z2.isEmpty())return;const n=Z2.min,r=Z2.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wSe extends Hu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Cn;a.setIndex(new Sr(r,1)),a.setAttribute("position",new Xt(i,3)),super(a,new Wo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class SSe extends lh{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Cn;o.setAttribute("position",new Xt(a,3)),o.computeBoundingSphere(),super(o,new Wo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Cn;l.setAttribute("position",new Xt(s,3)),l.computeBoundingSphere(),this.add(new gi(l,new Xc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Ak=new ve;let J2,$5;class ASe extends er{constructor(e=new ve(0,0,1),n=new ve(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",J2===void 0&&(J2=new Cn,J2.setAttribute("position",new Xt([0,0,0,0,1,0],3)),$5=new Ug(0,.5,1,5,1),$5.translate(0,-.5,0)),this.position.copy(n),this.line=new lh(J2,new Wo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new gi($5,new Xc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Ak.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Ak,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class MSe extends Hu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Cn;i.setAttribute("position",new Xt(n,3)),i.setAttribute("color",new Xt(r,3));const a=new Wo({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new zt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ESe{constructor(){this.type="ShapePath",this.color=new zt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Oy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,o){return this.currentPath.bezierCurveTo(e,n,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const _=[];for(let b=0,S=g.length;b<S;b++){const A=g[b],E=new Nd;E.curves=A.curves,_.push(E)}return _}function r(g,_){const b=_.length;let S=!1;for(let A=b-1,E=0;E<b;A=E++){let M=_[A],P=_[E],D=P.x-M.x,N=P.y-M.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(M=_[E],D=-D,P=_[A],N=-N),g.y<M.y||g.y>P.y)continue;if(g.y===M.y){if(g.x===M.x)return!0}else{const C=N*(g.x-M.x)-D*(g.y-M.y);if(C===0)return!0;if(C<0)continue;S=!S}}else{if(g.y!==M.y)continue;if(P.x<=g.x&&g.x<=M.x||M.x<=g.x&&g.x<=P.x)return!0}}return S}const i=Uu.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new Nd,l.curves=s.curves,u.push(l),u;let c=!i(a[0].getPoints());c=e?!c:c;const f=[],h=[];let d=[],m=0,x;h[m]=void 0,d[m]=[];for(let g=0,_=a.length;g<_;g++)s=a[g],x=s.getPoints(),o=i(x),o=e?!o:o,o?(!c&&h[m]&&m++,h[m]={s:new Nd,p:x},h[m].s.curves=s.curves,c&&m++,d[m]=[]):d[m].push({h:s,p:x[0]});if(!h[0])return n(a);if(h.length>1){let g=!1,_=0;for(let b=0,S=h.length;b<S;b++)f[b]=[];for(let b=0,S=h.length;b<S;b++){const A=d[b];for(let E=0;E<A.length;E++){const M=A[E];let P=!0;for(let D=0;D<h.length;D++)r(M.p,h[D].p)&&(b!==D&&_++,P?(P=!1,f[D].push(M)):g=!0);P&&f[b].push(M)}}_>0&&g===!1&&(d=f)}let y;for(let g=0,_=h.length;g<_;g++){l=h[g].s,u.push(l),y=d[g];for(let b=0,S=y.length;b<S;b++)l.holes.push(y[b].h)}return u}}class TSe extends au{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:mw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=mw);const PSe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:HP,AddEquation:Uf,AddOperation:Qz,AdditiveAnimationBlendMode:ZP,AdditiveBlending:vy,AgXToneMapping:i7,AlphaFormat:u7,AlwaysCompare:M7,AlwaysDepth:$z,AlwaysStencilFunc:f3,AmbientLight:Tj,AnimationAction:Ij,AnimationClip:Uy,AnimationLoader:Lwe,AnimationMixer:iSe,AnimationObjectGroup:nSe,AnimationUtils:Ewe,ArcCurve:Z7,ArrayCamera:j7,ArrowHelper:ASe,AttachedBindMode:BE,Audio:Oj,AudioAnalyser:$we,AudioContext:EC,AudioListener:Wwe,AudioLoader:zwe,AxesHelper:MSe,BackSide:So,BasicDepthPacking:v7,BasicShadowMap:Pz,BatchedMesh:X7,Bone:fC,BooleanKeyframeTrack:ip,Box2:cSe,Box3:Ja,Box3Helper:wSe,BoxGeometry:rp,BoxHelper:_Se,BufferAttribute:Sr,BufferGeometry:Cn,BufferGeometryLoader:Nj,ByteType:s7,Cache:Ac,Camera:o1,CameraHelper:bSe,CanvasTexture:K_e,CapsuleGeometry:Nw,CatmullRomCurve3:J7,CineonToneMapping:n7,CircleGeometry:Ow,ClampToEdgeWrapping:_o,Clock:TC,Color:zt,ColorKeyframeTrack:wC,ColorManagement:mr,CompressedArrayTexture:X_e,CompressedCubeTexture:Y_e,CompressedTexture:Cw,CompressedTextureLoader:Nwe,ConeGeometry:Rw,ConstantAlphaFactor:Wz,ConstantColorFactor:jz,CubeCamera:O7,CubeReflectionMapping:zc,CubeRefractionMapping:sh,CubeTexture:s1,CubeTextureLoader:Owe,CubeUVReflectionMapping:Dg,CubicBezierCurve:pC,CubicBezierCurve3:Q7,CubicInterpolant:yj,CullFaceBack:IE,CullFaceFront:Tz,CullFaceFrontBack:I0e,CullFaceNone:Ez,Curve:lu,CurvePath:tj,CustomBlending:Cz,CustomToneMapping:r7,CylinderGeometry:Ug,Cylindrical:uSe,Data3DTexture:nC,DataArrayTexture:_w,DataTexture:rh,DataTextureLoader:Rwe,DataUtils:Hye,DecrementStencilOp:V0e,DecrementWrapStencilOp:q0e,DefaultLoadingManager:_j,DepthFormat:th,DepthStencilFormat:$d,DepthTexture:sC,DetachedBindMode:o7,DirectionalLight:Ej,DirectionalLightHelper:xSe,DiscreteInterpolant:xj,DisplayP3ColorSpace:bw,DodecahedronGeometry:Iw,DoubleSide:eu,DstAlphaFactor:Dz,DstColorFactor:Uz,DynamicCopyUsage:lye,DynamicDrawUsage:nye,DynamicReadUsage:aye,EdgesGeometry:nj,EllipseCurve:Lw,EqualCompare:_7,EqualDepth:Xz,EqualStencilFunc:Z0e,EquirectangularReflectionMapping:xy,EquirectangularRefractionMapping:by,Euler:Us,EventDispatcher:qc,ExtrudeGeometry:Dw,FileLoader:jc,Float16BufferAttribute:Xye,Float32BufferAttribute:Xt,FloatType:Ls,Fog:Ew,FogExp2:Mw,FramebufferTexture:q_e,FrontSide:Bc,Frustum:l1,GLBufferAttribute:lSe,GLSL1:cye,GLSL3:h3,GreaterCompare:w7,GreaterDepth:Kz,GreaterEqualCompare:A7,GreaterEqualDepth:Yz,GreaterEqualStencilFunc:tye,GreaterStencilFunc:Q0e,GridHelper:vSe,Group:Tm,HalfFloatType:gg,HemisphereLight:Sj,HemisphereLightHelper:gSe,IcosahedronGeometry:Fw,ImageBitmapLoader:Bwe,ImageLoader:By,ImageUtils:tC,IncrementStencilOp:G0e,IncrementWrapStencilOp:$0e,InstancedBufferAttribute:Xd,InstancedBufferGeometry:MC,InstancedInterleavedBuffer:sSe,InstancedMesh:q7,Int16BufferAttribute:$ye,Int32BufferAttribute:qye,Int8BufferAttribute:Wye,IntType:WP,InterleavedBuffer:Tw,InterleavedBufferAttribute:qd,Interpolant:h1,InterpolateDiscrete:Sy,InterpolateLinear:Ay,InterpolateSmooth:Tx,InvertStencilOp:X0e,KeepStencilOp:rd,KeyframeTrack:uu,LOD:V7,LatheGeometry:u1,Layers:Ld,LessCompare:b7,LessDepth:qz,LessEqualCompare:QP,LessEqualDepth:yy,LessEqualStencilFunc:J0e,LessStencilFunc:K0e,Light:_h,LightProbe:Lj,Line:lh,Line3:fSe,LineBasicMaterial:Wo,LineCurve:mC,LineCurve3:ej,LineDashedMaterial:mj,LineLoop:Y7,LineSegments:Hu,LinearDisplayP3ColorSpace:a1,LinearFilter:Xr,LinearInterpolant:_C,LinearMipMapLinearFilter:U0e,LinearMipMapNearestFilter:F0e,LinearMipmapLinearFilter:Cu,LinearMipmapNearestFilter:s0,LinearSRGBColorSpace:$c,LinearToneMapping:e7,LinearTransfer:Ey,Loader:us,LoaderUtils:b3,LoadingManager:SC,LoopOnce:p7,LoopPingPong:g7,LoopRepeat:m7,LuminanceAlphaFormat:f7,LuminanceFormat:c7,MOUSE:td,Material:Eo,MaterialLoader:Gw,MathUtils:Mye,Matrix3:Sn,Matrix4:cn,MaxEquation:UE,Mesh:gi,MeshBasicMaterial:Xc,MeshDepthMaterial:Sw,MeshDistanceMaterial:Aw,MeshLambertMaterial:dj,MeshMatcapMaterial:pj,MeshNormalMaterial:hj,MeshPhongMaterial:cj,MeshPhysicalMaterial:uj,MeshStandardMaterial:xC,MeshToonMaterial:fj,MinEquation:FE,MirroredRepeatWrapping:wy,MixOperation:Jz,MultiplyBlending:DE,MultiplyOperation:i1,NearestFilter:Di,NearestMipMapLinearFilter:D0e,NearestMipMapNearestFilter:k0e,NearestMipmapLinearFilter:od,NearestMipmapNearestFilter:i_,NeutralToneMapping:a7,NeverCompare:x7,NeverDepth:Vz,NeverStencilFunc:Y0e,NoBlending:Lc,NoColorSpace:gc,NoToneMapping:Du,NormalAnimationBlendMode:xw,NormalBlending:Pd,NotEqualCompare:S7,NotEqualDepth:Zz,NotEqualStencilFunc:eye,NumberKeyframeTrack:Dy,Object3D:er,ObjectLoader:Fwe,ObjectSpaceNormalMap:y7,OctahedronGeometry:c1,OneFactor:Rz,OneMinusConstantAlphaFactor:Gz,OneMinusConstantColorFactor:Hz,OneMinusDstAlphaFactor:Fz,OneMinusDstColorFactor:Bz,OneMinusSrcAlphaFactor:r_,OneMinusSrcColorFactor:kz,OrthographicCamera:nh,P3Primaries:Py,PCFShadowMap:gw,PCFSoftShadowMap:o0,PMREMGenerator:p3,Path:Oy,PerspectiveCamera:Ui,Plane:mc,PlaneGeometry:Yc,PlaneHelper:SSe,PointLight:Mj,PointLightHelper:pSe,Points:K7,PointsMaterial:hC,PolarGridHelper:ySe,PolyhedronGeometry:bh,PositionalAudio:Vwe,PropertyBinding:Vn,PropertyMixer:Rj,QuadraticBezierCurve:gC,QuadraticBezierCurve3:vC,Quaternion:Ao,QuaternionKeyframeTrack:Bg,QuaternionLinearInterpolant:bj,RED_GREEN_RGTC2_Format:u3,RED_RGTC1_Format:d7,REVISION:mw,RGBADepthPacking:JP,RGBAFormat:Fo,RGBAIntegerFormat:YP,RGBA_ASTC_10x10_Format:r3,RGBA_ASTC_10x5_Format:e3,RGBA_ASTC_10x6_Format:t3,RGBA_ASTC_10x8_Format:n3,RGBA_ASTC_12x10_Format:i3,RGBA_ASTC_12x12_Format:a3,RGBA_ASTC_4x4_Format:$E,RGBA_ASTC_5x4_Format:qE,RGBA_ASTC_5x5_Format:XE,RGBA_ASTC_6x5_Format:YE,RGBA_ASTC_6x6_Format:KE,RGBA_ASTC_8x5_Format:ZE,RGBA_ASTC_8x6_Format:JE,RGBA_ASTC_8x8_Format:QE,RGBA_BPTC_Format:Ex,RGBA_ETC2_EAC_Format:VE,RGBA_PVRTC_2BPPV1_Format:WE,RGBA_PVRTC_4BPPV1_Format:HE,RGBA_S3TC_DXT1_Format:Sx,RGBA_S3TC_DXT3_Format:Ax,RGBA_S3TC_DXT5_Format:Mx,RGB_BPTC_SIGNED_Format:o3,RGB_BPTC_UNSIGNED_Format:s3,RGB_ETC1_Format:KP,RGB_ETC2_Format:GE,RGB_PVRTC_2BPPV1_Format:jE,RGB_PVRTC_4BPPV1_Format:zE,RGB_S3TC_DXT1_Format:wx,RGFormat:h7,RGIntegerFormat:XP,RawShaderMaterial:lj,Ray:np,Raycaster:kj,Rec709Primaries:Ty,RectAreaLight:Pj,RedFormat:$P,RedIntegerFormat:qP,ReinhardToneMapping:t7,RenderTarget:C7,RepeatWrapping:_y,ReplaceStencilOp:W0e,ReverseSubtractEquation:Nz,RingGeometry:Uw,SIGNED_RED_GREEN_RGTC2_Format:c3,SIGNED_RED_RGTC1_Format:l3,SRGBColorSpace:hl,SRGBTransfer:Dr,Scene:uC,ShaderChunk:Mn,ShaderLib:Jl,ShaderMaterial:ou,ShadowMaterial:sj,Shape:Nd,ShapeGeometry:Bw,ShapePath:ESe,ShapeUtils:Uu,ShortType:l7,Skeleton:Pw,SkeletonHelper:dSe,SkinnedMesh:$7,Source:yd,Sphere:Qa,SphereGeometry:f1,Spherical:w3,SphericalHarmonics3:Cj,SplineCurve:yC,SpotLight:Aj,SpotLightHelper:hSe,Sprite:G7,SpriteMaterial:cC,SrcAlphaFactor:n_,SrcAlphaSaturateFactor:zz,SrcColorFactor:Iz,StaticCopyUsage:sye,StaticDrawUsage:Cy,StaticReadUsage:iye,StereoCamera:jwe,StreamCopyUsage:uye,StreamDrawUsage:rye,StreamReadUsage:oye,StringKeyframeTrack:ap,SubtractEquation:Lz,SubtractiveBlending:kE,TOUCH:nd,TangentSpaceNormalMap:xh,TetrahedronGeometry:zw,Texture:yi,TextureLoader:wj,TorusGeometry:jw,TorusKnotGeometry:Hw,Triangle:Ns,TriangleFanDrawMode:j0e,TriangleStripDrawMode:z0e,TrianglesDrawMode:B0e,TubeGeometry:Ww,UVMapping:vw,Uint16BufferAttribute:rC,Uint32BufferAttribute:iC,Uint8BufferAttribute:Gye,Uint8ClampedBufferAttribute:Vye,Uniform:LC,UniformsGroup:oSe,UniformsLib:It,UniformsUtils:aC,UnsignedByteType:Fu,UnsignedInt248Type:eh,UnsignedIntType:Sc,UnsignedShort4444Type:GP,UnsignedShort5551Type:VP,UnsignedShortType:yw,VSMShadowMap:Vl,Vector2:dt,Vector3:ve,Vector4:ar,VectorKeyframeTrack:Fy,VideoTexture:$_e,WebGL1Renderer:H7,WebGL3DRenderTarget:Nye,WebGLArrayRenderTarget:Lye,WebGLCoordinateSystem:Lu,WebGLCubeRenderTarget:R7,WebGLMultipleRenderTargets:TSe,WebGLRenderTarget:au,WebGLRenderer:lC,WebGLUtils:z7,WebGPUCoordinateSystem:Ly,WireframeGeometry:oj,WrapAroundEnding:My,ZeroCurvatureEnding:gd,ZeroFactor:Oz,ZeroSlopeEnding:vd,ZeroStencilOp:H0e,_SRGBAFormat:a_,createCanvasElement:T7},Symbol.toStringTag,{value:"Module"}));var Fj={exports:{}},op={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */op.ConcurrentRoot=1;op.ContinuousEventPriority=4;op.DefaultEventPriority=16;op.DiscreteEventPriority=1;op.IdleEventPriority=536870912;op.LegacyRoot=0;Fj.exports=op;var Cm=Fj.exports;function CSe(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},i=()=>e,a=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function d(){const m=c(e);if(!f(h,m)){const x=h;u(h=m,x)}}return n.add(d),()=>n.delete(d)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?a(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const LSe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Mk=LSe?je.useEffect:je.useLayoutEffect;function NSe(t){const e=typeof t=="function"?CSe(t):t,n=(r=e.getState,i=Object.is)=>{const[,a]=je.useReducer(y=>y+1,0),o=e.getState(),s=je.useRef(o),l=je.useRef(r),u=je.useRef(i),c=je.useRef(!1),f=je.useRef();f.current===void 0&&(f.current=r(o));let h,d=!1;(s.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),d=!i(f.current,h)),Mk(()=>{d&&(f.current=h),s.current=o,l.current=r,u.current=i,c.current=!1});const m=je.useRef(o);Mk(()=>{const y=()=>{try{const _=e.getState(),b=l.current(_);u.current(f.current,b)||(s.current=_,f.current=b,a())}catch{c.current=!0,a()}},g=e.subscribe(y);return e.getState()!==m.current&&y(),g},[]);const x=d?h:f.current;return je.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const OSe=t=>typeof t=="object"&&typeof t.then=="function",bd=[];function Uj(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Bj(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const a of bd)if(Uj(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=bd.indexOf(i);a!==-1&&bd.splice(a,1)},promise:(OSe(t)?t:t(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(bd.push(i),!n)throw i.promise}const zj=(t,e,n)=>Bj(t,e,!1,n),RSe=(t,e,n)=>void Bj(t,e,!0,n),ISe=t=>{if(t===void 0||t.length===0)bd.splice(0,bd.length);else{const e=bd.find(n=>Uj(t,n.keys,n.equal));e&&e.remove()}};var jj={exports:{}},q5={exports:{}},X5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek;function kSe(){return Ek||(Ek=1,function(t){function e(B,z){var $=B.length;B.push(z);e:for(;0<$;){var X=$-1>>>1,k=B[X];if(0<i(k,z))B[X]=z,B[$]=k,$=X;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var z=B[0],$=B.pop();if($!==z){B[0]=$;e:for(var X=0,k=B.length,V=k>>>1;X<V;){var G=2*(X+1)-1,K=B[G],ne=G+1,ue=B[ne];if(0>i(K,$))ne<k&&0>i(ue,K)?(B[X]=ue,B[ne]=$,X=ne):(B[X]=K,B[G]=$,X=G);else if(ne<k&&0>i(ue,$))B[X]=ue,B[ne]=$,X=ne;else break e}}return z}function i(B,z){var $=B.sortIndex-z.sortIndex;return $!==0?$:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,m=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=B)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function S(B){if(x=!1,b(B),!m)if(n(l)!==null)m=!0,H(A);else{var z=n(u);z!==null&&q(S,z.startTime-B)}}function A(B,z){m=!1,x&&(x=!1,g(P),P=-1),d=!0;var $=h;try{for(b(z),f=n(l);f!==null&&(!(f.expirationTime>z)||B&&!C());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var k=X(f.expirationTime<=z);z=t.unstable_now(),typeof k=="function"?f.callback=k:f===n(l)&&r(l),b(z)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var G=n(u);G!==null&&q(S,G.startTime-z),V=!1}return V}finally{f=null,h=$,d=!1}}var E=!1,M=null,P=-1,D=5,N=-1;function C(){return!(t.unstable_now()-N<D)}function O(){if(M!==null){var B=t.unstable_now();N=B;var z=!0;try{z=M(!0,B)}finally{z?j():(E=!1,M=null)}}else E=!1}var j;if(typeof _=="function")j=function(){_(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Z=F.port2;F.port1.onmessage=O,j=function(){Z.postMessage(null)}}else j=function(){y(O,0)};function H(B){M=B,E||(E=!0,j())}function q(B,z){P=y(function(){B(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,H(A))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var $=h;h=z;try{return B()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=h;h=B;try{return z()}finally{h=$}},t.unstable_scheduleCallback=function(B,z,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=$+k,B={id:c++,callback:z,priorityLevel:B,startTime:$,expirationTime:k,sortIndex:-1},$>X?(B.sortIndex=$,e(u,B),n(l)===null&&B===n(u)&&(x?(g(P),P=-1):x=!0,q(S,$-X))):(B.sortIndex=k,e(l,B),m||d||(m=!0,H(A))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var z=h;return function(){var $=h;h=z;try{return B.apply(this,arguments)}finally{h=$}}}}(X5)),X5}var Tk;function DSe(){return Tk||(Tk=1,q5.exports=kSe()),q5.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FSe=function(e){var n={},r=je,i=DSe(),a=Object.assign;function o(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,T=1;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),A=Symbol.iterator;function E(p){return p===null||typeof p!="object"?null:(p=A&&p[A]||p["@@iterator"],typeof p=="function"?p:null)}function M(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case m:return(p.displayName||"Context")+".Consumer";case d:return(p._context.displayName||"Context")+".Provider";case x:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case _:return v=p.displayName||null,v!==null?v:M(p.type)||"Memo";case b:v=p._payload,p=p._init;try{return M(p(v))}catch{}}return null}function P(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(v);case 8:return v===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function D(p){var v=p,T=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,v.flags&4098&&(T=v.return),p=v.return;while(p)}return v.tag===3?T:null}function N(p){if(D(p)!==p)throw Error(o(188))}function C(p){var v=p.alternate;if(!v){if(v=D(p),v===null)throw Error(o(188));return v!==p?null:p}for(var T=p,R=v;;){var W=T.return;if(W===null)break;var Q=W.alternate;if(Q===null){if(R=W.return,R!==null){T=R;continue}break}if(W.child===Q.child){for(Q=W.child;Q;){if(Q===T)return N(W),p;if(Q===R)return N(W),v;Q=Q.sibling}throw Error(o(188))}if(T.return!==R.return)T=W,R=Q;else{for(var we=!1,Ue=W.child;Ue;){if(Ue===T){we=!0,T=W,R=Q;break}if(Ue===R){we=!0,R=W,T=Q;break}Ue=Ue.sibling}if(!we){for(Ue=Q.child;Ue;){if(Ue===T){we=!0,T=Q,R=W;break}if(Ue===R){we=!0,R=Q,T=W;break}Ue=Ue.sibling}if(!we)throw Error(o(189))}}if(T.alternate!==R)throw Error(o(190))}if(T.tag!==3)throw Error(o(188));return T.stateNode.current===T?p:v}function O(p){return p=C(p),p!==null?j(p):null}function j(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=j(p);if(v!==null)return v;p=p.sibling}return null}function F(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var v=F(p);if(v!==null)return v}p=p.sibling}return null}var Z=Array.isArray,H=e.getPublicInstance,q=e.getRootHostContext,B=e.getChildHostContext,z=e.prepareForCommit,$=e.resetAfterCommit,X=e.createInstance,k=e.appendInitialChild,V=e.finalizeInitialChildren,G=e.prepareUpdate,K=e.shouldSetTextContent,ne=e.createTextInstance,ue=e.scheduleTimeout,he=e.cancelTimeout,ce=e.noTimeout,Me=e.isPrimaryRenderer,ye=e.supportsMutation,J=e.supportsPersistence,Ee=e.supportsHydration,Ae=e.getInstanceFromNode,me=e.preparePortalMount,ie=e.getCurrentEventPriority,He=e.detachDeletedInstance,Ce=e.supportsMicrotasks,Le=e.scheduleMicrotask,Fe=e.supportsTestSelectors,te=e.findFiberRoot,ee=e.getBoundingRect,Se=e.getTextContent,Pe=e.isHiddenSubtree,Oe=e.matchAccessibilityRole,qe=e.setFocusIfFocusable,it=e.setupIntersectionObserver,at=e.appendChild,ze=e.appendChildToContainer,Ze=e.commitTextUpdate,tt=e.commitMount,ht=e.commitUpdate,Mt=e.insertBefore,Pt=e.insertInContainerBefore,ot=e.removeChild,be=e.removeChildFromContainer,Ve=e.resetTextContent,ct=e.hideInstance,xt=e.hideTextInstance,vt=e.unhideInstance,Te=e.unhideTextInstance,St=e.clearContainer,Ie=e.cloneInstance,Xe=e.createContainerChildSet,st=e.appendChildToContainerChildSet,Nt=e.finalizeContainerChildren,Et=e.replaceContainerChildren,qt=e.cloneHiddenInstance,pn=e.cloneHiddenTextInstance,At=e.canHydrateInstance,hn=e.canHydrateTextInstance,Un=e.canHydrateSuspenseInstance,dr=e.isSuspenseInstancePending,Bn=e.isSuspenseInstanceFallback,kn=e.registerSuspenseInstanceRetry,or=e.getNextHydratableSibling,ii=e.getFirstHydratableChild,sr=e.getFirstHydratableChildWithinContainer,Zr=e.getFirstHydratableChildWithinSuspenseInstance,ya=e.hydrateInstance,Zi=e.hydrateTextInstance,to=e.hydrateSuspenseInstance,pe=e.getNextHydratableInstanceAfterSuspenseInstance,We=e.commitHydratedContainer,Qe=e.commitHydratedSuspenseInstance,nt=e.clearSuspenseBoundary,Je=e.clearSuspenseBoundaryFromContainer,Ot=e.shouldDeleteUnhydratedTailInstances,jt=e.didNotMatchHydratedContainerTextInstance,Kt=e.didNotMatchHydratedTextInstance,bt;function nn(p){if(bt===void 0)try{throw Error()}catch(T){var v=T.stack.trim().match(/\n( *(at )?)/);bt=v&&v[1]||""}return`
`+bt+p}var rn=!1;function Qt(p,v){if(!p||rn)return"";rn=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Ct){var R=Ct}Reflect.construct(p,[],v)}else{try{v.call()}catch(Ct){R=Ct}p.call(v.prototype)}else{try{throw Error()}catch(Ct){R=Ct}p()}}catch(Ct){if(Ct&&R&&typeof Ct.stack=="string"){for(var W=Ct.stack.split(`
`),Q=R.stack.split(`
`),we=W.length-1,Ue=Q.length-1;1<=we&&0<=Ue&&W[we]!==Q[Ue];)Ue--;for(;1<=we&&0<=Ue;we--,Ue--)if(W[we]!==Q[Ue]){if(we!==1||Ue!==1)do if(we--,Ue--,0>Ue||W[we]!==Q[Ue]){var ft=`
`+W[we].replace(" at new "," at ");return p.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",p.displayName)),ft}while(1<=we&&0<=Ue);break}}}finally{rn=!1,Error.prepareStackTrace=T}return(p=p?p.displayName||p.name:"")?nn(p):""}var qn=Object.prototype.hasOwnProperty,Or=[],Gn=-1;function xr(p){return{current:p}}function Zt(p){0>Gn||(p.current=Or[Gn],Or[Gn]=null,Gn--)}function Ft(p,v){Gn++,Or[Gn]=p.current,p.current=v}var Li={},Ht=xr(Li),nr=xr(!1),xa=Li;function ai(p,v){var T=p.type.contextTypes;if(!T)return Li;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===v)return R.__reactInternalMemoizedMaskedChildContext;var W={},Q;for(Q in T)W[Q]=v[Q];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=W),W}function br(p){return p=p.childContextTypes,p!=null}function Xn(){Zt(nr),Zt(Ht)}function Rr(p,v,T){if(Ht.current!==Li)throw Error(o(168));Ft(Ht,v),Ft(nr,T)}function Ua(p,v,T){var R=p.stateNode;if(v=v.childContextTypes,typeof R.getChildContext!="function")return T;R=R.getChildContext();for(var W in R)if(!(W in v))throw Error(o(108,P(p)||"Unknown",W));return a({},T,R)}function Dn(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Li,xa=Ht.current,Ft(Ht,p),Ft(nr,nr.current),!0}function oi(p,v,T){var R=p.stateNode;if(!R)throw Error(o(169));T?(p=Ua(p,v,xa),R.__reactInternalMemoizedMergedChildContext=p,Zt(nr),Zt(Ht),Ft(Ht,p)):Zt(nr),Ft(nr,T)}var Wi=Math.clz32?Math.clz32:Kc,fs=Math.log,js=Math.LN2;function Kc(p){return p>>>=0,p===0?32:31-(fs(p)/js|0)|0}var Go=64,hs=4194304;function To(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Ml(p,v){var T=p.pendingLanes;if(T===0)return 0;var R=0,W=p.suspendedLanes,Q=p.pingedLanes,we=T&268435455;if(we!==0){var Ue=we&~W;Ue!==0?R=To(Ue):(Q&=we,Q!==0&&(R=To(Q)))}else we=T&~W,we!==0?R=To(we):Q!==0&&(R=To(Q));if(R===0)return 0;if(v!==0&&v!==R&&!(v&W)&&(W=R&-R,Q=v&-v,W>=Q||W===16&&(Q&4194240)!==0))return v;if(R&4&&(R|=T&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=R;0<v;)T=31-Wi(v),W=1<<T,R|=p[T],v&=~W;return R}function Zc(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(p,v){for(var T=p.suspendedLanes,R=p.pingedLanes,W=p.expirationTimes,Q=p.pendingLanes;0<Q;){var we=31-Wi(Q),Ue=1<<we,ft=W[we];ft===-1?(!(Ue&T)||Ue&R)&&(W[we]=Zc(Ue,v)):ft<=v&&(p.expiredLanes|=Ue),Q&=~Ue}}function Ji(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function ds(p){for(var v=[],T=0;31>T;T++)v.push(p);return v}function Ba(p,v,T){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-Wi(v),p[v]=T}function ps(p,v){var T=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<T;){var W=31-Wi(T),Q=1<<W;v[W]=0,R[W]=-1,p[W]=-1,T&=~Q}}function Mr(p,v){var T=p.entangledLanes|=v;for(p=p.entanglements;T;){var R=31-Wi(T),W=1<<R;W&v|p[R]&v&&(p[R]|=v),T&=~W}}var An=0;function hu(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var an=i.unstable_scheduleCallback,du=i.unstable_cancelCallback,Vu=i.unstable_shouldYield,Po=i.unstable_requestPaint,_r=i.unstable_now,Hs=i.unstable_ImmediatePriority,El=i.unstable_UserBlockingPriority,Ni=i.unstable_NormalPriority,$u=i.unstable_IdlePriority,Tl=null,za=null;function Pl(p){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(Tl,p,void 0,(p.current.flags&128)===128)}catch{}}function Ws(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var bi=typeof Object.is=="function"?Object.is:Ws,Qi=null,ba=!1,_a=!1;function Gs(p){Qi===null?Qi=[p]:Qi.push(p)}function pu(p){ba=!0,Gs(p)}function ea(){if(!_a&&Qi!==null){_a=!0;var p=0,v=An;try{var T=Qi;for(An=1;p<T.length;p++){var R=T[p];do R=R(!0);while(R!==null)}Qi=null,ba=!1}catch(W){throw Qi!==null&&(Qi=Qi.slice(p+1)),an(Hs,ea),W}finally{An=v,_a=!1}}return null}var Vs=s.ReactCurrentBatchConfig;function $s(p,v){if(bi(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var T=Object.keys(p),R=Object.keys(v);if(T.length!==R.length)return!1;for(R=0;R<T.length;R++){var W=T[R];if(!qn.call(v,W)||!bi(p[W],v[W]))return!1}return!0}function wa(p){switch(p.tag){case 5:return nn(p.type);case 16:return nn("Lazy");case 13:return nn("Suspense");case 19:return nn("SuspenseList");case 0:case 2:case 15:return p=Qt(p.type,!1),p;case 11:return p=Qt(p.type.render,!1),p;case 1:return p=Qt(p.type,!0),p;default:return""}}function zr(p,v){if(p&&p.defaultProps){v=a({},v),p=p.defaultProps;for(var T in p)v[T]===void 0&&(v[T]=p[T]);return v}return v}var _i=xr(null),Co=null,si=null,Vo=null;function $o(){Vo=si=Co=null}function Jc(p,v,T){Me?(Ft(_i,v._currentValue),v._currentValue=T):(Ft(_i,v._currentValue2),v._currentValue2=T)}function jr(p){var v=_i.current;Zt(_i),Me?p._currentValue=v:p._currentValue2=v}function ta(p,v,T){for(;p!==null;){var R=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,R!==null&&(R.childLanes|=v)):R!==null&&(R.childLanes&v)!==v&&(R.childLanes|=v),p===T)break;p=p.return}}function Er(p,v){Co=p,Vo=si=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&v&&(Pa=!0),p.firstContext=null)}function Tr(p){var v=Me?p._currentValue:p._currentValue2;if(Vo!==p)if(p={context:p,memoizedValue:v,next:null},si===null){if(Co===null)throw Error(o(308));si=p,Co.dependencies={lanes:0,firstContext:p}}else si=si.next=p;return v}var Sa=null,Lo=!1;function qu(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qc(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function qo(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function qs(p,v){var T=p.updateQueue;T!==null&&(T=T.shared,hi!==null&&p.mode&1&&!(bn&2)?(p=T.interleaved,p===null?(v.next=v,Sa===null?Sa=[T]:Sa.push(T)):(v.next=p.next,p.next=v),T.interleaved=v):(p=T.pending,p===null?v.next=v:(v.next=p.next,p.next=v),T.pending=v))}function Cl(p,v,T){if(v=v.updateQueue,v!==null&&(v=v.shared,(T&4194240)!==0)){var R=v.lanes;R&=p.pendingLanes,T|=R,v.lanes=T,Mr(p,T)}}function mu(p,v){var T=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,T===R)){var W=null,Q=null;if(T=T.firstBaseUpdate,T!==null){do{var we={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};Q===null?W=Q=we:Q=Q.next=we,T=T.next}while(T!==null);Q===null?W=Q=v:Q=Q.next=v}else W=Q=v;T={baseState:R.baseState,firstBaseUpdate:W,lastBaseUpdate:Q,shared:R.shared,effects:R.effects},p.updateQueue=T;return}p=T.lastBaseUpdate,p===null?T.firstBaseUpdate=v:p.next=v,T.lastBaseUpdate=v}function gu(p,v,T,R){var W=p.updateQueue;Lo=!1;var Q=W.firstBaseUpdate,we=W.lastBaseUpdate,Ue=W.shared.pending;if(Ue!==null){W.shared.pending=null;var ft=Ue,Ct=ft.next;ft.next=null,we===null?Q=Ct:we.next=Ct,we=ft;var Vt=p.alternate;Vt!==null&&(Vt=Vt.updateQueue,Ue=Vt.lastBaseUpdate,Ue!==we&&(Ue===null?Vt.firstBaseUpdate=Ct:Ue.next=Ct,Vt.lastBaseUpdate=ft))}if(Q!==null){var _n=W.baseState;we=0,Vt=Ct=ft=null,Ue=Q;do{var sn=Ue.lane,Cr=Ue.eventTime;if((R&sn)===sn){Vt!==null&&(Vt=Vt.next={eventTime:Cr,lane:0,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null});e:{var tn=p,oo=Ue;switch(sn=v,Cr=T,oo.tag){case 1:if(tn=oo.payload,typeof tn=="function"){_n=tn.call(Cr,_n,sn);break e}_n=tn;break e;case 3:tn.flags=tn.flags&-65537|128;case 0:if(tn=oo.payload,sn=typeof tn=="function"?tn.call(Cr,_n,sn):tn,sn==null)break e;_n=a({},_n,sn);break e;case 2:Lo=!0}}Ue.callback!==null&&Ue.lane!==0&&(p.flags|=64,sn=W.effects,sn===null?W.effects=[Ue]:sn.push(Ue))}else Cr={eventTime:Cr,lane:sn,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null},Vt===null?(Ct=Vt=Cr,ft=_n):Vt=Vt.next=Cr,we|=sn;if(Ue=Ue.next,Ue===null){if(Ue=W.shared.pending,Ue===null)break;sn=Ue,Ue=sn.next,sn.next=null,W.lastBaseUpdate=sn,W.shared.pending=null}}while(!0);if(Vt===null&&(ft=_n),W.baseState=ft,W.firstBaseUpdate=Ct,W.lastBaseUpdate=Vt,v=W.shared.interleaved,v!==null){W=v;do we|=W.lane,W=W.next;while(W!==v)}else Q===null&&(W.shared.lanes=0);bs|=we,p.lanes=we,p.memoizedState=_n}}function Ll(p,v,T){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var R=p[v],W=R.callback;if(W!==null){if(R.callback=null,R=T,typeof W!="function")throw Error(o(191,W));W.call(R)}}}var ef=new r.Component().refs;function I(p,v,T,R){v=p.memoizedState,T=T(R,v),T=T==null?v:a({},v,T),p.memoizedState=T,p.lanes===0&&(p.updateQueue.baseState=T)}var ae={isMounted:function(p){return(p=p._reactInternals)?D(p)===p:!1},enqueueSetState:function(p,v,T){p=p._reactInternals;var R=Na(),W=ws(p),Q=qo(R,W);Q.payload=v,T!=null&&(Q.callback=T),qs(p,Q),v=io(p,W,R),v!==null&&Cl(v,p,W)},enqueueReplaceState:function(p,v,T){p=p._reactInternals;var R=Na(),W=ws(p),Q=qo(R,W);Q.tag=1,Q.payload=v,T!=null&&(Q.callback=T),qs(p,Q),v=io(p,W,R),v!==null&&Cl(v,p,W)},enqueueForceUpdate:function(p,v){p=p._reactInternals;var T=Na(),R=ws(p),W=qo(T,R);W.tag=2,v!=null&&(W.callback=v),qs(p,W),v=io(p,R,T),v!==null&&Cl(v,p,R)}};function _e(p,v,T,R,W,Q,we){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,Q,we):v.prototype&&v.prototype.isPureReactComponent?!$s(T,R)||!$s(W,Q):!0}function Ne(p,v,T){var R=!1,W=Li,Q=v.contextType;return typeof Q=="object"&&Q!==null?Q=Tr(Q):(W=br(v)?xa:Ht.current,R=v.contextTypes,Q=(R=R!=null)?ai(p,W):Li),v=new v(T,Q),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ae,p.stateNode=v,v._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=W,p.__reactInternalMemoizedMaskedChildContext=Q),v}function $e(p,v,T,R){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(T,R),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(T,R),v.state!==p&&ae.enqueueReplaceState(v,v.state,null)}function ut(p,v,T,R){var W=p.stateNode;W.props=T,W.state=p.memoizedState,W.refs=ef,qu(p);var Q=v.contextType;typeof Q=="object"&&Q!==null?W.context=Tr(Q):(Q=br(v)?xa:Ht.current,W.context=ai(p,Q)),W.state=p.memoizedState,Q=v.getDerivedStateFromProps,typeof Q=="function"&&(I(p,v,Q,T),W.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(v=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),v!==W.state&&ae.enqueueReplaceState(W,W.state,null),gu(p,T,W,R),W.state=p.memoizedState),typeof W.componentDidMount=="function"&&(p.flags|=4194308)}var wt=[],kt=0,Yt=null,mn=0,en=[],gn=0,rr=null,Yn=1,lr="";function Jr(p,v){wt[kt++]=mn,wt[kt++]=Yt,Yt=p,mn=v}function Oi(p,v,T){en[gn++]=Yn,en[gn++]=lr,en[gn++]=rr,rr=p;var R=Yn;p=lr;var W=32-Wi(R)-1;R&=~(1<<W),T+=1;var Q=32-Wi(v)+W;if(30<Q){var we=W-W%5;Q=(R&(1<<we)-1).toString(32),R>>=we,W-=we,Yn=1<<32-Wi(v)+W|T<<W|R,lr=Q+p}else Yn=1<<Q|T<<W|R,lr=p}function No(p){p.return!==null&&(Jr(p,1),Oi(p,1,0))}function ja(p){for(;p===Yt;)Yt=wt[--kt],wt[kt]=null,mn=wt[--kt],wt[kt]=null;for(;p===rr;)rr=en[--gn],en[gn]=null,lr=en[--gn],en[gn]=null,Yn=en[--gn],en[gn]=null}var Qr=null,Aa=null,ur=!1,Nl=!1,Ma=null;function tf(p,v){var T=ol(5,null,null,0);T.elementType="DELETED",T.stateNode=v,T.return=p,v=p.deletions,v===null?(p.deletions=[T],p.flags|=16):v.push(T)}function nf(p,v){switch(p.tag){case 5:return v=At(v,p.type,p.pendingProps),v!==null?(p.stateNode=v,Qr=p,Aa=ii(v),!0):!1;case 6:return v=hn(v,p.pendingProps),v!==null?(p.stateNode=v,Qr=p,Aa=null,!0):!1;case 13:if(v=Un(v),v!==null){var T=rr!==null?{id:Yn,overflow:lr}:null;return p.memoizedState={dehydrated:v,treeContext:T,retryLane:1073741824},T=ol(18,null,null,0),T.stateNode=v,T.return=p,p.child=T,Qr=p,Aa=null,!0}return!1;default:return!1}}function vu(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Ri(p){if(ur){var v=Aa;if(v){var T=v;if(!nf(p,v)){if(vu(p))throw Error(o(418));v=or(T);var R=Qr;v&&nf(p,v)?tf(R,T):(p.flags=p.flags&-4097|2,ur=!1,Qr=p)}}else{if(vu(p))throw Error(o(418));p.flags=p.flags&-4097|2,ur=!1,Qr=p}}}function Xu(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Qr=p}function Xs(p){if(!Ee||p!==Qr)return!1;if(!ur)return Xu(p),ur=!0,!1;if(p.tag!==3&&(p.tag!==5||Ot(p.type)&&!K(p.type,p.memoizedProps))){var v=Aa;if(v){if(vu(p)){for(p=Aa;p;)p=or(p);throw Error(o(418))}for(;v;)tf(p,v),v=or(v)}}if(Xu(p),p.tag===13){if(!Ee)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));Aa=pe(p)}else Aa=Qr?or(p.stateNode):null;return!0}function ms(){Ee&&(Aa=Qr=null,Nl=ur=!1)}function Yu(p){Ma===null?Ma=[p]:Ma.push(p)}function Gi(p,v,T){if(p=T.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(o(309));var R=T.stateNode}if(!R)throw Error(o(147,p));var W=R,Q=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===Q?v.ref:(v=function(we){var Ue=W.refs;Ue===ef&&(Ue=W.refs={}),we===null?delete Ue[Q]:Ue[Q]=we},v._stringRef=Q,v)}if(typeof p!="string")throw Error(o(284));if(!T._owner)throw Error(o(290,p))}return p}function rf(p,v){throw p=Object.prototype.toString.call(v),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function af(p){var v=p._init;return v(p._payload)}function wh(p){function v(et,Ge){if(p){var lt=et.deletions;lt===null?(et.deletions=[Ge],et.flags|=16):lt.push(Ge)}}function T(et,Ge){if(!p)return null;for(;Ge!==null;)v(et,Ge),Ge=Ge.sibling;return null}function R(et,Ge){for(et=new Map;Ge!==null;)Ge.key!==null?et.set(Ge.key,Ge):et.set(Ge.index,Ge),Ge=Ge.sibling;return et}function W(et,Ge){return et=yf(et,Ge),et.index=0,et.sibling=null,et}function Q(et,Ge,lt){return et.index=lt,p?(lt=et.alternate,lt!==null?(lt=lt.index,lt<Ge?(et.flags|=2,Ge):lt):(et.flags|=2,Ge)):(et.flags|=1048576,Ge)}function we(et){return p&&et.alternate===null&&(et.flags|=2),et}function Ue(et,Ge,lt,Bt){return Ge===null||Ge.tag!==6?(Ge=aS(lt,et.mode,Bt),Ge.return=et,Ge):(Ge=W(Ge,lt),Ge.return=et,Ge)}function ft(et,Ge,lt,Bt){var Jt=lt.type;return Jt===c?Vt(et,Ge,lt.props.children,Bt,lt.key):Ge!==null&&(Ge.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===b&&af(Jt)===Ge.type)?(Bt=W(Ge,lt.props),Bt.ref=Gi(et,Ge,lt),Bt.return=et,Bt):(Bt=C1(lt.type,lt.key,lt.props,null,et.mode,Bt),Bt.ref=Gi(et,Ge,lt),Bt.return=et,Bt)}function Ct(et,Ge,lt,Bt){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==lt.containerInfo||Ge.stateNode.implementation!==lt.implementation?(Ge=oS(lt,et.mode,Bt),Ge.return=et,Ge):(Ge=W(Ge,lt.children||[]),Ge.return=et,Ge)}function Vt(et,Ge,lt,Bt,Jt){return Ge===null||Ge.tag!==7?(Ge=Ih(lt,et.mode,Bt,Jt),Ge.return=et,Ge):(Ge=W(Ge,lt),Ge.return=et,Ge)}function _n(et,Ge,lt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Ge=aS(""+Ge,et.mode,lt),Ge.return=et,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return lt=C1(Ge.type,Ge.key,Ge.props,null,et.mode,lt),lt.ref=Gi(et,null,Ge),lt.return=et,lt;case u:return Ge=oS(Ge,et.mode,lt),Ge.return=et,Ge;case b:var Bt=Ge._init;return _n(et,Bt(Ge._payload),lt)}if(Z(Ge)||E(Ge))return Ge=Ih(Ge,et.mode,lt,null),Ge.return=et,Ge;rf(et,Ge)}return null}function sn(et,Ge,lt,Bt){var Jt=Ge!==null?Ge.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number")return Jt!==null?null:Ue(et,Ge,""+lt,Bt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case l:return lt.key===Jt?ft(et,Ge,lt,Bt):null;case u:return lt.key===Jt?Ct(et,Ge,lt,Bt):null;case b:return Jt=lt._init,sn(et,Ge,Jt(lt._payload),Bt)}if(Z(lt)||E(lt))return Jt!==null?null:Vt(et,Ge,lt,Bt,null);rf(et,lt)}return null}function Cr(et,Ge,lt,Bt,Jt){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return et=et.get(lt)||null,Ue(Ge,et,""+Bt,Jt);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case l:return et=et.get(Bt.key===null?lt:Bt.key)||null,ft(Ge,et,Bt,Jt);case u:return et=et.get(Bt.key===null?lt:Bt.key)||null,Ct(Ge,et,Bt,Jt);case b:var Pn=Bt._init;return Cr(et,Ge,lt,Pn(Bt._payload),Jt)}if(Z(Bt)||E(Bt))return et=et.get(lt)||null,Vt(Ge,et,Bt,Jt,null);rf(Ge,Bt)}return null}function tn(et,Ge,lt,Bt){for(var Jt=null,Pn=null,wn=Ge,Zn=Ge=0,Oa=null;wn!==null&&Zn<lt.length;Zn++){wn.index>Zn?(Oa=wn,wn=null):Oa=wn.sibling;var Jn=sn(et,wn,lt[Zn],Bt);if(Jn===null){wn===null&&(wn=Oa);break}p&&wn&&Jn.alternate===null&&v(et,wn),Ge=Q(Jn,Ge,Zn),Pn===null?Jt=Jn:Pn.sibling=Jn,Pn=Jn,wn=Oa}if(Zn===lt.length)return T(et,wn),ur&&Jr(et,Zn),Jt;if(wn===null){for(;Zn<lt.length;Zn++)wn=_n(et,lt[Zn],Bt),wn!==null&&(Ge=Q(wn,Ge,Zn),Pn===null?Jt=wn:Pn.sibling=wn,Pn=wn);return ur&&Jr(et,Zn),Jt}for(wn=R(et,wn);Zn<lt.length;Zn++)Oa=Cr(wn,et,Zn,lt[Zn],Bt),Oa!==null&&(p&&Oa.alternate!==null&&wn.delete(Oa.key===null?Zn:Oa.key),Ge=Q(Oa,Ge,Zn),Pn===null?Jt=Oa:Pn.sibling=Oa,Pn=Oa);return p&&wn.forEach(function(xf){return v(et,xf)}),ur&&Jr(et,Zn),Jt}function oo(et,Ge,lt,Bt){var Jt=E(lt);if(typeof Jt!="function")throw Error(o(150));if(lt=Jt.call(lt),lt==null)throw Error(o(151));for(var Pn=Jt=null,wn=Ge,Zn=Ge=0,Oa=null,Jn=lt.next();wn!==null&&!Jn.done;Zn++,Jn=lt.next()){wn.index>Zn?(Oa=wn,wn=null):Oa=wn.sibling;var xf=sn(et,wn,Jn.value,Bt);if(xf===null){wn===null&&(wn=Oa);break}p&&wn&&xf.alternate===null&&v(et,wn),Ge=Q(xf,Ge,Zn),Pn===null?Jt=xf:Pn.sibling=xf,Pn=xf,wn=Oa}if(Jn.done)return T(et,wn),ur&&Jr(et,Zn),Jt;if(wn===null){for(;!Jn.done;Zn++,Jn=lt.next())Jn=_n(et,Jn.value,Bt),Jn!==null&&(Ge=Q(Jn,Ge,Zn),Pn===null?Jt=Jn:Pn.sibling=Jn,Pn=Jn);return ur&&Jr(et,Zn),Jt}for(wn=R(et,wn);!Jn.done;Zn++,Jn=lt.next())Jn=Cr(wn,et,Zn,Jn.value,Bt),Jn!==null&&(p&&Jn.alternate!==null&&wn.delete(Jn.key===null?Zn:Jn.key),Ge=Q(Jn,Ge,Zn),Pn===null?Jt=Jn:Pn.sibling=Jn,Pn=Jn);return p&&wn.forEach(function($9){return v(et,$9)}),ur&&Jr(et,Zn),Jt}function sl(et,Ge,lt,Bt){if(typeof lt=="object"&&lt!==null&&lt.type===c&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case l:e:{for(var Jt=lt.key,Pn=Ge;Pn!==null;){if(Pn.key===Jt){if(Jt=lt.type,Jt===c){if(Pn.tag===7){T(et,Pn.sibling),Ge=W(Pn,lt.props.children),Ge.return=et,et=Ge;break e}}else if(Pn.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===b&&af(Jt)===Pn.type){T(et,Pn.sibling),Ge=W(Pn,lt.props),Ge.ref=Gi(et,Pn,lt),Ge.return=et,et=Ge;break e}T(et,Pn);break}else v(et,Pn);Pn=Pn.sibling}lt.type===c?(Ge=Ih(lt.props.children,et.mode,Bt,lt.key),Ge.return=et,et=Ge):(Bt=C1(lt.type,lt.key,lt.props,null,et.mode,Bt),Bt.ref=Gi(et,Ge,lt),Bt.return=et,et=Bt)}return we(et);case u:e:{for(Pn=lt.key;Ge!==null;){if(Ge.key===Pn)if(Ge.tag===4&&Ge.stateNode.containerInfo===lt.containerInfo&&Ge.stateNode.implementation===lt.implementation){T(et,Ge.sibling),Ge=W(Ge,lt.children||[]),Ge.return=et,et=Ge;break e}else{T(et,Ge);break}else v(et,Ge);Ge=Ge.sibling}Ge=oS(lt,et.mode,Bt),Ge.return=et,et=Ge}return we(et);case b:return Pn=lt._init,sl(et,Ge,Pn(lt._payload),Bt)}if(Z(lt))return tn(et,Ge,lt,Bt);if(E(lt))return oo(et,Ge,lt,Bt);rf(et,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"?(lt=""+lt,Ge!==null&&Ge.tag===6?(T(et,Ge.sibling),Ge=W(Ge,lt),Ge.return=et,et=Ge):(T(et,Ge),Ge=aS(lt,et.mode,Bt),Ge.return=et,et=Ge),we(et)):T(et,Ge)}return sl}var na=wh(!0),Ku=wh(!1),yu={},Ha=xr(yu),Xo=xr(yu),Yo=xr(yu);function Hr(p){if(p===yu)throw Error(o(174));return p}function ra(p,v){Ft(Yo,v),Ft(Xo,p),Ft(Ha,yu),p=q(v),Zt(Ha),Ft(Ha,p)}function Oo(){Zt(Ha),Zt(Xo),Zt(Yo)}function Ys(p){var v=Hr(Yo.current),T=Hr(Ha.current);v=B(T,p.type,v),T!==v&&(Ft(Xo,p),Ft(Ha,v))}function gs(p){Xo.current===p&&(Zt(Ha),Zt(Xo))}var cr=xr(0);function Ko(p){for(var v=p;v!==null;){if(v.tag===13){var T=v.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||dr(T)||Bn(T)))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(v.flags&128)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Wr=[];function Zu(){for(var p=0;p<Wr.length;p++){var v=Wr[p];Me?v._workInProgressVersionPrimary=null:v._workInProgressVersionSecondary=null}Wr.length=0}var Vi=s.ReactCurrentDispatcher,Gr=s.ReactCurrentBatchConfig,vs=0,Pr=null,wi=null,Ir=null,Ks=!1,Zo=!1,ys=0,of=0;function ei(){throw Error(o(321))}function Zs(p,v){if(v===null)return!1;for(var T=0;T<v.length&&T<p.length;T++)if(!bi(p[T],v[T]))return!1;return!0}function Ju(p,v,T,R,W,Q){if(vs=Q,Pr=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Vi.current=p===null||p.memoizedState===null?Th:Jw,p=T(R,W),Zo){Q=0;do{if(Zo=!1,ys=0,25<=Q)throw Error(o(301));Q+=1,Ir=wi=null,v.updateQueue=null,Vi.current=Qw,p=T(R,W)}while(Zo)}if(Vi.current=cf,v=wi!==null&&wi.next!==null,vs=0,Ir=wi=Pr=null,Ks=!1,v)throw Error(o(300));return p}function no(){var p=ys!==0;return ys=0,p}function Si(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?Pr.memoizedState=Ir=p:Ir=Ir.next=p,Ir}function Nn(){if(wi===null){var p=Pr.alternate;p=p!==null?p.memoizedState:null}else p=wi.next;var v=Ir===null?Pr.memoizedState:Ir.next;if(v!==null)Ir=v,wi=p;else{if(p===null)throw Error(o(310));wi=p,p={memoizedState:wi.memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},Ir===null?Pr.memoizedState=Ir=p:Ir=Ir.next=p}return Ir}function Hn(p,v){return typeof v=="function"?v(p):v}function kr(p){var v=Nn(),T=v.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=p;var R=wi,W=R.baseQueue,Q=T.pending;if(Q!==null){if(W!==null){var we=W.next;W.next=Q.next,Q.next=we}R.baseQueue=W=Q,T.pending=null}if(W!==null){Q=W.next,R=R.baseState;var Ue=we=null,ft=null,Ct=Q;do{var Vt=Ct.lane;if((vs&Vt)===Vt)ft!==null&&(ft=ft.next={lane:0,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),R=Ct.hasEagerState?Ct.eagerState:p(R,Ct.action);else{var _n={lane:Vt,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};ft===null?(Ue=ft=_n,we=R):ft=ft.next=_n,Pr.lanes|=Vt,bs|=Vt}Ct=Ct.next}while(Ct!==null&&Ct!==Q);ft===null?we=R:ft.next=Ue,bi(R,v.memoizedState)||(Pa=!0),v.memoizedState=R,v.baseState=we,v.baseQueue=ft,T.lastRenderedState=R}if(p=T.interleaved,p!==null){W=p;do Q=W.lane,Pr.lanes|=Q,bs|=Q,W=W.next;while(W!==p)}else W===null&&(T.lanes=0);return[v.memoizedState,T.dispatch]}function ti(p){var v=Nn(),T=v.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=p;var R=T.dispatch,W=T.pending,Q=v.memoizedState;if(W!==null){T.pending=null;var we=W=W.next;do Q=p(Q,we.action),we=we.next;while(we!==W);bi(Q,v.memoizedState)||(Pa=!0),v.memoizedState=Q,v.baseQueue===null&&(v.baseState=Q),T.lastRenderedState=Q}return[Q,R]}function Js(){}function sf(p,v){var T=Pr,R=Nn(),W=v(),Q=!bi(R.memoizedState,W);if(Q&&(R.memoizedState=W,Pa=!0),R=R.queue,xu(lp.bind(null,T,R,p),[p]),R.getSnapshot!==v||Q||Ir!==null&&Ir.memoizedState.tag&1){if(T.flags|=2048,Ea(9,Sh.bind(null,T,R,W,v),void 0,null),hi===null)throw Error(o(349));vs&30||Qu(T,v,W)}return W}function Qu(p,v,T){p.flags|=16384,p={getSnapshot:v,value:T},v=Pr.updateQueue,v===null?(v={lastEffect:null,stores:null},Pr.updateQueue=v,v.stores=[p]):(T=v.stores,T===null?v.stores=[p]:T.push(p))}function Sh(p,v,T,R){v.value=T,v.getSnapshot=R,Ah(v)&&io(p,1,-1)}function lp(p,v,T){return T(function(){Ah(v)&&io(p,1,-1)})}function Ah(p){var v=p.getSnapshot;p=p.value;try{var T=v();return!bi(p,T)}catch{return!0}}function Wa(p){var v=Si();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:p},v.queue=p,p=p.dispatch=Zw.bind(null,Pr,p),[v.memoizedState,p]}function Ea(p,v,T,R){return p={tag:p,create:v,destroy:T,deps:R,next:null},v=Pr.updateQueue,v===null?(v={lastEffect:null,stores:null},Pr.updateQueue=v,v.lastEffect=p.next=p):(T=v.lastEffect,T===null?v.lastEffect=p.next=p:(R=T.next,T.next=p,p.next=R,v.lastEffect=p)),p}function Mh(){return Nn().memoizedState}function ec(p,v,T,R){var W=Si();Pr.flags|=p,W.memoizedState=Ea(1|v,T,void 0,R===void 0?null:R)}function Eh(p,v,T,R){var W=Nn();R=R===void 0?null:R;var Q=void 0;if(wi!==null){var we=wi.memoizedState;if(Q=we.destroy,R!==null&&Zs(R,we.deps)){W.memoizedState=Ea(v,T,Q,R);return}}Pr.flags|=p,W.memoizedState=Ea(1|v,T,Q,R)}function lf(p,v){return ec(8390656,8,p,v)}function xu(p,v){return Eh(2048,8,p,v)}function up(p,v){return Eh(4,2,p,v)}function jg(p,v){return Eh(4,4,p,v)}function cp(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function fp(p,v,T){return T=T!=null?T.concat([p]):null,Eh(4,4,cp.bind(null,v,p),T)}function uf(){}function hp(p,v){var T=Nn();v=v===void 0?null:v;var R=T.memoizedState;return R!==null&&v!==null&&Zs(v,R[1])?R[0]:(T.memoizedState=[p,v],p)}function p1(p,v){var T=Nn();v=v===void 0?null:v;var R=T.memoizedState;return R!==null&&v!==null&&Zs(v,R[1])?R[0]:(p=p(),T.memoizedState=[p,v],p)}function Yw(p,v){var T=An;An=T!==0&&4>T?T:4,p(!0);var R=Gr.transition;Gr.transition={};try{p(!1),v()}finally{An=T,Gr.transition=R}}function Hg(){return Nn().memoizedState}function Kw(p,v,T){var R=ws(p);T={lane:R,action:T,hasEagerState:!1,eagerState:null,next:null},m1(p)?g1(v,T):(v1(p,v,T),T=Na(),p=io(p,R,T),p!==null&&dp(p,v,R))}function Zw(p,v,T){var R=ws(p),W={lane:R,action:T,hasEagerState:!1,eagerState:null,next:null};if(m1(p))g1(v,W);else{v1(p,v,W);var Q=p.alternate;if(p.lanes===0&&(Q===null||Q.lanes===0)&&(Q=v.lastRenderedReducer,Q!==null))try{var we=v.lastRenderedState,Ue=Q(we,T);if(W.hasEagerState=!0,W.eagerState=Ue,bi(Ue,we))return}catch{}finally{}T=Na(),p=io(p,R,T),p!==null&&dp(p,v,R)}}function m1(p){var v=p.alternate;return p===Pr||v!==null&&v===Pr}function g1(p,v){Zo=Ks=!0;var T=p.pending;T===null?v.next=v:(v.next=T.next,T.next=v),p.pending=v}function v1(p,v,T){hi!==null&&p.mode&1&&!(bn&2)?(p=v.interleaved,p===null?(T.next=T,Sa===null?Sa=[v]:Sa.push(v)):(T.next=p.next,p.next=T),v.interleaved=T):(p=v.pending,p===null?T.next=T:(T.next=p.next,p.next=T),v.pending=T)}function dp(p,v,T){if(T&4194240){var R=v.lanes;R&=p.pendingLanes,T|=R,v.lanes=T,Mr(p,T)}}var cf={readContext:Tr,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},Th={readContext:Tr,useCallback:function(p,v){return Si().memoizedState=[p,v===void 0?null:v],p},useContext:Tr,useEffect:lf,useImperativeHandle:function(p,v,T){return T=T!=null?T.concat([p]):null,ec(4194308,4,cp.bind(null,v,p),T)},useLayoutEffect:function(p,v){return ec(4194308,4,p,v)},useInsertionEffect:function(p,v){return ec(4,2,p,v)},useMemo:function(p,v){var T=Si();return v=v===void 0?null:v,p=p(),T.memoizedState=[p,v],p},useReducer:function(p,v,T){var R=Si();return v=T!==void 0?T(v):v,R.memoizedState=R.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},R.queue=p,p=p.dispatch=Kw.bind(null,Pr,p),[R.memoizedState,p]},useRef:function(p){var v=Si();return p={current:p},v.memoizedState=p},useState:Wa,useDebugValue:uf,useDeferredValue:function(p){var v=Wa(p),T=v[0],R=v[1];return lf(function(){var W=Gr.transition;Gr.transition={};try{R(p)}finally{Gr.transition=W}},[p]),T},useTransition:function(){var p=Wa(!1),v=p[0];return p=Yw.bind(null,p[1]),Si().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,T){var R=Pr,W=Si();if(ur){if(T===void 0)throw Error(o(407));T=T()}else{if(T=v(),hi===null)throw Error(o(349));vs&30||Qu(R,v,T)}W.memoizedState=T;var Q={value:T,getSnapshot:v};return W.queue=Q,lf(lp.bind(null,R,Q,p),[p]),R.flags|=2048,Ea(9,Sh.bind(null,R,Q,T,v),void 0,null),T},useId:function(){var p=Si(),v=hi.identifierPrefix;if(ur){var T=lr,R=Yn;T=(R&~(1<<32-Wi(R)-1)).toString(32)+T,v=":"+v+"R"+T,T=ys++,0<T&&(v+="H"+T.toString(32)),v+=":"}else T=of++,v=":"+v+"r"+T.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Jw={readContext:Tr,useCallback:hp,useContext:Tr,useEffect:xu,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:jg,useMemo:p1,useReducer:kr,useRef:Mh,useState:function(){return kr(Hn)},useDebugValue:uf,useDeferredValue:function(p){var v=kr(Hn),T=v[0],R=v[1];return xu(function(){var W=Gr.transition;Gr.transition={};try{R(p)}finally{Gr.transition=W}},[p]),T},useTransition:function(){var p=kr(Hn)[0],v=Nn().memoizedState;return[p,v]},useMutableSource:Js,useSyncExternalStore:sf,useId:Hg,unstable_isNewReconciler:!1},Qw={readContext:Tr,useCallback:hp,useContext:Tr,useEffect:xu,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:jg,useMemo:p1,useReducer:ti,useRef:Mh,useState:function(){return ti(Hn)},useDebugValue:uf,useDeferredValue:function(p){var v=ti(Hn),T=v[0],R=v[1];return xu(function(){var W=Gr.transition;Gr.transition={};try{R(p)}finally{Gr.transition=W}},[p]),T},useTransition:function(){var p=ti(Hn)[0],v=Nn().memoizedState;return[p,v]},useMutableSource:Js,useSyncExternalStore:sf,useId:Hg,unstable_isNewReconciler:!1};function pp(p,v){try{var T="",R=v;do T+=wa(R),R=R.return;while(R);var W=T}catch(Q){W=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:p,source:v,stack:W}}function Wg(p,v){try{console.error(v.value)}catch(T){setTimeout(function(){throw T})}}var eS=typeof WeakMap=="function"?WeakMap:Map;function y1(p,v,T){T=qo(-1,T),T.tag=3,T.payload={element:null};var R=v.value;return T.callback=function(){xp||(xp=!0,Jg=R),Wg(p,v)},T}function x1(p,v,T){T=qo(-1,T),T.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var W=v.value;T.payload=function(){return R(W)},T.callback=function(){Wg(p,v)}}var Q=p.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(T.callback=function(){Wg(p,v),typeof R!="function"&&(il===null?il=new Set([this]):il.add(this));var we=v.stack;this.componentDidCatch(v.value,{componentStack:we!==null?we:""})}),T}function Ol(p,v,T){var R=p.pingCache;if(R===null){R=p.pingCache=new eS;var W=new Set;R.set(v,W)}else W=R.get(v),W===void 0&&(W=new Set,R.set(v,W));W.has(T)||(W.add(T),p=rv.bind(null,p,v,T),v.then(p,p))}function Jo(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function Qs(p,v,T,R,W){return p.mode&1?(p.flags|=65536,p.lanes=W,p):(p===v?p.flags|=65536:(p.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(v=qo(-1,1),v.tag=2,qs(T,v))),T.lanes|=1),p)}function el(p){p.flags|=4}function Gg(p,v){if(p!==null&&p.child===v.child)return!0;if(v.flags&16)return!1;for(p=v.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var Qo,Ta,mp,gp;if(ye)Qo=function(p,v){for(var T=v.child;T!==null;){if(T.tag===5||T.tag===6)k(p,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===v)break;for(;T.sibling===null;){if(T.return===null||T.return===v)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Ta=function(){},mp=function(p,v,T,R,W){if(p=p.memoizedProps,p!==R){var Q=v.stateNode,we=Hr(Ha.current);T=G(Q,T,p,R,W,we),(v.updateQueue=T)&&el(v)}},gp=function(p,v,T,R){T!==R&&el(v)};else if(J){Qo=function(p,v,T,R){for(var W=v.child;W!==null;){if(W.tag===5){var Q=W.stateNode;T&&R&&(Q=qt(Q,W.type,W.memoizedProps,W)),k(p,Q)}else if(W.tag===6)Q=W.stateNode,T&&R&&(Q=pn(Q,W.memoizedProps,W)),k(p,Q);else if(W.tag!==4){if(W.tag===22&&W.memoizedState!==null)Q=W.child,Q!==null&&(Q.return=W),Qo(p,W,!0,!0);else if(W.child!==null){W.child.return=W,W=W.child;continue}}if(W===v)break;for(;W.sibling===null;){if(W.return===null||W.return===v)return;W=W.return}W.sibling.return=W.return,W=W.sibling}};var Vg=function(p,v,T,R){for(var W=v.child;W!==null;){if(W.tag===5){var Q=W.stateNode;T&&R&&(Q=qt(Q,W.type,W.memoizedProps,W)),st(p,Q)}else if(W.tag===6)Q=W.stateNode,T&&R&&(Q=pn(Q,W.memoizedProps,W)),st(p,Q);else if(W.tag!==4){if(W.tag===22&&W.memoizedState!==null)Q=W.child,Q!==null&&(Q.return=W),Vg(p,W,!0,!0);else if(W.child!==null){W.child.return=W,W=W.child;continue}}if(W===v)break;for(;W.sibling===null;){if(W.return===null||W.return===v)return;W=W.return}W.sibling.return=W.return,W=W.sibling}};Ta=function(p,v){var T=v.stateNode;if(!Gg(p,v)){p=T.containerInfo;var R=Xe(p);Vg(R,v,!1,!1),T.pendingChildren=R,el(v),Nt(p,R)}},mp=function(p,v,T,R,W){var Q=p.stateNode,we=p.memoizedProps;if((p=Gg(p,v))&&we===R)v.stateNode=Q;else{var Ue=v.stateNode,ft=Hr(Ha.current),Ct=null;we!==R&&(Ct=G(Ue,T,we,R,W,ft)),p&&Ct===null?v.stateNode=Q:(Q=Ie(Q,Ct,T,we,R,v,p,Ue),V(Q,T,R,W,ft)&&el(v),v.stateNode=Q,p?el(v):Qo(Q,v,!1,!1))}},gp=function(p,v,T,R){T!==R?(p=Hr(Yo.current),T=Hr(Ha.current),v.stateNode=ne(R,p,T,v),el(v)):v.stateNode=p.stateNode}}else Ta=function(){},mp=function(){},gp=function(){};function ff(p,v){if(!ur)switch(p.tailMode){case"hidden":v=p.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?p.tail=null:T.sibling=null;break;case"collapsed":T=p.tail;for(var R=null;T!==null;)T.alternate!==null&&(R=T),T=T.sibling;R===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function ia(p){var v=p.alternate!==null&&p.alternate.child===p.child,T=0,R=0;if(v)for(var W=p.child;W!==null;)T|=W.lanes|W.childLanes,R|=W.subtreeFlags&14680064,R|=W.flags&14680064,W.return=p,W=W.sibling;else for(W=p.child;W!==null;)T|=W.lanes|W.childLanes,R|=W.subtreeFlags,R|=W.flags,W.return=p,W=W.sibling;return p.subtreeFlags|=R,p.childLanes=T,v}function b1(p,v,T){var R=v.pendingProps;switch(ja(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ia(v),null;case 1:return br(v.type)&&Xn(),ia(v),null;case 3:return R=v.stateNode,Oo(),Zt(nr),Zt(Ht),Zu(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(Xs(v)?el(v):p===null||p.memoizedState.isDehydrated&&!(v.flags&256)||(v.flags|=1024,Ma!==null&&(wp(Ma),Ma=null))),Ta(p,v),ia(v),null;case 5:gs(v),T=Hr(Yo.current);var W=v.type;if(p!==null&&v.stateNode!=null)mp(p,v,W,R,T),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!R){if(v.stateNode===null)throw Error(o(166));return ia(v),null}if(p=Hr(Ha.current),Xs(v)){if(!Ee)throw Error(o(175));p=ya(v.stateNode,v.type,v.memoizedProps,T,p,v,!Nl),v.updateQueue=p,p!==null&&el(v)}else{var Q=X(W,R,T,p,v);Qo(Q,v,!1,!1),v.stateNode=Q,V(Q,W,R,T,p)&&el(v)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return ia(v),null;case 6:if(p&&v.stateNode!=null)gp(p,v,p.memoizedProps,R);else{if(typeof R!="string"&&v.stateNode===null)throw Error(o(166));if(p=Hr(Yo.current),T=Hr(Ha.current),Xs(v)){if(!Ee)throw Error(o(176));if(p=v.stateNode,R=v.memoizedProps,(T=Zi(p,R,v,!Nl))&&(W=Qr,W!==null))switch(Q=(W.mode&1)!==0,W.tag){case 3:jt(W.stateNode.containerInfo,p,R,Q);break;case 5:Kt(W.type,W.memoizedProps,W.stateNode,p,R,Q)}T&&el(v)}else v.stateNode=ne(R,p,T,v)}return ia(v),null;case 13:if(Zt(cr),R=v.memoizedState,ur&&Aa!==null&&v.mode&1&&!(v.flags&128)){for(p=Aa;p;)p=or(p);return ms(),v.flags|=98560,v}if(R!==null&&R.dehydrated!==null){if(R=Xs(v),p===null){if(!R)throw Error(o(318));if(!Ee)throw Error(o(344));if(p=v.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));to(p,v)}else ms(),!(v.flags&128)&&(v.memoizedState=null),v.flags|=4;return ia(v),null}return Ma!==null&&(wp(Ma),Ma=null),v.flags&128?(v.lanes=T,v):(R=R!==null,T=!1,p===null?Xs(v):T=p.memoizedState!==null,R&&!T&&(v.child.flags|=8192,v.mode&1&&(p===null||cr.current&1?ir===0&&(ir=3):Sp())),v.updateQueue!==null&&(v.flags|=4),ia(v),null);case 4:return Oo(),Ta(p,v),p===null&&me(v.stateNode.containerInfo),ia(v),null;case 10:return jr(v.type._context),ia(v),null;case 17:return br(v.type)&&Xn(),ia(v),null;case 19:if(Zt(cr),W=v.memoizedState,W===null)return ia(v),null;if(R=(v.flags&128)!==0,Q=W.rendering,Q===null)if(R)ff(W,!1);else{if(ir!==0||p!==null&&p.flags&128)for(p=v.child;p!==null;){if(Q=Ko(p),Q!==null){for(v.flags|=128,ff(W,!1),p=Q.updateQueue,p!==null&&(v.updateQueue=p,v.flags|=4),v.subtreeFlags=0,p=T,R=v.child;R!==null;)T=R,W=p,T.flags&=14680066,Q=T.alternate,Q===null?(T.childLanes=0,T.lanes=W,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=Q.childLanes,T.lanes=Q.lanes,T.child=Q.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=Q.memoizedProps,T.memoizedState=Q.memoizedState,T.updateQueue=Q.updateQueue,T.type=Q.type,W=Q.dependencies,T.dependencies=W===null?null:{lanes:W.lanes,firstContext:W.firstContext}),R=R.sibling;return Ft(cr,cr.current&1|2),v.child}p=p.sibling}W.tail!==null&&_r()>mf&&(v.flags|=128,R=!0,ff(W,!1),v.lanes=4194304)}else{if(!R)if(p=Ko(Q),p!==null){if(v.flags|=128,R=!0,p=p.updateQueue,p!==null&&(v.updateQueue=p,v.flags|=4),ff(W,!0),W.tail===null&&W.tailMode==="hidden"&&!Q.alternate&&!ur)return ia(v),null}else 2*_r()-W.renderingStartTime>mf&&T!==1073741824&&(v.flags|=128,R=!0,ff(W,!1),v.lanes=4194304);W.isBackwards?(Q.sibling=v.child,v.child=Q):(p=W.last,p!==null?p.sibling=Q:v.child=Q,W.last=Q)}return W.tail!==null?(v=W.tail,W.rendering=v,W.tail=v.sibling,W.renderingStartTime=_r(),v.sibling=null,p=cr.current,Ft(cr,R?p&1|2:p&1),v):(ia(v),null);case 22:case 23:return nv(),R=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(v.flags|=8192),R&&v.mode&1?sa&1073741824&&(ia(v),ye&&v.subtreeFlags&6&&(v.flags|=8192)):ia(v),null;case 24:return null;case 25:return null}throw Error(o(156,v.tag))}var tS=s.ReactCurrentOwner,Pa=!1;function $i(p,v,T,R){v.child=p===null?Ku(v,null,T,R):na(v,p.child,T,R)}function hf(p,v,T,R,W){T=T.render;var Q=v.ref;return Er(v,W),R=Ju(p,v,T,R,Q,W),T=no(),p!==null&&!Pa?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~W,re(p,v,W)):(ur&&T&&No(v),v.flags|=1,$i(p,v,R,W),v.child)}function vp(p,v,T,R,W){if(p===null){var Q=T.type;return typeof Q=="function"&&!iS(Q)&&Q.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(v.tag=15,v.type=Q,$g(p,v,Q,R,W)):(p=C1(T.type,null,R,v,v.mode,W),p.ref=v.ref,p.return=v,v.child=p)}if(Q=p.child,!(p.lanes&W)){var we=Q.memoizedProps;if(T=T.compare,T=T!==null?T:$s,T(we,R)&&p.ref===v.ref)return re(p,v,W)}return v.flags|=1,p=yf(Q,R),p.ref=v.ref,p.return=v,v.child=p}function $g(p,v,T,R,W){if(p!==null&&$s(p.memoizedProps,R)&&p.ref===v.ref)if(Pa=!1,(p.lanes&W)!==0)p.flags&131072&&(Pa=!0);else return v.lanes=p.lanes,re(p,v,W);return Xg(p,v,T,R,W)}function _1(p,v,T){var R=v.pendingProps,W=R.children,Q=p!==null?p.memoizedState:null;if(R.mode==="hidden")if(!(v.mode&1))v.memoizedState={baseLanes:0,cachePool:null},Ft(Il,sa),sa|=T;else if(T&1073741824)v.memoizedState={baseLanes:0,cachePool:null},R=Q!==null?Q.baseLanes:T,Ft(Il,sa),sa|=R;else return p=Q!==null?Q.baseLanes|T:T,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null},v.updateQueue=null,Ft(Il,sa),sa|=p,null;else Q!==null?(R=Q.baseLanes|T,v.memoizedState=null):R=T,Ft(Il,sa),sa|=R;return $i(p,v,W,T),v.child}function qg(p,v){var T=v.ref;(p===null&&T!==null||p!==null&&p.ref!==T)&&(v.flags|=512,v.flags|=2097152)}function Xg(p,v,T,R,W){var Q=br(T)?xa:Ht.current;return Q=ai(v,Q),Er(v,W),T=Ju(p,v,T,R,Q,W),R=no(),p!==null&&!Pa?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~W,re(p,v,W)):(ur&&R&&No(v),v.flags|=1,$i(p,v,T,W),v.child)}function w1(p,v,T,R,W){if(br(T)){var Q=!0;Dn(v)}else Q=!1;if(Er(v,W),v.stateNode===null)p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2),Ne(v,T,R),ut(v,T,R,W),R=!0;else if(p===null){var we=v.stateNode,Ue=v.memoizedProps;we.props=Ue;var ft=we.context,Ct=T.contextType;typeof Ct=="object"&&Ct!==null?Ct=Tr(Ct):(Ct=br(T)?xa:Ht.current,Ct=ai(v,Ct));var Vt=T.getDerivedStateFromProps,_n=typeof Vt=="function"||typeof we.getSnapshotBeforeUpdate=="function";_n||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(Ue!==R||ft!==Ct)&&$e(v,we,R,Ct),Lo=!1;var sn=v.memoizedState;we.state=sn,gu(v,R,we,W),ft=v.memoizedState,Ue!==R||sn!==ft||nr.current||Lo?(typeof Vt=="function"&&(I(v,T,Vt,R),ft=v.memoizedState),(Ue=Lo||_e(v,T,Ue,R,sn,ft,Ct))?(_n||typeof we.UNSAFE_componentWillMount!="function"&&typeof we.componentWillMount!="function"||(typeof we.componentWillMount=="function"&&we.componentWillMount(),typeof we.UNSAFE_componentWillMount=="function"&&we.UNSAFE_componentWillMount()),typeof we.componentDidMount=="function"&&(v.flags|=4194308)):(typeof we.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=R,v.memoizedState=ft),we.props=R,we.state=ft,we.context=Ct,R=Ue):(typeof we.componentDidMount=="function"&&(v.flags|=4194308),R=!1)}else{we=v.stateNode,Qc(p,v),Ue=v.memoizedProps,Ct=v.type===v.elementType?Ue:zr(v.type,Ue),we.props=Ct,_n=v.pendingProps,sn=we.context,ft=T.contextType,typeof ft=="object"&&ft!==null?ft=Tr(ft):(ft=br(T)?xa:Ht.current,ft=ai(v,ft));var Cr=T.getDerivedStateFromProps;(Vt=typeof Cr=="function"||typeof we.getSnapshotBeforeUpdate=="function")||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(Ue!==_n||sn!==ft)&&$e(v,we,R,ft),Lo=!1,sn=v.memoizedState,we.state=sn,gu(v,R,we,W);var tn=v.memoizedState;Ue!==_n||sn!==tn||nr.current||Lo?(typeof Cr=="function"&&(I(v,T,Cr,R),tn=v.memoizedState),(Ct=Lo||_e(v,T,Ct,R,sn,tn,ft)||!1)?(Vt||typeof we.UNSAFE_componentWillUpdate!="function"&&typeof we.componentWillUpdate!="function"||(typeof we.componentWillUpdate=="function"&&we.componentWillUpdate(R,tn,ft),typeof we.UNSAFE_componentWillUpdate=="function"&&we.UNSAFE_componentWillUpdate(R,tn,ft)),typeof we.componentDidUpdate=="function"&&(v.flags|=4),typeof we.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof we.componentDidUpdate!="function"||Ue===p.memoizedProps&&sn===p.memoizedState||(v.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||Ue===p.memoizedProps&&sn===p.memoizedState||(v.flags|=1024),v.memoizedProps=R,v.memoizedState=tn),we.props=R,we.state=tn,we.context=ft,R=Ct):(typeof we.componentDidUpdate!="function"||Ue===p.memoizedProps&&sn===p.memoizedState||(v.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||Ue===p.memoizedProps&&sn===p.memoizedState||(v.flags|=1024),R=!1)}return Yg(p,v,T,R,Q,W)}function Yg(p,v,T,R,W,Q){qg(p,v);var we=(v.flags&128)!==0;if(!R&&!we)return W&&oi(v,T,!1),re(p,v,Q);R=v.stateNode,tS.current=v;var Ue=we&&typeof T.getDerivedStateFromError!="function"?null:R.render();return v.flags|=1,p!==null&&we?(v.child=na(v,p.child,null,Q),v.child=na(v,null,Ue,Q)):$i(p,v,Ue,Q),v.memoizedState=R.state,W&&oi(v,T,!0),v.child}function S1(p){var v=p.stateNode;v.pendingContext?Rr(p,v.pendingContext,v.pendingContext!==v.context):v.context&&Rr(p,v.context,!1),ra(p,v.containerInfo)}function A1(p,v,T,R,W){return ms(),Yu(W),v.flags|=256,$i(p,v,T,R),v.child}var yp={dehydrated:null,treeContext:null,retryLane:0};function Ph(p){return{baseLanes:p,cachePool:null}}function Ch(p,v,T){var R=v.pendingProps,W=cr.current,Q=!1,we=(v.flags&128)!==0,Ue;if((Ue=we)||(Ue=p!==null&&p.memoizedState===null?!1:(W&2)!==0),Ue?(Q=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(W|=1),Ft(cr,W&1),p===null)return Ri(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(v.mode&1?Bn(p)?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(W=R.children,p=R.fallback,Q?(R=v.mode,Q=v.child,W={mode:"hidden",children:W},!(R&1)&&Q!==null?(Q.childLanes=0,Q.pendingProps=W):Q=L1(W,R,0,null),p=Ih(p,R,T,null),Q.return=v,p.return=v,Q.sibling=p,v.child=Q,v.child.memoizedState=Ph(T),v.memoizedState=yp,p):Kg(v,W));if(W=p.memoizedState,W!==null){if(Ue=W.dehydrated,Ue!==null){if(we)return v.flags&256?(v.flags&=-257,w(p,v,T,Error(o(422)))):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(Q=R.fallback,W=v.mode,R=L1({mode:"visible",children:R.children},W,0,null),Q=Ih(Q,W,T,null),Q.flags|=2,R.return=v,Q.return=v,R.sibling=Q,v.child=R,v.mode&1&&na(v,p.child,null,T),v.child.memoizedState=Ph(T),v.memoizedState=yp,Q);if(!(v.mode&1))v=w(p,v,T,null);else if(Bn(Ue))v=w(p,v,T,Error(o(419)));else if(R=(T&p.childLanes)!==0,Pa||R){if(R=hi,R!==null){switch(T&-T){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}R=Q&(R.suspendedLanes|T)?0:Q,R!==0&&R!==W.retryLane&&(W.retryLane=R,io(p,R,-1))}Sp(),v=w(p,v,T,Error(o(421)))}else dr(Ue)?(v.flags|=128,v.child=p.child,v=rS.bind(null,p),kn(Ue,v),v=null):(T=W.treeContext,Ee&&(Aa=Zr(Ue),Qr=v,ur=!0,Ma=null,Nl=!1,T!==null&&(en[gn++]=Yn,en[gn++]=lr,en[gn++]=rr,Yn=T.id,lr=T.overflow,rr=v)),v=Kg(v,v.pendingProps.children),v.flags|=4096);return v}return Q?(R=Zg(p,v,R.children,R.fallback,T),Q=v.child,W=p.child.memoizedState,Q.memoizedState=W===null?Ph(T):{baseLanes:W.baseLanes|T,cachePool:null},Q.childLanes=p.childLanes&~T,v.memoizedState=yp,R):(T=M1(p,v,R.children,T),v.memoizedState=null,T)}return Q?(R=Zg(p,v,R.children,R.fallback,T),Q=v.child,W=p.child.memoizedState,Q.memoizedState=W===null?Ph(T):{baseLanes:W.baseLanes|T,cachePool:null},Q.childLanes=p.childLanes&~T,v.memoizedState=yp,R):(T=M1(p,v,R.children,T),v.memoizedState=null,T)}function Kg(p,v){return v=L1({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function M1(p,v,T,R){var W=p.child;return p=W.sibling,T=yf(W,{mode:"visible",children:T}),!(v.mode&1)&&(T.lanes=R),T.return=v,T.sibling=null,p!==null&&(R=v.deletions,R===null?(v.deletions=[p],v.flags|=16):R.push(p)),v.child=T}function Zg(p,v,T,R,W){var Q=v.mode;p=p.child;var we=p.sibling,Ue={mode:"hidden",children:T};return!(Q&1)&&v.child!==p?(T=v.child,T.childLanes=0,T.pendingProps=Ue,v.deletions=null):(T=yf(p,Ue),T.subtreeFlags=p.subtreeFlags&14680064),we!==null?R=yf(we,R):(R=Ih(R,Q,W,null),R.flags|=2),R.return=v,T.return=v,T.sibling=R,v.child=T,R}function w(p,v,T,R){return R!==null&&Yu(R),na(v,p.child,null,T),p=Kg(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function L(p,v,T){p.lanes|=v;var R=p.alternate;R!==null&&(R.lanes|=v),ta(p.return,v,T)}function U(p,v,T,R,W){var Q=p.memoizedState;Q===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:R,tail:T,tailMode:W}:(Q.isBackwards=v,Q.rendering=null,Q.renderingStartTime=0,Q.last=R,Q.tail=T,Q.tailMode=W)}function Y(p,v,T){var R=v.pendingProps,W=R.revealOrder,Q=R.tail;if($i(p,v,R.children,T),R=cr.current,R&2)R=R&1|2,v.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&L(p,T,v);else if(p.tag===19)L(p,T,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(Ft(cr,R),!(v.mode&1))v.memoizedState=null;else switch(W){case"forwards":for(T=v.child,W=null;T!==null;)p=T.alternate,p!==null&&Ko(p)===null&&(W=T),T=T.sibling;T=W,T===null?(W=v.child,v.child=null):(W=T.sibling,T.sibling=null),U(v,!1,W,T,Q);break;case"backwards":for(T=null,W=v.child,v.child=null;W!==null;){if(p=W.alternate,p!==null&&Ko(p)===null){v.child=W;break}p=W.sibling,W.sibling=T,T=W,W=p}U(v,!0,T,null,Q);break;case"together":U(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function re(p,v,T){if(p!==null&&(v.dependencies=p.dependencies),bs|=v.lanes,!(T&v.childLanes))return null;if(p!==null&&v.child!==p.child)throw Error(o(153));if(v.child!==null){for(p=v.child,T=yf(p,p.pendingProps),v.child=T,T.return=v;p.sibling!==null;)p=p.sibling,T=T.sibling=yf(p,p.pendingProps),T.return=v;T.sibling=null}return v.child}function se(p,v,T){switch(v.tag){case 3:S1(v),ms();break;case 5:Ys(v);break;case 1:br(v.type)&&Dn(v);break;case 4:ra(v,v.stateNode.containerInfo);break;case 10:Jc(v,v.type._context,v.memoizedProps.value);break;case 13:var R=v.memoizedState;if(R!==null)return R.dehydrated!==null?(Ft(cr,cr.current&1),v.flags|=128,null):T&v.child.childLanes?Ch(p,v,T):(Ft(cr,cr.current&1),p=re(p,v,T),p!==null?p.sibling:null);Ft(cr,cr.current&1);break;case 19:if(R=(T&v.childLanes)!==0,p.flags&128){if(R)return Y(p,v,T);v.flags|=128}var W=v.memoizedState;if(W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),Ft(cr,cr.current),R)break;return null;case 22:case 23:return v.lanes=0,_1(p,v,T)}return re(p,v,T)}function le(p,v){switch(ja(v),v.tag){case 1:return br(v.type)&&Xn(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return Oo(),Zt(nr),Zt(Ht),Zu(),p=v.flags,p&65536&&!(p&128)?(v.flags=p&-65537|128,v):null;case 5:return gs(v),null;case 13:if(Zt(cr),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(o(340));ms()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return Zt(cr),null;case 4:return Oo(),null;case 10:return jr(v.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var fe=!1,de=!1,ge=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ye(p,v){var T=p.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(R){ua(p,v,R)}else T.current=null}function Ke(p,v,T){try{T()}catch(R){ua(p,v,R)}}var Be=!1;function yt(p,v){for(z(p.containerInfo),xe=v;xe!==null;)if(p=xe,v=p.child,(p.subtreeFlags&1028)!==0&&v!==null)v.return=p,xe=v;else for(;xe!==null;){p=xe;try{var T=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var R=T.memoizedProps,W=T.memoizedState,Q=p.stateNode,we=Q.getSnapshotBeforeUpdate(p.elementType===p.type?R:zr(p.type,R),W);Q.__reactInternalSnapshotBeforeUpdate=we}break;case 3:ye&&St(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ue){ua(p,p.return,Ue)}if(v=p.sibling,v!==null){v.return=p.return,xe=v;break}xe=p.return}return T=Be,Be=!1,T}function rt(p,v,T){var R=v.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var W=R=R.next;do{if((W.tag&p)===p){var Q=W.destroy;W.destroy=void 0,Q!==void 0&&Ke(v,T,Q)}W=W.next}while(W!==R)}}function Re(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var T=v=v.next;do{if((T.tag&p)===p){var R=T.create;T.destroy=R()}T=T.next}while(T!==v)}}function ke(p){var v=p.ref;if(v!==null){var T=p.stateNode;switch(p.tag){case 5:p=H(T);break;default:p=T}typeof v=="function"?v(p):v.current=p}}function mt(p,v,T){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(Tl,v)}catch{}switch(v.tag){case 0:case 11:case 14:case 15:if(p=v.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var R=p=p.next;do{var W=R,Q=W.destroy;W=W.tag,Q!==void 0&&(W&2||W&4)&&Ke(v,T,Q),R=R.next}while(R!==p)}break;case 1:if(Ye(v,T),p=v.stateNode,typeof p.componentWillUnmount=="function")try{p.props=v.memoizedProps,p.state=v.memoizedState,p.componentWillUnmount()}catch(we){ua(v,T,we)}break;case 5:Ye(v,T);break;case 4:ye?Kn(p,v,T):J&&J&&(v=v.stateNode.containerInfo,T=Xe(v),Et(v,T))}}function _t(p,v,T){for(var R=v;;)if(mt(p,R,T),R.child===null||ye&&R.tag===4){if(R===v)break;for(;R.sibling===null;){if(R.return===null||R.return===v)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function gt(p){var v=p.alternate;v!==null&&(p.alternate=null,gt(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&He(v)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Ut(p){return p.tag===5||p.tag===3||p.tag===4}function Lt(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Ut(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function on(p){if(ye){e:{for(var v=p.return;v!==null;){if(Ut(v))break e;v=v.return}throw Error(o(160))}var T=v;switch(T.tag){case 5:v=T.stateNode,T.flags&32&&(Ve(v),T.flags&=-33),T=Lt(p),zn(p,T,v);break;case 3:case 4:v=T.stateNode.containerInfo,T=Lt(p),Rt(p,T,v);break;default:throw Error(o(161))}}}function Rt(p,v,T){var R=p.tag;if(R===5||R===6)p=p.stateNode,v?Pt(T,p,v):ze(T,p);else if(R!==4&&(p=p.child,p!==null))for(Rt(p,v,T),p=p.sibling;p!==null;)Rt(p,v,T),p=p.sibling}function zn(p,v,T){var R=p.tag;if(R===5||R===6)p=p.stateNode,v?Mt(T,p,v):at(T,p);else if(R!==4&&(p=p.child,p!==null))for(zn(p,v,T),p=p.sibling;p!==null;)zn(p,v,T),p=p.sibling}function Kn(p,v,T){for(var R=v,W=!1,Q,we;;){if(!W){W=R.return;e:for(;;){if(W===null)throw Error(o(160));switch(Q=W.stateNode,W.tag){case 5:we=!1;break e;case 3:Q=Q.containerInfo,we=!0;break e;case 4:Q=Q.containerInfo,we=!0;break e}W=W.return}W=!0}if(R.tag===5||R.tag===6)_t(p,R,T),we?be(Q,R.stateNode):ot(Q,R.stateNode);else if(R.tag===18)we?Je(Q,R.stateNode):nt(Q,R.stateNode);else if(R.tag===4){if(R.child!==null){Q=R.stateNode.containerInfo,we=!0,R.child.return=R,R=R.child;continue}}else if(mt(p,R,T),R.child!==null){R.child.return=R,R=R.child;continue}if(R===v)break;for(;R.sibling===null;){if(R.return===null||R.return===v)return;R=R.return,R.tag===4&&(W=!1)}R.sibling.return=R.return,R=R.sibling}}function On(p,v){if(ye){switch(v.tag){case 0:case 11:case 14:case 15:rt(3,v,v.return),Re(3,v),rt(5,v,v.return);return;case 1:return;case 5:var T=v.stateNode;if(T!=null){var R=v.memoizedProps;p=p!==null?p.memoizedProps:R;var W=v.type,Q=v.updateQueue;v.updateQueue=null,Q!==null&&ht(T,Q,W,p,R,v)}return;case 6:if(v.stateNode===null)throw Error(o(162));T=v.memoizedProps,Ze(v.stateNode,p!==null?p.memoizedProps:T,T);return;case 3:Ee&&p!==null&&p.memoizedState.isDehydrated&&We(v.stateNode.containerInfo);return;case 12:return;case 13:Tn(v);return;case 19:Tn(v);return;case 17:return}throw Error(o(163))}switch(v.tag){case 0:case 11:case 14:case 15:rt(3,v,v.return),Re(3,v),rt(5,v,v.return);return;case 12:return;case 13:Tn(v);return;case 19:Tn(v);return;case 3:Ee&&p!==null&&p.memoizedState.isDehydrated&&We(v.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(v.tag){case 1:case 5:case 6:break e;case 3:case 4:v=v.stateNode,Et(v.containerInfo,v.pendingChildren);break e}throw Error(o(163))}}function Tn(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var T=p.stateNode;T===null&&(T=p.stateNode=new ge),v.forEach(function(R){var W=av.bind(null,p,R);T.has(R)||(T.add(R),R.then(W,W))})}}function pr(p,v){for(xe=v;xe!==null;){v=xe;var T=v.deletions;if(T!==null)for(var R=0;R<T.length;R++){var W=T[R];try{var Q=p;ye?Kn(Q,W,v):_t(Q,W,v);var we=W.alternate;we!==null&&(we.return=null),W.return=null}catch(Jt){ua(W,v,Jt)}}if(T=v.child,v.subtreeFlags&12854&&T!==null)T.return=v,xe=T;else for(;xe!==null;){v=xe;try{var Ue=v.flags;if(Ue&32&&ye&&Ve(v.stateNode),Ue&512){var ft=v.alternate;if(ft!==null){var Ct=ft.ref;Ct!==null&&(typeof Ct=="function"?Ct(null):Ct.current=null)}}if(Ue&8192)switch(v.tag){case 13:if(v.memoizedState!==null){var Vt=v.alternate;(Vt===null||Vt.memoizedState===null)&&(Nh=_r())}break;case 22:var _n=v.memoizedState!==null,sn=v.alternate,Cr=sn!==null&&sn.memoizedState!==null;if(T=v,ye){e:if(R=T,W=_n,Q=null,ye)for(var tn=R;;){if(tn.tag===5){if(Q===null){Q=tn;var oo=tn.stateNode;W?ct(oo):vt(tn.stateNode,tn.memoizedProps)}}else if(tn.tag===6){if(Q===null){var sl=tn.stateNode;W?xt(sl):Te(sl,tn.memoizedProps)}}else if((tn.tag!==22&&tn.tag!==23||tn.memoizedState===null||tn===R)&&tn.child!==null){tn.child.return=tn,tn=tn.child;continue}if(tn===R)break;for(;tn.sibling===null;){if(tn.return===null||tn.return===R)break e;Q===tn&&(Q=null),tn=tn.return}Q===tn&&(Q=null),tn.sibling.return=tn.return,tn=tn.sibling}}if(_n&&!Cr&&T.mode&1){xe=T;for(var et=T.child;et!==null;){for(T=xe=et;xe!==null;){R=xe;var Ge=R.child;switch(R.tag){case 0:case 11:case 14:case 15:rt(4,R,R.return);break;case 1:Ye(R,R.return);var lt=R.stateNode;if(typeof lt.componentWillUnmount=="function"){var Bt=R.return;try{lt.props=R.memoizedProps,lt.state=R.memoizedState,lt.componentWillUnmount()}catch(Jt){ua(R,Bt,Jt)}}break;case 5:Ye(R,R.return);break;case 22:if(R.memoizedState!==null){Ga(T);continue}}Ge!==null?(Ge.return=R,xe=Ge):Ga(T)}et=et.sibling}}}switch(Ue&4102){case 2:on(v),v.flags&=-3;break;case 6:on(v),v.flags&=-3,On(v.alternate,v);break;case 4096:v.flags&=-4097;break;case 4100:v.flags&=-4097,On(v.alternate,v);break;case 4:On(v.alternate,v)}}catch(Jt){ua(v,v.return,Jt)}if(T=v.sibling,T!==null){T.return=v.return,xe=T;break}xe=v.return}}}function fr(p,v,T){xe=p,vn(p)}function vn(p,v,T){for(var R=(p.mode&1)!==0;xe!==null;){var W=xe,Q=W.child;if(W.tag===22&&R){var we=W.memoizedState!==null||fe;if(!we){var Ue=W.alternate,ft=Ue!==null&&Ue.memoizedState!==null||de;Ue=fe;var Ct=de;if(fe=we,(de=ft)&&!Ct)for(xe=W;xe!==null;)we=xe,ft=we.child,we.tag===22&&we.memoizedState!==null?ui(W):ft!==null?(ft.return=we,xe=ft):ui(W);for(;Q!==null;)xe=Q,vn(Q),Q=Q.sibling;xe=W,fe=Ue,de=Ct}li(p)}else W.subtreeFlags&8772&&Q!==null?(Q.return=W,xe=Q):li(p)}}function li(p){for(;xe!==null;){var v=xe;if(v.flags&8772){var T=v.alternate;try{if(v.flags&8772)switch(v.tag){case 0:case 11:case 15:de||Re(5,v);break;case 1:var R=v.stateNode;if(v.flags&4&&!de)if(T===null)R.componentDidMount();else{var W=v.elementType===v.type?T.memoizedProps:zr(v.type,T.memoizedProps);R.componentDidUpdate(W,T.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var Q=v.updateQueue;Q!==null&&Ll(v,Q,R);break;case 3:var we=v.updateQueue;if(we!==null){if(T=null,v.child!==null)switch(v.child.tag){case 5:T=H(v.child.stateNode);break;case 1:T=v.child.stateNode}Ll(v,we,T)}break;case 5:var Ue=v.stateNode;T===null&&v.flags&4&&tt(Ue,v.type,v.memoizedProps,v);break;case 6:break;case 4:break;case 12:break;case 13:if(Ee&&v.memoizedState===null){var ft=v.alternate;if(ft!==null){var Ct=ft.memoizedState;if(Ct!==null){var Vt=Ct.dehydrated;Vt!==null&&Qe(Vt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}de||v.flags&512&&ke(v)}catch(_n){ua(v,v.return,_n)}}if(v===p){xe=null;break}if(T=v.sibling,T!==null){T.return=v.return,xe=T;break}xe=v.return}}function Ga(p){for(;xe!==null;){var v=xe;if(v===p){xe=null;break}var T=v.sibling;if(T!==null){T.return=v.return,xe=T;break}xe=v.return}}function ui(p){for(;xe!==null;){var v=xe;try{switch(v.tag){case 0:case 11:case 15:var T=v.return;try{Re(4,v)}catch(ft){ua(v,T,ft)}break;case 1:var R=v.stateNode;if(typeof R.componentDidMount=="function"){var W=v.return;try{R.componentDidMount()}catch(ft){ua(v,W,ft)}}var Q=v.return;try{ke(v)}catch(ft){ua(v,Q,ft)}break;case 5:var we=v.return;try{ke(v)}catch(ft){ua(v,we,ft)}}}catch(ft){ua(v,v.return,ft)}if(v===p){xe=null;break}var Ue=v.sibling;if(Ue!==null){Ue.return=v.return,xe=Ue;break}xe=v.return}}var aa=0,Wn=1,Ca=2,La=3,ci=4;if(typeof Symbol=="function"&&Symbol.for){var fi=Symbol.for;aa=fi("selector.component"),Wn=fi("selector.has_pseudo_class"),Ca=fi("selector.role"),La=fi("selector.test_id"),ci=fi("selector.text")}function oa(p){var v=Ae(p);if(v!=null){if(typeof v.memoizedProps["data-testname"]!="string")throw Error(o(364));return v}if(p=te(p),p===null)throw Error(o(362));return p.stateNode.current}function ro(p,v){switch(v.$$typeof){case aa:if(p.type===v.value)return!0;break;case Wn:e:{v=v.value,p=[p,0];for(var T=0;T<p.length;){var R=p[T++],W=p[T++],Q=v[W];if(R.tag!==5||!Pe(R)){for(;Q!=null&&ro(R,Q);)W++,Q=v[W];if(W===v.length){v=!0;break e}else for(R=R.child;R!==null;)p.push(R,W),R=R.sibling}}v=!1}return v;case Ca:if(p.tag===5&&Oe(p.stateNode,v.value))return!0;break;case ci:if((p.tag===5||p.tag===6)&&(p=Se(p),p!==null&&0<=p.indexOf(v.value)))return!0;break;case La:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===v.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function es(p){switch(p.$$typeof){case aa:return"<"+(M(p.value)||"Unknown")+">";case Wn:return":has("+(es(p)||"")+")";case Ca:return'[role="'+p.value+'"]';case ci:return'"'+p.value+'"';case La:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function Ii(p,v){var T=[];p=[p,0];for(var R=0;R<p.length;){var W=p[R++],Q=p[R++],we=v[Q];if(W.tag!==5||!Pe(W)){for(;we!=null&&ro(W,we);)Q++,we=v[Q];if(Q===v.length)T.push(W);else for(W=W.child;W!==null;)p.push(W,Q),W=W.sibling}}return T}function xs(p,v){if(!Fe)throw Error(o(363));p=oa(p),p=Ii(p,v),v=[],p=Array.from(p);for(var T=0;T<p.length;){var R=p[T++];if(R.tag===5)Pe(R)||v.push(R.stateNode);else for(R=R.child;R!==null;)p.push(R),R=R.sibling}return v}var tc=Math.ceil,Rl=s.ReactCurrentDispatcher,tl=s.ReactCurrentOwner,yn=s.ReactCurrentBatchConfig,bn=0,hi=null,di=null,Ai=0,sa=0,Il=xr(0),ir=0,nl=null,bs=0,Lh=0,df=0,pf=null,la=null,Nh=0,mf=1/0;function rl(){mf=_r()+500}var xp=!1,Jg=null,il=null,_s=!1,bu=null,bp=0,Oh=0,_p=null,nc=-1,Rh=0;function Na(){return bn&6?_r():nc!==-1?nc:nc=_r()}function ws(p){return p.mode&1?bn&2&&Ai!==0?Ai&-Ai:Vs.transition!==null?(Rh===0&&(p=Go,Go<<=1,!(Go&4194240)&&(Go=64),Rh=p),Rh):(p=An,p!==0?p:ie()):1}function io(p,v,T){if(50<Oh)throw Oh=0,_p=null,Error(o(185));var R=_u(p,v);return R===null?null:(Ba(R,v,T),(!(bn&2)||R!==hi)&&(R===hi&&(!(bn&2)&&(Lh|=v),ir===4&&$a(R,Ai)),Va(R,T),v===1&&bn===0&&!(p.mode&1)&&(rl(),ba&&ea())),R)}function _u(p,v){p.lanes|=v;var T=p.alternate;for(T!==null&&(T.lanes|=v),T=p,p=p.return;p!==null;)p.childLanes|=v,T=p.alternate,T!==null&&(T.childLanes|=v),T=p,p=p.return;return T.tag===3?T.stateNode:null}function Va(p,v){var T=p.callbackNode;Gu(p,v);var R=Ml(p,p===hi?Ai:0);if(R===0)T!==null&&du(T),p.callbackNode=null,p.callbackPriority=0;else if(v=R&-R,p.callbackPriority!==v){if(T!=null&&du(T),v===1)p.tag===0?pu(ev.bind(null,p)):Gs(ev.bind(null,p)),Ce?Le(function(){bn===0&&ea()}):an(Hs,ea),T=null;else{switch(hu(R)){case 1:T=Hs;break;case 4:T=El;break;case 16:T=Ni;break;case 536870912:T=$u;break;default:T=Ni}T=BC(T,E1.bind(null,p))}p.callbackPriority=v,p.callbackNode=T}}function E1(p,v){if(nc=-1,Rh=0,bn&6)throw Error(o(327));var T=p.callbackNode;if(ao()&&p.callbackNode!==T)return null;var R=Ml(p,p===hi?Ai:0);if(R===0)return null;if(R&30||R&p.expiredLanes||v)v=Ap(p,R);else{v=R;var W=bn;bn|=2;var Q=T1();(hi!==p||Ai!==v)&&(rl(),wu(p,v));do try{nS();break}catch(Ue){rc(p,Ue)}while(!0);$o(),Rl.current=Q,bn=W,di!==null?v=0:(hi=null,Ai=0,v=ir)}if(v!==0){if(v===2&&(W=Ji(p),W!==0&&(R=W,v=gf(p,W))),v===1)throw T=nl,wu(p,0),$a(p,R),Va(p,_r()),T;if(v===6)$a(p,R);else{if(W=p.current.alternate,!(R&30)&&!Qg(W)&&(v=Ap(p,R),v===2&&(Q=Ji(p),Q!==0&&(R=Q,v=gf(p,Q))),v===1))throw T=nl,wu(p,0),$a(p,R),Va(p,_r()),T;switch(p.finishedWork=W,p.finishedLanes=R,v){case 0:case 1:throw Error(o(345));case 2:al(p,la);break;case 3:if($a(p,R),(R&130023424)===R&&(v=Nh+500-_r(),10<v)){if(Ml(p,0)!==0)break;if(W=p.suspendedLanes,(W&R)!==R){Na(),p.pingedLanes|=p.suspendedLanes&W;break}p.timeoutHandle=ue(al.bind(null,p,la),v);break}al(p,la);break;case 4:if($a(p,R),(R&4194240)===R)break;for(v=p.eventTimes,W=-1;0<R;){var we=31-Wi(R);Q=1<<we,we=v[we],we>W&&(W=we),R&=~Q}if(R=W,R=_r()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*tc(R/1960))-R,10<R){p.timeoutHandle=ue(al.bind(null,p,la),R);break}al(p,la);break;case 5:al(p,la);break;default:throw Error(o(329))}}}return Va(p,_r()),p.callbackNode===T?E1.bind(null,p):null}function gf(p,v){var T=pf;return p.current.memoizedState.isDehydrated&&(wu(p,v).flags|=256),p=Ap(p,v),p!==2&&(v=la,la=T,v!==null&&wp(v)),p}function wp(p){la===null?la=p:la.push.apply(la,p)}function Qg(p){for(var v=p;;){if(v.flags&16384){var T=v.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var R=0;R<T.length;R++){var W=T[R],Q=W.getSnapshot;W=W.value;try{if(!bi(Q(),W))return!1}catch{return!1}}}if(T=v.child,v.subtreeFlags&16384&&T!==null)T.return=v,v=T;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function $a(p,v){for(v&=~df,v&=~Lh,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var T=31-Wi(v),R=1<<T;p[T]=-1,v&=~R}}function ev(p){if(bn&6)throw Error(o(327));ao();var v=Ml(p,0);if(!(v&1))return Va(p,_r()),null;var T=Ap(p,v);if(p.tag!==0&&T===2){var R=Ji(p);R!==0&&(v=R,T=gf(p,R))}if(T===1)throw T=nl,wu(p,0),$a(p,v),Va(p,_r()),T;if(T===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,al(p,la),Va(p,_r()),null}function tv(p){bu!==null&&bu.tag===0&&!(bn&6)&&ao();var v=bn;bn|=1;var T=yn.transition,R=An;try{if(yn.transition=null,An=1,p)return p()}finally{An=R,yn.transition=T,bn=v,!(bn&6)&&ea()}}function nv(){sa=Il.current,Zt(Il)}function wu(p,v){p.finishedWork=null,p.finishedLanes=0;var T=p.timeoutHandle;if(T!==ce&&(p.timeoutHandle=ce,he(T)),di!==null)for(T=di.return;T!==null;){var R=T;switch(ja(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Xn();break;case 3:Oo(),Zt(nr),Zt(Ht),Zu();break;case 5:gs(R);break;case 4:Oo();break;case 13:Zt(cr);break;case 19:Zt(cr);break;case 10:jr(R.type._context);break;case 22:case 23:nv()}T=T.return}if(hi=p,di=p=yf(p.current,null),Ai=sa=v,ir=0,nl=null,df=Lh=bs=0,la=pf=null,Sa!==null){for(v=0;v<Sa.length;v++)if(T=Sa[v],R=T.interleaved,R!==null){T.interleaved=null;var W=R.next,Q=T.pending;if(Q!==null){var we=Q.next;Q.next=W,R.next=we}T.pending=R}Sa=null}return p}function rc(p,v){do{var T=di;try{if($o(),Vi.current=cf,Ks){for(var R=Pr.memoizedState;R!==null;){var W=R.queue;W!==null&&(W.pending=null),R=R.next}Ks=!1}if(vs=0,Ir=wi=Pr=null,Zo=!1,ys=0,tl.current=null,T===null||T.return===null){ir=1,nl=v,di=null;break}e:{var Q=p,we=T.return,Ue=T,ft=v;if(v=Ai,Ue.flags|=32768,ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var Ct=ft,Vt=Ue,_n=Vt.tag;if(!(Vt.mode&1)&&(_n===0||_n===11||_n===15)){var sn=Vt.alternate;sn?(Vt.updateQueue=sn.updateQueue,Vt.memoizedState=sn.memoizedState,Vt.lanes=sn.lanes):(Vt.updateQueue=null,Vt.memoizedState=null)}var Cr=Jo(we);if(Cr!==null){Cr.flags&=-257,Qs(Cr,we,Ue,Q,v),Cr.mode&1&&Ol(Q,Ct,v),v=Cr,ft=Ct;var tn=v.updateQueue;if(tn===null){var oo=new Set;oo.add(ft),v.updateQueue=oo}else tn.add(ft);break e}else{if(!(v&1)){Ol(Q,Ct,v),Sp();break e}ft=Error(o(426))}}else if(ur&&Ue.mode&1){var sl=Jo(we);if(sl!==null){!(sl.flags&65536)&&(sl.flags|=256),Qs(sl,we,Ue,Q,v),Yu(ft);break e}}Q=ft,ir!==4&&(ir=2),pf===null?pf=[Q]:pf.push(Q),ft=pp(ft,Ue),Ue=we;do{switch(Ue.tag){case 3:Ue.flags|=65536,v&=-v,Ue.lanes|=v;var et=y1(Ue,ft,v);mu(Ue,et);break e;case 1:Q=ft;var Ge=Ue.type,lt=Ue.stateNode;if(!(Ue.flags&128)&&(typeof Ge.getDerivedStateFromError=="function"||lt!==null&&typeof lt.componentDidCatch=="function"&&(il===null||!il.has(lt)))){Ue.flags|=65536,v&=-v,Ue.lanes|=v;var Bt=x1(Ue,Q,v);mu(Ue,Bt);break e}}Ue=Ue.return}while(Ue!==null)}Mp(T)}catch(Jt){v=Jt,di===T&&T!==null&&(di=T=T.return);continue}break}while(!0)}function T1(){var p=Rl.current;return Rl.current=cf,p===null?cf:p}function Sp(){(ir===0||ir===3||ir===2)&&(ir=4),hi===null||!(bs&268435455)&&!(Lh&268435455)||$a(hi,Ai)}function Ap(p,v){var T=bn;bn|=2;var R=T1();hi===p&&Ai===v||wu(p,v);do try{P1();break}catch(W){rc(p,W)}while(!0);if($o(),bn=T,Rl.current=R,di!==null)throw Error(o(261));return hi=null,Ai=0,ir}function P1(){for(;di!==null;)vf(di)}function nS(){for(;di!==null&&!Vu();)vf(di)}function vf(p){var v=Ep(p.alternate,p,sa);p.memoizedProps=p.pendingProps,v===null?Mp(p):di=v,tl.current=null}function Mp(p){var v=p;do{var T=v.alternate;if(p=v.return,v.flags&32768){if(T=le(T,v),T!==null){T.flags&=32767,di=T;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{ir=6,di=null;return}}else if(T=b1(T,v,sa),T!==null){di=T;return}if(v=v.sibling,v!==null){di=v;return}di=v=p}while(v!==null);ir===0&&(ir=5)}function al(p,v){var T=An,R=yn.transition;try{yn.transition=null,An=1,kl(p,v,T)}finally{yn.transition=R,An=T}return null}function kl(p,v,T){do ao();while(bu!==null);if(bn&6)throw Error(o(327));var R=p.finishedWork,W=p.finishedLanes;if(R===null)return null;if(p.finishedWork=null,p.finishedLanes=0,R===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var Q=R.lanes|R.childLanes;if(ps(p,Q),p===hi&&(di=hi=null,Ai=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||_s||(_s=!0,BC(Ni,function(){return ao(),null})),Q=(R.flags&15990)!==0,R.subtreeFlags&15990||Q){Q=yn.transition,yn.transition=null;var we=An;An=1;var Ue=bn;bn|=4,tl.current=null,yt(p,R),pr(p,R),$(p.containerInfo),p.current=R,fr(R),Po(),bn=Ue,An=we,yn.transition=Q}else p.current=R;if(_s&&(_s=!1,bu=p,bp=W),Q=p.pendingLanes,Q===0&&(il=null),Pl(R.stateNode),Va(p,_r()),v!==null)for(T=p.onRecoverableError,R=0;R<v.length;R++)T(v[R]);if(xp)throw xp=!1,p=Jg,Jg=null,p;return bp&1&&p.tag!==0&&ao(),Q=p.pendingLanes,Q&1?p===_p?Oh++:(Oh=0,_p=p):Oh=0,ea(),null}function ao(){if(bu!==null){var p=hu(bp),v=yn.transition,T=An;try{if(yn.transition=null,An=16>p?16:p,bu===null)var R=!1;else{if(p=bu,bu=null,bp=0,bn&6)throw Error(o(331));var W=bn;for(bn|=4,xe=p.current;xe!==null;){var Q=xe,we=Q.child;if(xe.flags&16){var Ue=Q.deletions;if(Ue!==null){for(var ft=0;ft<Ue.length;ft++){var Ct=Ue[ft];for(xe=Ct;xe!==null;){var Vt=xe;switch(Vt.tag){case 0:case 11:case 15:rt(8,Vt,Q)}var _n=Vt.child;if(_n!==null)_n.return=Vt,xe=_n;else for(;xe!==null;){Vt=xe;var sn=Vt.sibling,Cr=Vt.return;if(gt(Vt),Vt===Ct){xe=null;break}if(sn!==null){sn.return=Cr,xe=sn;break}xe=Cr}}}var tn=Q.alternate;if(tn!==null){var oo=tn.child;if(oo!==null){tn.child=null;do{var sl=oo.sibling;oo.sibling=null,oo=sl}while(oo!==null)}}xe=Q}}if(Q.subtreeFlags&2064&&we!==null)we.return=Q,xe=we;else e:for(;xe!==null;){if(Q=xe,Q.flags&2048)switch(Q.tag){case 0:case 11:case 15:rt(9,Q,Q.return)}var et=Q.sibling;if(et!==null){et.return=Q.return,xe=et;break e}xe=Q.return}}var Ge=p.current;for(xe=Ge;xe!==null;){we=xe;var lt=we.child;if(we.subtreeFlags&2064&&lt!==null)lt.return=we,xe=lt;else e:for(we=Ge;xe!==null;){if(Ue=xe,Ue.flags&2048)try{switch(Ue.tag){case 0:case 11:case 15:Re(9,Ue)}}catch(Jt){ua(Ue,Ue.return,Jt)}if(Ue===we){xe=null;break e}var Bt=Ue.sibling;if(Bt!==null){Bt.return=Ue.return,xe=Bt;break e}xe=Ue.return}}if(bn=W,ea(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(Tl,p)}catch{}R=!0}return R}finally{An=T,yn.transition=v}}return!1}function Dl(p,v,T){v=pp(T,v),v=y1(p,v,1),qs(p,v),v=Na(),p=_u(p,1),p!==null&&(Ba(p,1,v),Va(p,v))}function ua(p,v,T){if(p.tag===3)Dl(p,p,T);else for(;v!==null;){if(v.tag===3){Dl(v,p,T);break}else if(v.tag===1){var R=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(il===null||!il.has(R))){p=pp(T,p),p=x1(v,p,1),qs(v,p),p=Na(),v=_u(v,1),v!==null&&(Ba(v,1,p),Va(v,p));break}}v=v.return}}function rv(p,v,T){var R=p.pingCache;R!==null&&R.delete(v),v=Na(),p.pingedLanes|=p.suspendedLanes&T,hi===p&&(Ai&T)===T&&(ir===4||ir===3&&(Ai&130023424)===Ai&&500>_r()-Nh?wu(p,0):df|=T),Va(p,v)}function iv(p,v){v===0&&(p.mode&1?(v=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):v=1);var T=Na();p=_u(p,v),p!==null&&(Ba(p,v,T),Va(p,T))}function rS(p){var v=p.memoizedState,T=0;v!==null&&(T=v.retryLane),iv(p,T)}function av(p,v){var T=0;switch(p.tag){case 13:var R=p.stateNode,W=p.memoizedState;W!==null&&(T=W.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(o(314))}R!==null&&R.delete(v),iv(p,T)}var Ep;Ep=function(p,v,T){if(p!==null)if(p.memoizedProps!==v.pendingProps||nr.current)Pa=!0;else{if(!(p.lanes&T)&&!(v.flags&128))return Pa=!1,se(p,v,T);Pa=!!(p.flags&131072)}else Pa=!1,ur&&v.flags&1048576&&Oi(v,mn,v.index);switch(v.lanes=0,v.tag){case 2:var R=v.type;p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2),p=v.pendingProps;var W=ai(v,Ht.current);Er(v,T),W=Ju(null,v,R,p,W,T);var Q=no();return v.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,br(R)?(Q=!0,Dn(v)):Q=!1,v.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,qu(v),W.updater=ae,v.stateNode=W,W._reactInternals=v,ut(v,R,p,T),v=Yg(null,v,R,!0,Q,T)):(v.tag=0,ur&&Q&&No(v),$i(null,v,W,T),v=v.child),v;case 16:R=v.elementType;e:{switch(p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2),p=v.pendingProps,W=R._init,R=W(R._payload),v.type=R,W=v.tag=H9(R),p=zr(R,p),W){case 0:v=Xg(null,v,R,p,T);break e;case 1:v=w1(null,v,R,p,T);break e;case 11:v=hf(null,v,R,p,T);break e;case 14:v=vp(null,v,R,zr(R.type,p),T);break e}throw Error(o(306,R,""))}return v;case 0:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:zr(R,W),Xg(p,v,R,W,T);case 1:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:zr(R,W),w1(p,v,R,W,T);case 3:e:{if(S1(v),p===null)throw Error(o(387));R=v.pendingProps,Q=v.memoizedState,W=Q.element,Qc(p,v),gu(v,R,null,T);var we=v.memoizedState;if(R=we.element,Ee&&Q.isDehydrated)if(Q={element:R,isDehydrated:!1,cache:we.cache,transitions:we.transitions},v.updateQueue.baseState=Q,v.memoizedState=Q,v.flags&256){W=Error(o(423)),v=A1(p,v,R,T,W);break e}else if(R!==W){W=Error(o(424)),v=A1(p,v,R,T,W);break e}else for(Ee&&(Aa=sr(v.stateNode.containerInfo),Qr=v,ur=!0,Ma=null,Nl=!1),T=Ku(v,null,R,T),v.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(ms(),R===W){v=re(p,v,T);break e}$i(p,v,R,T)}v=v.child}return v;case 5:return Ys(v),p===null&&Ri(v),R=v.type,W=v.pendingProps,Q=p!==null?p.memoizedProps:null,we=W.children,K(R,W)?we=null:Q!==null&&K(R,Q)&&(v.flags|=32),qg(p,v),$i(p,v,we,T),v.child;case 6:return p===null&&Ri(v),null;case 13:return Ch(p,v,T);case 4:return ra(v,v.stateNode.containerInfo),R=v.pendingProps,p===null?v.child=na(v,null,R,T):$i(p,v,R,T),v.child;case 11:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:zr(R,W),hf(p,v,R,W,T);case 7:return $i(p,v,v.pendingProps,T),v.child;case 8:return $i(p,v,v.pendingProps.children,T),v.child;case 12:return $i(p,v,v.pendingProps.children,T),v.child;case 10:e:{if(R=v.type._context,W=v.pendingProps,Q=v.memoizedProps,we=W.value,Jc(v,R,we),Q!==null)if(bi(Q.value,we)){if(Q.children===W.children&&!nr.current){v=re(p,v,T);break e}}else for(Q=v.child,Q!==null&&(Q.return=v);Q!==null;){var Ue=Q.dependencies;if(Ue!==null){we=Q.child;for(var ft=Ue.firstContext;ft!==null;){if(ft.context===R){if(Q.tag===1){ft=qo(-1,T&-T),ft.tag=2;var Ct=Q.updateQueue;if(Ct!==null){Ct=Ct.shared;var Vt=Ct.pending;Vt===null?ft.next=ft:(ft.next=Vt.next,Vt.next=ft),Ct.pending=ft}}Q.lanes|=T,ft=Q.alternate,ft!==null&&(ft.lanes|=T),ta(Q.return,T,v),Ue.lanes|=T;break}ft=ft.next}}else if(Q.tag===10)we=Q.type===v.type?null:Q.child;else if(Q.tag===18){if(we=Q.return,we===null)throw Error(o(341));we.lanes|=T,Ue=we.alternate,Ue!==null&&(Ue.lanes|=T),ta(we,T,v),we=Q.sibling}else we=Q.child;if(we!==null)we.return=Q;else for(we=Q;we!==null;){if(we===v){we=null;break}if(Q=we.sibling,Q!==null){Q.return=we.return,we=Q;break}we=we.return}Q=we}$i(p,v,W.children,T),v=v.child}return v;case 9:return W=v.type,R=v.pendingProps.children,Er(v,T),W=Tr(W),R=R(W),v.flags|=1,$i(p,v,R,T),v.child;case 14:return R=v.type,W=zr(R,v.pendingProps),W=zr(R.type,W),vp(p,v,R,W,T);case 15:return $g(p,v,v.type,v.pendingProps,T);case 17:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:zr(R,W),p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2),v.tag=1,br(R)?(p=!0,Dn(v)):p=!1,Er(v,T),Ne(v,R,W),ut(v,R,W,T),Yg(null,v,R,!0,p,T);case 19:return Y(p,v,T);case 22:return _1(p,v,T)}throw Error(o(156,v.tag))};function BC(p,v){return an(p,v)}function j9(p,v,T,R){this.tag=p,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ol(p,v,T,R){return new j9(p,v,T,R)}function iS(p){return p=p.prototype,!(!p||!p.isReactComponent)}function H9(p){if(typeof p=="function")return iS(p)?1:0;if(p!=null){if(p=p.$$typeof,p===x)return 11;if(p===_)return 14}return 2}function yf(p,v){var T=p.alternate;return T===null?(T=ol(p.tag,v,p.key,p.mode),T.elementType=p.elementType,T.type=p.type,T.stateNode=p.stateNode,T.alternate=p,p.alternate=T):(T.pendingProps=v,T.type=p.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=p.flags&14680064,T.childLanes=p.childLanes,T.lanes=p.lanes,T.child=p.child,T.memoizedProps=p.memoizedProps,T.memoizedState=p.memoizedState,T.updateQueue=p.updateQueue,v=p.dependencies,T.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},T.sibling=p.sibling,T.index=p.index,T.ref=p.ref,T}function C1(p,v,T,R,W,Q){var we=2;if(R=p,typeof p=="function")iS(p)&&(we=1);else if(typeof p=="string")we=5;else e:switch(p){case c:return Ih(T.children,W,Q,v);case f:we=8,W|=8;break;case h:return p=ol(12,T,v,W|2),p.elementType=h,p.lanes=Q,p;case y:return p=ol(13,T,v,W),p.elementType=y,p.lanes=Q,p;case g:return p=ol(19,T,v,W),p.elementType=g,p.lanes=Q,p;case S:return L1(T,W,Q,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case d:we=10;break e;case m:we=9;break e;case x:we=11;break e;case _:we=14;break e;case b:we=16,R=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return v=ol(we,T,v,W),v.elementType=p,v.type=R,v.lanes=Q,v}function Ih(p,v,T,R){return p=ol(7,p,R,v),p.lanes=T,p}function L1(p,v,T,R){return p=ol(22,p,R,v),p.elementType=S,p.lanes=T,p.stateNode={},p}function aS(p,v,T){return p=ol(6,p,null,v),p.lanes=T,p}function oS(p,v,T){return v=ol(4,p.children!==null?p.children:[],p.key,v),v.lanes=T,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function W9(p,v,T,R,W){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ce,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ds(0),this.expirationTimes=ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.identifierPrefix=R,this.onRecoverableError=W,Ee&&(this.mutableSourceEagerHydrationData=null)}function zC(p,v,T,R,W,Q,we,Ue,ft){return p=new W9(p,v,T,Ue,ft),v===1?(v=1,Q===!0&&(v|=8)):v=0,Q=ol(3,null,null,v),p.current=Q,Q.stateNode=p,Q.memoizedState={element:R,isDehydrated:T,cache:null,transitions:null},qu(Q),p}function jC(p){if(!p)return Li;p=p._reactInternals;e:{if(D(p)!==p||p.tag!==1)throw Error(o(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(br(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(o(171))}if(p.tag===1){var T=p.type;if(br(T))return Ua(p,T,v)}return v}function HC(p){var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=O(v),p===null?null:p.stateNode}function WC(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var T=p.retryLane;p.retryLane=T!==0&&T<v?T:v}}function sS(p,v){WC(p,v),(p=p.alternate)&&WC(p,v)}function G9(p){return p=O(p),p===null?null:p.stateNode}function V9(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var v=Na();io(p,134217728,v),sS(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var v=Na(),T=ws(p);io(p,T,v),sS(p,T)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var T=To(v.pendingLanes);T!==0&&(Mr(v,T|1),Va(v,_r()),!(bn&6)&&(rl(),ea()))}break;case 13:var R=Na();tv(function(){return io(p,1,R)}),sS(p,1)}},n.batchedUpdates=function(p,v){var T=bn;bn|=1;try{return p(v)}finally{bn=T,bn===0&&(rl(),ba&&ea())}},n.createComponentSelector=function(p){return{$$typeof:aa,value:p}},n.createContainer=function(p,v,T,R,W,Q,we){return zC(p,v,!1,null,T,R,W,Q,we)},n.createHasPseudoClassSelector=function(p){return{$$typeof:Wn,value:p}},n.createHydrationContainer=function(p,v,T,R,W,Q,we,Ue,ft){return p=zC(T,R,!0,p,W,Q,we,Ue,ft),p.context=jC(null),T=p.current,R=Na(),W=ws(T),Q=qo(R,W),Q.callback=v??null,qs(T,Q),p.current.lanes=W,Ba(p,W,R),Va(p,R),p},n.createPortal=function(p,v,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:R==null?null:""+R,children:p,containerInfo:v,implementation:T}},n.createRoleSelector=function(p){return{$$typeof:Ca,value:p}},n.createTestNameSelector=function(p){return{$$typeof:La,value:p}},n.createTextSelector=function(p){return{$$typeof:ci,value:p}},n.deferredUpdates=function(p){var v=An,T=yn.transition;try{return yn.transition=null,An=16,p()}finally{An=v,yn.transition=T}},n.discreteUpdates=function(p,v,T,R,W){var Q=An,we=yn.transition;try{return yn.transition=null,An=1,p(v,T,R,W)}finally{An=Q,yn.transition=we,bn===0&&rl()}},n.findAllNodes=xs,n.findBoundingRects=function(p,v){if(!Fe)throw Error(o(363));v=xs(p,v),p=[];for(var T=0;T<v.length;T++)p.push(ee(v[T]));for(v=p.length-1;0<v;v--){T=p[v];for(var R=T.x,W=R+T.width,Q=T.y,we=Q+T.height,Ue=v-1;0<=Ue;Ue--)if(v!==Ue){var ft=p[Ue],Ct=ft.x,Vt=Ct+ft.width,_n=ft.y,sn=_n+ft.height;if(R>=Ct&&Q>=_n&&W<=Vt&&we<=sn){p.splice(v,1);break}else if(R!==Ct||T.width!==ft.width||sn<Q||_n>we){if(!(Q!==_n||T.height!==ft.height||Vt<R||Ct>W)){Ct>R&&(ft.width+=Ct-R,ft.x=R),Vt<W&&(ft.width=W-Ct),p.splice(v,1);break}}else{_n>Q&&(ft.height+=_n-Q,ft.y=Q),sn<we&&(ft.height=we-_n),p.splice(v,1);break}}}return p},n.findHostInstance=HC,n.findHostInstanceWithNoPortals=function(p){return p=C(p),p=p!==null?F(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return HC(p)},n.flushControlled=function(p){var v=bn;bn|=1;var T=yn.transition,R=An;try{yn.transition=null,An=1,p()}finally{An=R,yn.transition=T,bn=v,bn===0&&(rl(),ea())}},n.flushPassiveEffects=ao,n.flushSync=tv,n.focusWithin=function(p,v){if(!Fe)throw Error(o(363));for(p=oa(p),v=Ii(p,v),v=Array.from(v),p=0;p<v.length;){var T=v[p++];if(!Pe(T)){if(T.tag===5&&qe(T.stateNode))return!0;for(T=T.child;T!==null;)v.push(T),T=T.sibling}}return!1},n.getCurrentUpdatePriority=function(){return An},n.getFindAllNodesFailureDescription=function(p,v){if(!Fe)throw Error(o(363));var T=0,R=[];p=[oa(p),0];for(var W=0;W<p.length;){var Q=p[W++],we=p[W++],Ue=v[we];if((Q.tag!==5||!Pe(Q))&&(ro(Q,Ue)&&(R.push(es(Ue)),we++,we>T&&(T=we)),we<v.length))for(Q=Q.child;Q!==null;)p.push(Q,we),Q=Q.sibling}if(T<v.length){for(p=[];T<v.length;T++)p.push(es(v[T]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return H(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:G9,findFiberByHostInstance:p.findFiberByHostInstance||V9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(v.isDisabled||!v.supportsFiber)p=!0;else{try{Tl=v.inject(p),za=v}catch{}p=!!v.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,v,T,R){if(!Fe)throw Error(o(363));p=xs(p,v);var W=it(p,T,R).disconnect;return{disconnect:function(){W()}}},n.registerMutableSourceForHydration=function(p,v){var T=v._getVersion;T=T(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,T]:p.mutableSourceEagerHydrationData.push(v,T)},n.runWithPriority=function(p,v){var T=An;try{return An=p,v()}finally{An=T}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,v,T,R){var W=v.current,Q=Na(),we=ws(W);return T=jC(T),v.context===null?v.context=T:v.pendingContext=T,v=qo(Q,we),v.payload={element:p},R=R===void 0?null:R,R!==null&&(v.callback=R),qs(W,v),p=io(W,we,Q),p!==null&&Cl(p,W,we),we},n};jj.exports=FSe;var USe=jj.exports;const BSe=Ar(USe);var Hj={exports:{}},Wj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,z){var $=B.length;B.push(z);e:for(;0<$;){var X=$-1>>>1,k=B[X];if(0<i(k,z))B[X]=z,B[$]=k,$=X;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var z=B[0],$=B.pop();if($!==z){B[0]=$;e:for(var X=0,k=B.length,V=k>>>1;X<V;){var G=2*(X+1)-1,K=B[G],ne=G+1,ue=B[ne];if(0>i(K,$))ne<k&&0>i(ue,K)?(B[X]=ue,B[ne]=$,X=ne):(B[X]=K,B[G]=$,X=G);else if(ne<k&&0>i(ue,$))B[X]=ue,B[ne]=$,X=ne;else break e}}return z}function i(B,z){var $=B.sortIndex-z.sortIndex;return $!==0?$:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,m=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=B)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function S(B){if(x=!1,b(B),!m)if(n(l)!==null)m=!0,H(A);else{var z=n(u);z!==null&&q(S,z.startTime-B)}}function A(B,z){m=!1,x&&(x=!1,g(P),P=-1),d=!0;var $=h;try{for(b(z),f=n(l);f!==null&&(!(f.expirationTime>z)||B&&!C());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var k=X(f.expirationTime<=z);z=t.unstable_now(),typeof k=="function"?f.callback=k:f===n(l)&&r(l),b(z)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var G=n(u);G!==null&&q(S,G.startTime-z),V=!1}return V}finally{f=null,h=$,d=!1}}var E=!1,M=null,P=-1,D=5,N=-1;function C(){return!(t.unstable_now()-N<D)}function O(){if(M!==null){var B=t.unstable_now();N=B;var z=!0;try{z=M(!0,B)}finally{z?j():(E=!1,M=null)}}else E=!1}var j;if(typeof _=="function")j=function(){_(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Z=F.port2;F.port1.onmessage=O,j=function(){Z.postMessage(null)}}else j=function(){y(O,0)};function H(B){M=B,E||(E=!0,j())}function q(B,z){P=y(function(){B(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,H(A))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var $=h;h=z;try{return B()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=h;h=B;try{return z()}finally{h=$}},t.unstable_scheduleCallback=function(B,z,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=$+k,B={id:c++,callback:z,priorityLevel:B,startTime:$,expirationTime:k,sortIndex:-1},$>X?(B.sortIndex=$,e(u,B),n(l)===null&&B===n(u)&&(x?(g(P),P=-1):x=!0,q(S,$-X))):(B.sortIndex=k,e(l,B),m||d||(m=!0,H(A))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var z=h;return function(){var $=h;h=z;try{return B.apply(this,arguments)}finally{h=$}}}})(Wj);Hj.exports=Wj;var Pk=Hj.exports;const NC={},zSe=t=>void Object.assign(NC,t);function jSe(t,e){function n(c,{args:f=[],attach:h,...d},m){let x=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=d.object;y=im(g,{type:c,root:m,attach:h,primitive:!0})}else{const g=NC[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=im(new g(...f),{type:c,root:m,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),x!=="inject"&&Z5(y,d),y}function r(c,f){let h=!1;if(f){var d,m;(d=f.__r3f)!=null&&d.attach?K5(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(m=c.__r3f)==null||m.objects.push(f),f.__r3f||im(f,{}),f.__r3f.parent=c,A3(f),am(f)}}function i(c,f,h){let d=!1;if(f){var m,x;if((m=f.__r3f)!=null&&m.attach)K5(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const y=c.children.filter(_=>_!==f),g=y.indexOf(h);c.children=[...y.slice(0,g),f,...y.slice(g)],d=!0}d||(x=c.__r3f)==null||x.objects.push(f),f.__r3f||im(f,{}),f.__r3f.parent=c,A3(f),am(f)}}function a(c,f,h=!1){c&&[...c].forEach(d=>o(f,d,h))}function o(c,f,h){if(f){var d,m,x;if(f.__r3f&&(f.__r3f.parent=null),(d=c.__r3f)!=null&&d.objects&&(c.__r3f.objects=c.__r3f.objects.filter(S=>S!==f)),(m=f.__r3f)!=null&&m.attach)Rk(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&KSe(Cx(f),f)}const _=(x=f.__r3f)==null?void 0:x.primitive,b=!_&&(h===void 0?f.dispose!==null:h);if(!_){var g;a((g=f.__r3f)==null?void 0:g.objects,f,b),a(f.children,f,b)}if(delete f.__r3f,b&&f.dispose&&f.type!=="Scene"){const S=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Pk.unstable_scheduleCallback(Pk.unstable_IdlePriority,S):S()}am(c)}}function s(c,f,h,d){var m;const x=(m=c.__r3f)==null?void 0:m.parent;if(!x)return;const y=n(f,h,c.__r3f.root);if(c.children){for(const g of c.children)g.__r3f&&r(y,g);c.children=c.children.filter(g=>!g.__r3f)}c.__r3f.objects.forEach(g=>r(y,g)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(x,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&Cx(y).getState().internal.interaction.push(y),[d,d.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>{};return{reconciler:BSe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const d=c.getState().scene;d.__r3f&&i(d,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,d){var m;if(((m=c==null?void 0:c.__r3f)!=null?m:{}).primitive&&d.object&&d.object!==c)return[!0];{const{args:y=[],children:g,..._}=d,{args:b=[],children:S,...A}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((M,P)=>M!==b[P]))return[!0];const E=Kj(c,_,A,!0);return E.changes.length?[!1,E]:null}},commitUpdate(c,[f,h],d,m,x,y){f?s(c,d,x,y):Z5(c,h)},commitMount(c,f,h,d){var m;const x=(m=c.__r3f)!=null?m:{};c.raycast&&x.handlers&&x.eventCount&&Cx(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>im(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:d}=(f=c.__r3f)!=null?f:{};h&&d&&Rk(d,c,h),c.isObject3D&&(c.visible=!1),am(c)},unhideInstance(c,f){var h;const{attach:d,parent:m}=(h=c.__r3f)!=null?h:{};d&&m&&K5(m,c,d),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),am(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Cm.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Ur.fun(performance.now)?performance.now:Ur.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ur.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ur.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Z5}}var Ck,Lk;const Y5=t=>"colorSpace"in t||"outputColorSpace"in t,Gj=()=>{var t;return(t=NC.ColorManagement)!=null?t:null},Vj=t=>t&&t.isOrthographicCamera,HSe=t=>t&&t.hasOwnProperty("current"),d1=typeof window<"u"&&((Ck=window.document)!=null&&Ck.createElement||((Lk=window.navigator)==null?void 0:Lk.product)==="ReactNative")?je.useLayoutEffect:je.useEffect;function $j(t){const e=je.useRef(t);return d1(()=>void(e.current=t),[t]),e}function WSe({set:t}){return d1(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class qj extends je.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}qj.getDerivedStateFromError=()=>({error:!0});const Xj="__default",Nk=new Map,GSe=t=>t&&!!t.memoized&&!!t.changes;function Yj(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const kv=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Cx(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Ur={obj:t=>t===Object(t)&&!Ur.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Ur.str(t)||Ur.num(t)||Ur.boo(t))return t===e;const a=Ur.obj(t);if(a&&r==="reference")return t===e;const o=Ur.arr(t);if(o&&n==="reference")return t===e;if((o||a)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!Ur.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(Ur.und(s)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function VSe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function $Se(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function im(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function S3(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((a,o)=>a[o],t),{target:n,key:i}}else return{target:n,key:e}}const Ok=/-\d+$/;function K5(t,e,n){if(Ur.str(n)){if(Ok.test(n)){const a=n.replace(Ok,""),{target:o,key:s}=S3(t,a);Array.isArray(o[s])||(o[s]=[])}const{target:r,key:i}=S3(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function Rk(t,e,n){var r,i;if(Ur.str(n)){const{target:a,key:o}=S3(t,n),s=e.__r3f.previousAttach;s===void 0?delete a[o]:a[o]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Kj(t,{children:e,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){const c=t.__r3f,f=Object.entries(i),h=[];if(u){const m=Object.keys(l);for(let x=0;x<m.length;x++)i.hasOwnProperty(m[x])||f.unshift([m[x],Xj+"remove"])}f.forEach(([m,x])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&m==="object"||Ur.equ(x,l[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return h.push([m,x,!0,[]]);let g=[];m.includes("-")&&(g=m.split("-")),h.push([m,x,!1,g]);for(const _ in i){const b=i[_];_.startsWith(`${m}-`)&&h.push([_,b,!1,_.split("-")])}});const d={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(d.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(d.attach=c.memoizedProps.attach),{memoized:d,changes:h}}const qSe=typeof process<"u"&&!1;function Z5(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:s}=GSe(e)?e:Kj(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let h=0;h<s.length;h++){let[d,m,x,y]=s[h];if(Y5(t)){const S="srgb",A="srgb-linear";d==="encoding"?(d="colorSpace",m=m===3001?S:A):d==="outputEncoding"&&(d="outputColorSpace",m=m===3001?S:A)}let g=t,_=g[d];if(y.length&&(_=y.reduce((b,S)=>b[S],t),!(_&&_.set))){const[b,...S]=y.reverse();g=S.reverse().reduce((A,E)=>A[E],t),d=b}if(m===Xj+"remove")if(g.constructor){let b=Nk.get(g.constructor);b||(b=new g.constructor,Nk.set(g.constructor,b)),m=b[d]}else m=0;if(x&&r)m?r.handlers[d]=m:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Ld)){if(Array.isArray(m))_.fromArray?_.fromArray(m):_.set(...m);else if(_.copy&&m&&m.constructor&&(qSe?_.constructor.name===m.constructor.name:_.constructor===m.constructor))_.copy(m);else if(m!==void 0){var u;const b=(u=_)==null?void 0:u.isColor;!b&&_.setScalar?_.setScalar(m):_ instanceof Ld&&m instanceof Ld?_.mask=m.mask:_.set(m),!Gj()&&a&&!a.linear&&b&&_.convertSRGBToLinear()}}else{var c;if(g[d]=m,(c=g[d])!=null&&c.isTexture&&g[d].format===Fo&&g[d].type===Fu&&a){const b=g[d];Y5(b)&&Y5(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}}am(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const h=Cx(t).getState().internal,d=h.interaction.indexOf(t);d>-1&&h.interaction.splice(d,1),r.eventCount&&h.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&A3(t),t}function am(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function A3(t){t.onUpdate==null||t.onUpdate(t)}function XSe(t,e){t.manual||(Vj(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Q2(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function YSe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Cm.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Cm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Cm.ContinuousEventPriority;default:return Cm.DefaultEventPriority}}function Zj(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function KSe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Zj(n.capturedMap,e,r,i)})}function ZSe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,h=[],d=u?u(c.internal.interaction):c.internal.interaction;for(let g=0;g<d.length;g++){const _=kv(d[g]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function m(g){const _=kv(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let x=d.flatMap(m).sort((g,_)=>{const b=kv(g.object),S=kv(_.object);return!b||!S?g.distance-_.distance:S.events.priority-b.events.priority||g.distance-_.distance}).filter(g=>{const _=Q2(g);return f.has(_)?!1:(f.add(_),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const g of x){let _=g.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&h.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let g of c.internal.capturedMap.get(l.pointerId).values())f.has(Q2(g.intersection))||h.push(g.intersection);return h}function i(l,u,c,f){const h=t.getState();if(l.length){const d={stopped:!1};for(const m of l){const x=kv(m.object)||h,{raycaster:y,pointer:g,camera:_,internal:b}=x,S=new ve(g.x,g.y,0).unproject(_),A=N=>{var C,O;return(C=(O=b.capturedMap.get(N))==null?void 0:O.has(m.eventObject))!=null?C:!1},E=N=>{const C={intersection:m,target:u.target};b.capturedMap.has(N)?b.capturedMap.get(N).set(m.eventObject,C):b.capturedMap.set(N,new Map([[m.eventObject,C]])),u.target.setPointerCapture(N)},M=N=>{const C=b.capturedMap.get(N);C&&Zj(b.capturedMap,m.eventObject,C,N)};let P={};for(let N in u){let C=u[N];typeof C!="function"&&(P[N]=C)}let D={...m,...P,pointer:g,intersections:l,stopped:d.stopped,delta:c,unprojectedPoint:S,ray:y.ray,camera:_,stopPropagation(){const N="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!N||N.has(m.eventObject))&&(D.stopped=d.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(C=>C.eventObject===m.eventObject))){const C=l.slice(0,l.indexOf(m));a([...C,m])}},target:{hasPointerCapture:A,setPointerCapture:E,releasePointerCapture:M},currentTarget:{hasPointerCapture:A,setPointerCapture:E,releasePointerCapture:M},nativeEvent:u};if(f(D),d.stopped===!0)break}}return l}function a(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,d=h==null?void 0:h.handlers;if(u.hovered.delete(Q2(c)),h!=null&&h.eventCount){const m={...c,intersections:l};d.onPointerOut==null||d.onPointerOut(m),d.onPointerLeave==null||d.onPointerLeave(m)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=c;const d=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,d?n:void 0),g=m?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=y.map(b=>b.eventObject)),m&&!y.length&&g<=2&&(o(c,h.interaction),f&&f(c)),d&&a(y);function _(b){const S=b.eventObject,A=S.__r3f,E=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(d){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const M=Q2(b),P=h.hovered.get(M);P?P.stopped&&b.stopPropagation():(h.hovered.set(M,b),E.onPointerOver==null||E.onPointerOver(b),E.onPointerEnter==null||E.onPointerEnter(b))}E.onPointerMove==null||E.onPointerMove(b)}else{const M=E[l];M?(!m||h.initialHits.includes(S))&&(o(c,h.interaction.filter(P=>!h.initialHits.includes(P))),M(b)):m&&h.initialHits.includes(S)&&o(c,h.interaction.filter(P=>!h.initialHits.includes(P)))}}i(y,c,g,_)}}return{handlePointer:s}}const Jj=t=>!!(t!=null&&t.render),Qj=je.createContext(null),JSe=(t,e)=>{const n=NSe((s,l)=>{const u=new ve,c=new ve,f=new ve;function h(g=l().camera,_=c,b=l().size){const{width:S,height:A,top:E,left:M}=b,P=S/A;_.isVector3?f.copy(_):f.set(..._);const D=g.getWorldPosition(u).distanceTo(f);if(Vj(g))return{width:S/g.zoom,height:A/g.zoom,top:E,left:M,factor:1,distance:D,aspect:P};{const N=g.fov*Math.PI/180,C=2*Math.tan(N/2)*D,O=C*(S/A);return{width:O,height:C,top:E,left:M,factor:S/O,distance:D,aspect:P}}}let d;const m=g=>s(_=>({performance:{..._.performance,current:g}})),x=new dt;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new TC,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();d&&clearTimeout(d),g.performance.current!==g.performance.min&&m(g.performance.min),d=setTimeout(()=>m(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:g=>s(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,b,S,A)=>{const E=l().camera,M={width:g,height:_,top:S||0,left:A||0,updateStyle:b};s(P=>({size:M,viewport:{...P.viewport,...h(E,c,M)}}))},setDpr:g=>s(_=>{const b=Yj(g);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),s(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:je.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,b)=>{const S=l().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:g,priority:_,store:b}),S.subscribers=S.subscribers.sort((A,E)=>A.priority-E.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(_>0?1:0),A.subscribers=A.subscribers.filter(E=>E.ref!==g))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){var h;i=l,a=u.dpr,XSe(s,l),c.setPixelRatio(u.dpr);const d=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,d)}s!==o&&(o=s,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let ex,QSe=new Set,e5e=new Set,t5e=new Set;function J5(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Dv(t,e){switch(t){case"before":return J5(QSe,e);case"after":return J5(e5e,e);case"tail":return J5(t5e,e)}}let Q5,eA;function tA(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),Q5=e.internal.subscribers,ex=0;ex<Q5.length;ex++)eA=Q5[ex],eA.ref.current(eA.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function n5e(t){let e=!1,n=!1,r,i,a;function o(u){i=requestAnimationFrame(o),e=!0,r=0,Dv("before",u),n=!0;for(const f of t.values()){var c;a=f.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((c=a.gl.xr)!=null&&c.isPresenting)&&(r+=tA(u,a))}if(n=!1,Dv("after",u),r===0)return Dv("tail",u),e=!1,cancelAnimationFrame(i)}function s(u,c=1){var f;if(!u)return t.forEach(h=>s(h.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,c=!0,f,h){if(c&&Dv("before",u),f)tA(u,f,h);else for(const d of t.values())tA(u,d.store.getState());c&&Dv("after",u)}return{loop:o,invalidate:s,advance:l}}function e9(){const t=je.useContext(Qj);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function hc(t=n=>n,e){return e9()(t,e)}function OC(t,e=0){const n=e9(),r=n.getState().internal.subscribe,i=$j(t);return d1(()=>r(i,e,n),[e,r,n]),null}const Ik=new WeakMap;function t9(t,e){return function(n,...r){let i=Ik.get(n);return i||(i=new n,Ik.set(n,i)),t&&t(i),Promise.all(r.map(a=>new Promise((o,s)=>i.load(a,l=>{l.scene&&Object.assign(l,VSe(l.scene)),o(l)},e,l=>s(new Error(`Could not load ${a}: ${l==null?void 0:l.message}`))))))}}function RC(t,e,n,r){const i=Array.isArray(e)?e:[e],a=zj(t9(n,r),[t,...i],{equal:Ur.equ});return Array.isArray(e)?a:a[0]}RC.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return RSe(t9(n),[t,...r])};RC.clear=function(t,e){const n=Array.isArray(e)?e:[e];return ISe([t,...n])};const xg=new Map,{invalidate:kk,advance:Dk}=n5e(xg),{reconciler:l_,applyProps:Qp}=jSe(xg,YSe),em={objects:"shallow",strict:!1},r5e=(t,e)=>{const n=typeof t=="function"?t(e):t;return Jj(n)?n:new lC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function i5e(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:o,updateStyle:s=n}=e;return{width:r,height:i,top:a,left:o,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:a,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function a5e(t){const e=xg.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||JSe(kk,Dk),o=n||l_.createContainer(a,Cm.ConcurrentRoot,null,!1,null,"",i,null);e||xg.set(t,{fiber:o,store:a});let s,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:d,events:m,onCreated:x,shadows:y=!1,linear:g=!1,flat:_=!1,legacy:b=!1,orthographic:S=!1,frameloop:A="always",dpr:E=[1,2],performance:M,raycaster:P,camera:D,onPointerMissed:N}=c,C=a.getState(),O=C.gl;C.gl||C.set({gl:O=r5e(f,t)});let j=C.raycaster;j||C.set({raycaster:j=new kj});const{params:F,...Z}=P||{};if(Ur.equ(Z,j,em)||Qp(j,{...Z}),Ur.equ(F,j.params,em)||Qp(j,{params:{...j.params,...F}}),!C.camera||C.camera===u&&!Ur.equ(u,D,em)){u=D;const $=D instanceof o1,X=$?D:S?new nh(0,0,0,0,.1,1e3):new Ui(75,0,.1,1e3);$||(X.position.z=5,D&&(Qp(X,D),("aspect"in D||"left"in D||"right"in D||"bottom"in D||"top"in D)&&(X.manual=!0,X.updateProjectionMatrix())),!C.camera&&!(D!=null&&D.rotation)&&X.lookAt(0,0,0)),C.set({camera:X}),j.camera=X}if(!C.scene){let $;d!=null&&d.isScene?$=d:($=new uC,d&&Qp($,d)),C.set({scene:im($)})}if(!C.xr){var H;const $=(V,G)=>{const K=a.getState();K.frameloop!=="never"&&Dk(V,!0,K,G)},X=()=>{const V=a.getState();V.gl.xr.enabled=V.gl.xr.isPresenting,V.gl.xr.setAnimationLoop(V.gl.xr.isPresenting?$:null),V.gl.xr.isPresenting||kk(V)},k={connect(){const V=a.getState().gl;V.xr.addEventListener("sessionstart",X),V.xr.addEventListener("sessionend",X)},disconnect(){const V=a.getState().gl;V.xr.removeEventListener("sessionstart",X),V.xr.removeEventListener("sessionend",X)}};typeof((H=O.xr)==null?void 0:H.addEventListener)=="function"&&k.connect(),C.set({xr:k})}if(O.shadowMap){const $=O.shadowMap.enabled,X=O.shadowMap.type;if(O.shadowMap.enabled=!!y,Ur.boo(y))O.shadowMap.type=o0;else if(Ur.str(y)){var q;const k={basic:Pz,percentage:gw,soft:o0,variance:Vl};O.shadowMap.type=(q=k[y])!=null?q:o0}else Ur.obj(y)&&Object.assign(O.shadowMap,y);($!==O.shadowMap.enabled||X!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}const B=Gj();B&&("enabled"in B?B.enabled=!b:"legacyMode"in B&&(B.legacyMode=b)),l||Qp(O,{outputEncoding:g?3e3:3001,toneMapping:_?Du:HP}),C.legacy!==b&&C.set(()=>({legacy:b})),C.linear!==g&&C.set(()=>({linear:g})),C.flat!==_&&C.set(()=>({flat:_})),f&&!Ur.fun(f)&&!Jj(f)&&!Ur.equ(f,O,em)&&Qp(O,f),m&&!C.events.handlers&&C.set({events:m(a)});const z=i5e(t,h);return Ur.equ(z,C.size,em)||C.setSize(z.width,z.height,z.updateStyle,z.top,z.left),E&&C.viewport.dpr!==Yj(E)&&C.setDpr(E),C.frameloop!==A&&C.setFrameloop(A),C.onPointerMissed||C.set({onPointerMissed:N}),M&&!Ur.equ(M,C.performance,em)&&C.set($=>({performance:{...$.performance,...M}})),s=x,l=!0,this},render(c){return l||this.configure(),l_.updateContainer(oe.jsx(o5e,{store:a,children:c,onCreated:s,rootElement:t}),o,null,()=>{}),a},unmount(){n9(t)}}}function o5e({store:t,children:e,onCreated:n,rootElement:r}){return d1(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),oe.jsx(Qj.Provider,{value:t,children:e})}function n9(t,e){const n=xg.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),l_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),$Se(i),xg.delete(t)}catch{}},500)})}}l_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:je.version});const nA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function s5e(t){const{handlePointer:e}=ZSe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(nA).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:a}=t.getState();a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([o,s])=>{const[l,u]=nA[o];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,o])=>{if(r&&r.connected instanceof HTMLElement){const[s]=nA[a];r.connected.removeEventListener(s,o)}}),n(a=>({events:{...a.events,connected:void 0}}))}}}}function Fk(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function l5e({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=je.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=je.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=je.useRef(!1);je.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,d]=je.useMemo(()=>{const g=()=>{if(!s.current.element)return;const{left:_,top:b,width:S,height:A,bottom:E,right:M,x:P,y:D}=s.current.element.getBoundingClientRect(),N={left:_,top:b,width:S,height:A,bottom:E,right:M,x:P,y:D};s.current.element instanceof HTMLElement&&r&&(N.height=s.current.element.offsetHeight,N.width=s.current.element.offsetWidth),Object.freeze(N),c.current&&!h5e(s.current.lastBounds,N)&&o(s.current.lastBounds=N)};return[g,u?Fk(g,u):g,l?Fk(g,l):g]},[o,r,l,u]);function m(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",d,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function x(){s.current.element&&(s.current.resizeObserver=new i(d),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(g=>g.addEventListener("scroll",d,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const y=g=>{!g||g===s.current.element||(m(),s.current.element=g,s.current.scrollContainers=r9(g),x())};return c5e(d,!!e),u5e(h),je.useEffect(()=>{m(),x()},[e,d,h]),je.useEffect(()=>m,[]),[y,a,f]}function u5e(t){je.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function c5e(t,e){je.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function r9(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...r9(t.parentElement)]}const f5e=["x","y","top","bottom","left","right","width","height"],h5e=(t,e)=>f5e.every(n=>t[n]===e[n]);var d5e=Object.defineProperty,p5e=Object.defineProperties,m5e=Object.getOwnPropertyDescriptors,Uk=Object.getOwnPropertySymbols,g5e=Object.prototype.hasOwnProperty,v5e=Object.prototype.propertyIsEnumerable,Bk=(t,e,n)=>e in t?d5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zk=(t,e)=>{for(var n in e||(e={}))g5e.call(e,n)&&Bk(t,n,e[n]);if(Uk)for(var n of Uk(e))v5e.call(e,n)&&Bk(t,n,e[n]);return t},y5e=(t,e)=>p5e(t,m5e(e)),jk,Hk;typeof window<"u"&&((jk=window.document)!=null&&jk.createElement||((Hk=window.navigator)==null?void 0:Hk.product)==="ReactNative")?je.useLayoutEffect:je.useEffect;function i9(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=i9(r,e,n);if(i)return i;r=r.sibling}}function a9(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Wk=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=Wk;return}return Wk.apply(this,arguments)};const IC=a9(je.createContext(null));class o9 extends je.Component{render(){return je.createElement(IC.Provider,{value:this._reactInternals},this.props.children)}}function x5e(){const t=je.useContext(IC);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=je.useId();return je.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=i9(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function b5e(){const t=x5e(),[e]=je.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==IC&&!e.has(i)&&e.set(i,je.useContext(a9(i)))}n=n.return}return e}function _5e(){const t=b5e();return je.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>je.createElement(e,null,je.createElement(n.Provider,y5e(zk({},r),{value:t.get(n)}))),e=>je.createElement(o9,zk({},e))),[t])}const w5e=je.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:a,events:o=s5e,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:m,dpr:x,performance:y,raycaster:g,camera:_,scene:b,onPointerMissed:S,onCreated:A,...E},M){je.useMemo(()=>zSe(PSe),[]);const P=_5e(),[D,N]=l5e({scroll:!0,debounce:{scroll:50,resize:0},...r}),C=je.useRef(null),O=je.useRef(null);je.useImperativeHandle(M,()=>C.current);const j=$j(S),[F,Z]=je.useState(!1),[H,q]=je.useState(!1);if(F)throw F;if(H)throw H;const B=je.useRef(null);d1(()=>{const $=C.current;N.width>0&&N.height>0&&$&&(B.current||(B.current=a5e($)),B.current.configure({gl:a,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:m,dpr:x,performance:y,raycaster:g,camera:_,scene:b,size:N,onPointerMissed:(...X)=>j.current==null?void 0:j.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(s?HSe(s)?s.current:s:O.current),l&&X.setEvents({compute:(k,V)=>{const G=k[l+"X"],K=k[l+"Y"];V.pointer.set(G/V.size.width*2-1,-(K/V.size.height)*2+1),V.raycaster.setFromCamera(V.pointer,V.camera)}}),A==null||A(X)}}),B.current.render(oe.jsx(P,{children:oe.jsx(qj,{set:q,children:oe.jsx(je.Suspense,{fallback:oe.jsx(WSe,{set:Z}),children:e??null})})})))}),je.useEffect(()=>{const $=C.current;if($)return()=>n9($)},[]);const z=s?"none":"auto";return oe.jsx("div",{ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...i},...E,children:oe.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:oe.jsx("canvas",{ref:C,style:{display:"block"},children:n})})})}),S5e=je.forwardRef(function(e,n){return oe.jsx(o9,{children:oe.jsx(w5e,{...e,ref:n})})});var A5e=Object.defineProperty,M5e=(t,e,n)=>e in t?A5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E5e=(t,e,n)=>(M5e(t,e+"",n),n);class T5e{constructor(){E5e(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var P5e=Object.defineProperty,C5e=(t,e,n)=>e in t?P5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ln=(t,e,n)=>(C5e(t,typeof e!="symbol"?e+"":e,n),n);const tx=new np,Gk=new mc,L5e=Math.cos(70*(Math.PI/180)),Vk=(t,e)=>(t%e+e)%e;let N5e=class extends T5e{constructor(e,n){super(),ln(this,"object"),ln(this,"domElement"),ln(this,"enabled",!0),ln(this,"target",new ve),ln(this,"minDistance",0),ln(this,"maxDistance",1/0),ln(this,"minZoom",0),ln(this,"maxZoom",1/0),ln(this,"minPolarAngle",0),ln(this,"maxPolarAngle",Math.PI),ln(this,"minAzimuthAngle",-1/0),ln(this,"maxAzimuthAngle",1/0),ln(this,"enableDamping",!1),ln(this,"dampingFactor",.05),ln(this,"enableZoom",!0),ln(this,"zoomSpeed",1),ln(this,"enableRotate",!0),ln(this,"rotateSpeed",1),ln(this,"enablePan",!0),ln(this,"panSpeed",1),ln(this,"screenSpacePanning",!0),ln(this,"keyPanSpeed",7),ln(this,"zoomToCursor",!1),ln(this,"autoRotate",!1),ln(this,"autoRotateSpeed",2),ln(this,"reverseOrbit",!1),ln(this,"reverseHorizontalOrbit",!1),ln(this,"reverseVerticalOrbit",!1),ln(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ln(this,"mouseButtons",{LEFT:td.ROTATE,MIDDLE:td.DOLLY,RIGHT:td.PAN}),ln(this,"touches",{ONE:nd.ROTATE,TWO:nd.DOLLY_PAN}),ln(this,"target0"),ln(this,"position0"),ln(this,"zoom0"),ln(this,"_domElementKeyEvents",null),ln(this,"getPolarAngle"),ln(this,"getAzimuthalAngle"),ln(this,"setPolarAngle"),ln(this,"setAzimuthalAngle"),ln(this,"getDistance"),ln(this,"getZoomScale"),ln(this,"listenToKeyEvents"),ln(this,"stopListenToKeyEvents"),ln(this,"saveState"),ln(this,"reset"),ln(this,"update"),ln(this,"connect"),ln(this,"dispose"),ln(this,"dollyIn"),ln(this,"dollyOut"),ln(this,"getScale"),ln(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=be=>{let Ve=Vk(be,2*Math.PI),ct=c.phi;ct<0&&(ct+=2*Math.PI),Ve<0&&(Ve+=2*Math.PI);let xt=Math.abs(Ve-ct);2*Math.PI-xt<xt&&(Ve<ct?Ve+=2*Math.PI:ct+=2*Math.PI),f.phi=Ve-ct,r.update()},this.setAzimuthalAngle=be=>{let Ve=Vk(be,2*Math.PI),ct=c.theta;ct<0&&(ct+=2*Math.PI),Ve<0&&(Ve+=2*Math.PI);let xt=Math.abs(Ve-ct);2*Math.PI-xt<xt&&(Ve<ct?Ve+=2*Math.PI:ct+=2*Math.PI),f.theta=Ve-ct,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=be=>{be.addEventListener("keydown",at),this._domElementKeyEvents=be},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",at),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const be=new ve,Ve=new ve(0,1,0),ct=new Ao().setFromUnitVectors(e.up,Ve),xt=ct.clone().invert(),vt=new ve,Te=new Ao,St=2*Math.PI;return function(){const Xe=r.object.position;ct.setFromUnitVectors(e.up,Ve),xt.copy(ct).invert(),be.copy(Xe).sub(r.target),be.applyQuaternion(ct),c.setFromVector3(be),r.autoRotate&&l===s.NONE&&F(O()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let st=r.minAzimuthAngle,Nt=r.maxAzimuthAngle;isFinite(st)&&isFinite(Nt)&&(st<-Math.PI?st+=St:st>Math.PI&&(st-=St),Nt<-Math.PI?Nt+=St:Nt>Math.PI&&(Nt-=St),st<=Nt?c.theta=Math.max(st,Math.min(Nt,c.theta)):c.theta=c.theta>(st+Nt)/2?Math.max(st,c.theta):Math.min(Nt,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(d,r.dampingFactor):r.target.add(d),r.zoomToCursor&&D||r.object.isOrthographicCamera?c.radius=V(c.radius):c.radius=V(c.radius*h),be.setFromSpherical(c),be.applyQuaternion(xt),Xe.copy(r.target).add(be),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,d.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),d.set(0,0,0));let Et=!1;if(r.zoomToCursor&&D){let qt=null;if(r.object instanceof Ui&&r.object.isPerspectiveCamera){const pn=be.length();qt=V(pn*h);const At=pn-qt;r.object.position.addScaledVector(M,At),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const pn=new ve(P.x,P.y,0);pn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Et=!0;const At=new ve(P.x,P.y,0);At.unproject(r.object),r.object.position.sub(At).add(pn),r.object.updateMatrixWorld(),qt=be.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;qt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(qt).add(r.object.position):(tx.origin.copy(r.object.position),tx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(tx.direction))<L5e?e.lookAt(r.target):(Gk.setFromNormalAndCoplanarPoint(r.object.up,r.target),tx.intersectPlane(Gk,r.target))))}else r.object instanceof nh&&r.object.isOrthographicCamera&&(Et=h!==1,Et&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,D=!1,Et||vt.distanceToSquared(r.object.position)>u||8*(1-Te.dot(r.object.quaternion))>u?(r.dispatchEvent(i),vt.copy(r.object.position),Te.copy(r.object.quaternion),Et=!1,!0):!1}})(),this.connect=be=>{r.domElement=be,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",tt),r.domElement.addEventListener("pointerdown",ee),r.domElement.addEventListener("pointercancel",Pe),r.domElement.addEventListener("wheel",it)},this.dispose=()=>{var be,Ve,ct,xt,vt,Te;r.domElement&&(r.domElement.style.touchAction="auto"),(be=r.domElement)==null||be.removeEventListener("contextmenu",tt),(Ve=r.domElement)==null||Ve.removeEventListener("pointerdown",ee),(ct=r.domElement)==null||ct.removeEventListener("pointercancel",Pe),(xt=r.domElement)==null||xt.removeEventListener("wheel",it),(vt=r.domElement)==null||vt.ownerDocument.removeEventListener("pointermove",Se),(Te=r.domElement)==null||Te.ownerDocument.removeEventListener("pointerup",Pe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",at)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new w3,f=new w3;let h=1;const d=new ve,m=new dt,x=new dt,y=new dt,g=new dt,_=new dt,b=new dt,S=new dt,A=new dt,E=new dt,M=new ve,P=new dt;let D=!1;const N=[],C={};function O(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function F(be){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=be:f.theta-=be}function Z(be){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=be:f.phi-=be}const H=(()=>{const be=new ve;return function(ct,xt){be.setFromMatrixColumn(xt,0),be.multiplyScalar(-ct),d.add(be)}})(),q=(()=>{const be=new ve;return function(ct,xt){r.screenSpacePanning===!0?be.setFromMatrixColumn(xt,1):(be.setFromMatrixColumn(xt,0),be.crossVectors(r.object.up,be)),be.multiplyScalar(ct),d.add(be)}})(),B=(()=>{const be=new ve;return function(ct,xt){const vt=r.domElement;if(vt&&r.object instanceof Ui&&r.object.isPerspectiveCamera){const Te=r.object.position;be.copy(Te).sub(r.target);let St=be.length();St*=Math.tan(r.object.fov/2*Math.PI/180),H(2*ct*St/vt.clientHeight,r.object.matrix),q(2*xt*St/vt.clientHeight,r.object.matrix)}else vt&&r.object instanceof nh&&r.object.isOrthographicCamera?(H(ct*(r.object.right-r.object.left)/r.object.zoom/vt.clientWidth,r.object.matrix),q(xt*(r.object.top-r.object.bottom)/r.object.zoom/vt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function z(be){r.object instanceof Ui&&r.object.isPerspectiveCamera||r.object instanceof nh&&r.object.isOrthographicCamera?h=be:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function $(be){z(h/be)}function X(be){z(h*be)}function k(be){if(!r.zoomToCursor||!r.domElement)return;D=!0;const Ve=r.domElement.getBoundingClientRect(),ct=be.clientX-Ve.left,xt=be.clientY-Ve.top,vt=Ve.width,Te=Ve.height;P.x=ct/vt*2-1,P.y=-(xt/Te)*2+1,M.set(P.x,P.y,1).unproject(r.object).sub(r.object.position).normalize()}function V(be){return Math.max(r.minDistance,Math.min(r.maxDistance,be))}function G(be){m.set(be.clientX,be.clientY)}function K(be){k(be),S.set(be.clientX,be.clientY)}function ne(be){g.set(be.clientX,be.clientY)}function ue(be){x.set(be.clientX,be.clientY),y.subVectors(x,m).multiplyScalar(r.rotateSpeed);const Ve=r.domElement;Ve&&(F(2*Math.PI*y.x/Ve.clientHeight),Z(2*Math.PI*y.y/Ve.clientHeight)),m.copy(x),r.update()}function he(be){A.set(be.clientX,be.clientY),E.subVectors(A,S),E.y>0?$(j()):E.y<0&&X(j()),S.copy(A),r.update()}function ce(be){_.set(be.clientX,be.clientY),b.subVectors(_,g).multiplyScalar(r.panSpeed),B(b.x,b.y),g.copy(_),r.update()}function Me(be){k(be),be.deltaY<0?X(j()):be.deltaY>0&&$(j()),r.update()}function ye(be){let Ve=!1;switch(be.code){case r.keys.UP:B(0,r.keyPanSpeed),Ve=!0;break;case r.keys.BOTTOM:B(0,-r.keyPanSpeed),Ve=!0;break;case r.keys.LEFT:B(r.keyPanSpeed,0),Ve=!0;break;case r.keys.RIGHT:B(-r.keyPanSpeed,0),Ve=!0;break}Ve&&(be.preventDefault(),r.update())}function J(){if(N.length==1)m.set(N[0].pageX,N[0].pageY);else{const be=.5*(N[0].pageX+N[1].pageX),Ve=.5*(N[0].pageY+N[1].pageY);m.set(be,Ve)}}function Ee(){if(N.length==1)g.set(N[0].pageX,N[0].pageY);else{const be=.5*(N[0].pageX+N[1].pageX),Ve=.5*(N[0].pageY+N[1].pageY);g.set(be,Ve)}}function Ae(){const be=N[0].pageX-N[1].pageX,Ve=N[0].pageY-N[1].pageY,ct=Math.sqrt(be*be+Ve*Ve);S.set(0,ct)}function me(){r.enableZoom&&Ae(),r.enablePan&&Ee()}function ie(){r.enableZoom&&Ae(),r.enableRotate&&J()}function He(be){if(N.length==1)x.set(be.pageX,be.pageY);else{const ct=ot(be),xt=.5*(be.pageX+ct.x),vt=.5*(be.pageY+ct.y);x.set(xt,vt)}y.subVectors(x,m).multiplyScalar(r.rotateSpeed);const Ve=r.domElement;Ve&&(F(2*Math.PI*y.x/Ve.clientHeight),Z(2*Math.PI*y.y/Ve.clientHeight)),m.copy(x)}function Ce(be){if(N.length==1)_.set(be.pageX,be.pageY);else{const Ve=ot(be),ct=.5*(be.pageX+Ve.x),xt=.5*(be.pageY+Ve.y);_.set(ct,xt)}b.subVectors(_,g).multiplyScalar(r.panSpeed),B(b.x,b.y),g.copy(_)}function Le(be){const Ve=ot(be),ct=be.pageX-Ve.x,xt=be.pageY-Ve.y,vt=Math.sqrt(ct*ct+xt*xt);A.set(0,vt),E.set(0,Math.pow(A.y/S.y,r.zoomSpeed)),$(E.y),S.copy(A)}function Fe(be){r.enableZoom&&Le(be),r.enablePan&&Ce(be)}function te(be){r.enableZoom&&Le(be),r.enableRotate&&He(be)}function ee(be){var Ve,ct;r.enabled!==!1&&(N.length===0&&((Ve=r.domElement)==null||Ve.ownerDocument.addEventListener("pointermove",Se),(ct=r.domElement)==null||ct.ownerDocument.addEventListener("pointerup",Pe)),ht(be),be.pointerType==="touch"?ze(be):Oe(be))}function Se(be){r.enabled!==!1&&(be.pointerType==="touch"?Ze(be):qe(be))}function Pe(be){var Ve,ct,xt;Mt(be),N.length===0&&((Ve=r.domElement)==null||Ve.releasePointerCapture(be.pointerId),(ct=r.domElement)==null||ct.ownerDocument.removeEventListener("pointermove",Se),(xt=r.domElement)==null||xt.ownerDocument.removeEventListener("pointerup",Pe)),r.dispatchEvent(o),l=s.NONE}function Oe(be){let Ve;switch(be.button){case 0:Ve=r.mouseButtons.LEFT;break;case 1:Ve=r.mouseButtons.MIDDLE;break;case 2:Ve=r.mouseButtons.RIGHT;break;default:Ve=-1}switch(Ve){case td.DOLLY:if(r.enableZoom===!1)return;K(be),l=s.DOLLY;break;case td.ROTATE:if(be.ctrlKey||be.metaKey||be.shiftKey){if(r.enablePan===!1)return;ne(be),l=s.PAN}else{if(r.enableRotate===!1)return;G(be),l=s.ROTATE}break;case td.PAN:if(be.ctrlKey||be.metaKey||be.shiftKey){if(r.enableRotate===!1)return;G(be),l=s.ROTATE}else{if(r.enablePan===!1)return;ne(be),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function qe(be){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;ue(be);break;case s.DOLLY:if(r.enableZoom===!1)return;he(be);break;case s.PAN:if(r.enablePan===!1)return;ce(be);break}}function it(be){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(be.preventDefault(),r.dispatchEvent(a),Me(be),r.dispatchEvent(o))}function at(be){r.enabled===!1||r.enablePan===!1||ye(be)}function ze(be){switch(Pt(be),N.length){case 1:switch(r.touches.ONE){case nd.ROTATE:if(r.enableRotate===!1)return;J(),l=s.TOUCH_ROTATE;break;case nd.PAN:if(r.enablePan===!1)return;Ee(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case nd.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;me(),l=s.TOUCH_DOLLY_PAN;break;case nd.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ie(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function Ze(be){switch(Pt(be),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;He(be),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Ce(be),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(be),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;te(be),r.update();break;default:l=s.NONE}}function tt(be){r.enabled!==!1&&be.preventDefault()}function ht(be){N.push(be)}function Mt(be){delete C[be.pointerId];for(let Ve=0;Ve<N.length;Ve++)if(N[Ve].pointerId==be.pointerId){N.splice(Ve,1);return}}function Pt(be){let Ve=C[be.pointerId];Ve===void 0&&(Ve=new dt,C[be.pointerId]=Ve),Ve.set(be.pageX,be.pageY)}function ot(be){const Ve=be.pointerId===N[0].pointerId?N[1]:N[0];return C[Ve.pointerId]}this.dollyIn=(be=j())=>{X(be),r.update()},this.dollyOut=(be=j())=>{$(be),r.update()},this.getScale=()=>h,this.setScale=be=>{z(be),r.update()},this.getZoomScale=()=>j(),n!==void 0&&this.connect(n),this.update()}};function O5e(){var t=Object.create(null);function e(i,a){var o=i.id,s=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(d){if(d instanceof Error)throw d}),h=t[h.id].value),h}),u=r("<"+s+">.init",u),c&&(c=r("<"+s+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:c},a(f)}catch(h){h&&h.noLog||console.error(h),a(h)}}function n(i,a){var o,s=i.id,l=i.args;(!t[s]||typeof t[s].value!="function")&&a(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var u=(o=t[s]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return a(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){a(f)}function c(f){try{var h=t[s].getTransferables&&t[s].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),a(f,h)}catch(d){console.error(d),a(d)}}}function r(i,a){var o=void 0;self.troikaDefine=function(l){return o=l};var s=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(l){console.error(l)}return URL.revokeObjectURL(s),delete self.troikaDefine,o}self.addEventListener("message",function(i){var a=i.data,o=a.messageId,s=a.action,l=a.data;try{s==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),s==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function R5e(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(n).then(function(a){return r.apply(null,a)});return e._getInitResult=function(){return i},i},e}var s9=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return s9=function(){return t},t},I5e=0,k5e=0,rA=!1,f0=Object.create(null),h0=Object.create(null),M3=Object.create(null);function zg(t){if((!t||typeof t.init!="function")&&!rA)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,a=R5e(t);i==null&&(i="#default");var o="workerModule"+ ++I5e,s=t.name||o,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(rA=!0,c=zg({workerId:i,name:"<"+s+"> function dependency: "+c.name,init:`function(){return (
`+Lx(c)+`
)}`}),rA=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function u(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];if(!s9())return a.apply(void 0,c);if(!l){l=$k(i,"registerModule",u.workerModuleData);var h=function(){l=null,h0[i].delete(h)};(h0[i]||(h0[i]=new Set)).add(h)}return l.then(function(d){var m=d.isCallable;if(m)return $k(i,"callModule",{id:o,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:e,init:Lx(n),getTransferables:r&&Lx(r)},u.onMainThread=a,u}function D5e(t){h0[t]&&h0[t].forEach(function(e){e()}),f0[t]&&(f0[t].terminate(),delete f0[t])}function Lx(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function F5e(t){var e=f0[t];if(!e){var n=Lx(O5e);e=f0[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,a=i.messageId,o=M3[a];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete M3[a],o(i)}}return e}function $k(t,e,n){return new Promise(function(r,i){var a=++k5e;M3[a]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},F5e(t).postMessage({messageId:a,action:e,data:n})})}function l9(){var t=function(e){function n(z,$,X,k,V,G,K,ne){var ue=1-K;ne.x=ue*ue*z+2*ue*K*X+K*K*V,ne.y=ue*ue*$+2*ue*K*k+K*K*G}function r(z,$,X,k,V,G,K,ne,ue,he){var ce=1-ue;he.x=ce*ce*ce*z+3*ce*ce*ue*X+3*ce*ue*ue*V+ue*ue*ue*K,he.y=ce*ce*ce*$+3*ce*ce*ue*k+3*ce*ue*ue*G+ue*ue*ue*ne}function i(z,$){for(var X=/([MLQCZ])([^MLQCZ]*)/g,k,V,G,K,ne;k=X.exec(z);){var ue=k[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(k[1]){case"M":K=V=ue[0],ne=G=ue[1];break;case"L":(ue[0]!==K||ue[1]!==ne)&&$("L",K,ne,K=ue[0],ne=ue[1]);break;case"Q":{$("Q",K,ne,K=ue[2],ne=ue[3],ue[0],ue[1]);break}case"C":{$("C",K,ne,K=ue[4],ne=ue[5],ue[0],ue[1],ue[2],ue[3]);break}case"Z":(K!==V||ne!==G)&&$("L",K,ne,V,G);break}}}function a(z,$,X){X===void 0&&(X=16);var k={x:0,y:0};i(z,function(V,G,K,ne,ue,he,ce,Me,ye){switch(V){case"L":$(G,K,ne,ue);break;case"Q":{for(var J=G,Ee=K,Ae=1;Ae<X;Ae++)n(G,K,he,ce,ne,ue,Ae/(X-1),k),$(J,Ee,k.x,k.y),J=k.x,Ee=k.y;break}case"C":{for(var me=G,ie=K,He=1;He<X;He++)r(G,K,he,ce,Me,ye,ne,ue,He/(X-1),k),$(me,ie,k.x,k.y),me=k.x,ie=k.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(z,$){var X=z.getContext?z.getContext("webgl",u):z,k=l.get(X);if(!k){let ce=function(me){var ie=G[me];if(!ie&&(ie=G[me]=X.getExtension(me),!ie))throw new Error(me+" not supported");return ie},Me=function(me,ie){var He=X.createShader(ie);return X.shaderSource(He,me),X.compileShader(He),He},ye=function(me,ie,He,Ce){if(!K[me]){var Le={},Fe={},te=X.createProgram();X.attachShader(te,Me(ie,X.VERTEX_SHADER)),X.attachShader(te,Me(He,X.FRAGMENT_SHADER)),X.linkProgram(te),K[me]={program:te,transaction:function(Se){X.useProgram(te),Se({setUniform:function(Oe,qe){for(var it=[],at=arguments.length-2;at-- >0;)it[at]=arguments[at+2];var ze=Fe[qe]||(Fe[qe]=X.getUniformLocation(te,qe));X["uniform"+Oe].apply(X,[ze].concat(it))},setAttribute:function(Oe,qe,it,at,ze){var Ze=Le[Oe];Ze||(Ze=Le[Oe]={buf:X.createBuffer(),loc:X.getAttribLocation(te,Oe),data:null}),X.bindBuffer(X.ARRAY_BUFFER,Ze.buf),X.vertexAttribPointer(Ze.loc,qe,X.FLOAT,!1,0,0),X.enableVertexAttribArray(Ze.loc),V?X.vertexAttribDivisor(Ze.loc,at):ce("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ze.loc,at),ze!==Ze.data&&(X.bufferData(X.ARRAY_BUFFER,ze,it),Ze.data=ze)}})}}}K[me].transaction(Ce)},J=function(me,ie){ue++;try{X.activeTexture(X.TEXTURE0+ue);var He=ne[me];He||(He=ne[me]=X.createTexture(),X.bindTexture(X.TEXTURE_2D,He),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.NEAREST),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.NEAREST)),X.bindTexture(X.TEXTURE_2D,He),ie(He,ue)}finally{ue--}},Ee=function(me,ie,He){var Ce=X.createFramebuffer();he.push(Ce),X.bindFramebuffer(X.FRAMEBUFFER,Ce),X.activeTexture(X.TEXTURE0+ie),X.bindTexture(X.TEXTURE_2D,me),X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,me,0);try{He(Ce)}finally{X.deleteFramebuffer(Ce),X.bindFramebuffer(X.FRAMEBUFFER,he[--he.length-1]||null)}},Ae=function(){G={},K={},ne={},ue=-1,he.length=0};var V=typeof WebGL2RenderingContext<"u"&&X instanceof WebGL2RenderingContext,G={},K={},ne={},ue=-1,he=[];X.canvas.addEventListener("webglcontextlost",function(me){Ae(),me.preventDefault()},!1),l.set(X,k={gl:X,isWebGL2:V,getExtension:ce,withProgram:ye,withTexture:J,withTextureFramebuffer:Ee,handleContextLoss:Ae})}$(k)}function f(z,$,X,k,V,G,K,ne){K===void 0&&(K=15),ne===void 0&&(ne=null),c(z,function(ue){var he=ue.gl,ce=ue.withProgram,Me=ue.withTexture;Me("copy",function(ye,J){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,V,G,0,he.RGBA,he.UNSIGNED_BYTE,$),ce("copy",o,s,function(Ee){var Ae=Ee.setUniform,me=Ee.setAttribute;me("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ae("1i","image",J),he.bindFramebuffer(he.FRAMEBUFFER,ne||null),he.disable(he.BLEND),he.colorMask(K&8,K&4,K&2,K&1),he.viewport(X,k,V,G),he.scissor(X,k,V,G),he.drawArrays(he.TRIANGLES,0,3)})})})}function h(z,$,X){var k=z.width,V=z.height;c(z,function(G){var K=G.gl,ne=new Uint8Array(k*V*4);K.readPixels(0,0,k,V,K.RGBA,K.UNSIGNED_BYTE,ne),z.width=$,z.height=X,f(K,ne,0,0,k,V)})}var d=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function m(z,$,X,k,V,G){G===void 0&&(G=1);var K=new Uint8Array(z*$),ne=k[2]-k[0],ue=k[3]-k[1],he=[];a(X,function(me,ie,He,Ce){he.push({x1:me,y1:ie,x2:He,y2:Ce,minX:Math.min(me,He),minY:Math.min(ie,Ce),maxX:Math.max(me,He),maxY:Math.max(ie,Ce)})}),he.sort(function(me,ie){return me.maxX-ie.maxX});for(var ce=0;ce<z;ce++)for(var Me=0;Me<$;Me++){var ye=Ee(k[0]+ne*(ce+.5)/z,k[1]+ue*(Me+.5)/$),J=Math.pow(1-Math.abs(ye)/V,G)/2;ye<0&&(J=1-J),J=Math.max(0,Math.min(255,Math.round(J*255))),K[Me*z+ce]=J}return K;function Ee(me,ie){for(var He=1/0,Ce=1/0,Le=he.length;Le--;){var Fe=he[Le];if(Fe.maxX+Ce<=me)break;if(me+Ce>Fe.minX&&ie-Ce<Fe.maxY&&ie+Ce>Fe.minY){var te=g(me,ie,Fe.x1,Fe.y1,Fe.x2,Fe.y2);te<He&&(He=te,Ce=Math.sqrt(He))}}return Ae(me,ie)&&(Ce=-Ce),Ce}function Ae(me,ie){for(var He=0,Ce=he.length;Ce--;){var Le=he[Ce];if(Le.maxX<=me)break;var Fe=Le.y1>ie!=Le.y2>ie&&me<(Le.x2-Le.x1)*(ie-Le.y1)/(Le.y2-Le.y1)+Le.x1;Fe&&(He+=Le.y1<Le.y2?1:-1)}return He!==0}}function x(z,$,X,k,V,G,K,ne,ue,he){G===void 0&&(G=1),ne===void 0&&(ne=0),ue===void 0&&(ue=0),he===void 0&&(he=0),y(z,$,X,k,V,G,K,null,ne,ue,he)}function y(z,$,X,k,V,G,K,ne,ue,he,ce){G===void 0&&(G=1),ue===void 0&&(ue=0),he===void 0&&(he=0),ce===void 0&&(ce=0);for(var Me=m(z,$,X,k,V,G),ye=new Uint8Array(Me.length*4),J=0;J<Me.length;J++)ye[J*4+ce]=Me[J];f(K,ye,ue,he,z,$,1<<3-ce,ne)}function g(z,$,X,k,V,G){var K=V-X,ne=G-k,ue=K*K+ne*ne,he=ue?Math.max(0,Math.min(1,((z-X)*K+($-k)*ne)/ue)):0,ce=z-(X+he*K),Me=$-(k+he*ne);return ce*ce+Me*Me}var _=Object.freeze({__proto__:null,generate:m,generateIntoCanvas:x,generateIntoFramebuffer:y}),b="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",A="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",E=new Float32Array([0,0,2,0,0,2]),M=null,P=!1,D={},N=new WeakMap;function C(z){if(!P&&!Z(z))throw new Error("WebGL generation not supported")}function O(z,$,X,k,V,G,K){if(G===void 0&&(G=1),K===void 0&&(K=null),!K&&(K=M,!K)){var ne=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ne)throw new Error("OffscreenCanvas or DOM canvas not supported");K=M=ne.getContext("webgl",{depth:!1})}C(K);var ue=new Uint8Array(z*$*4);c(K,function(ye){var J=ye.gl,Ee=ye.withTexture,Ae=ye.withTextureFramebuffer;Ee("readable",function(me,ie){J.texImage2D(J.TEXTURE_2D,0,J.RGBA,z,$,0,J.RGBA,J.UNSIGNED_BYTE,null),Ae(me,ie,function(He){F(z,$,X,k,V,G,J,He,0,0,0),J.readPixels(0,0,z,$,J.RGBA,J.UNSIGNED_BYTE,ue)})})});for(var he=new Uint8Array(z*$),ce=0,Me=0;ce<ue.length;ce+=4)he[Me++]=ue[ce];return he}function j(z,$,X,k,V,G,K,ne,ue,he){G===void 0&&(G=1),ne===void 0&&(ne=0),ue===void 0&&(ue=0),he===void 0&&(he=0),F(z,$,X,k,V,G,K,null,ne,ue,he)}function F(z,$,X,k,V,G,K,ne,ue,he,ce){G===void 0&&(G=1),ue===void 0&&(ue=0),he===void 0&&(he=0),ce===void 0&&(ce=0),C(K);var Me=[];a(X,function(ye,J,Ee,Ae){Me.push(ye,J,Ee,Ae)}),Me=new Float32Array(Me),c(K,function(ye){var J=ye.gl,Ee=ye.isWebGL2,Ae=ye.getExtension,me=ye.withProgram,ie=ye.withTexture,He=ye.withTextureFramebuffer,Ce=ye.handleContextLoss;if(ie("rawDistances",function(Le,Fe){(z!==Le._lastWidth||$!==Le._lastHeight)&&J.texImage2D(J.TEXTURE_2D,0,J.RGBA,Le._lastWidth=z,Le._lastHeight=$,0,J.RGBA,J.UNSIGNED_BYTE,null),me("main",b,S,function(te){var ee=te.setAttribute,Se=te.setUniform,Pe=!Ee&&Ae("ANGLE_instanced_arrays"),Oe=!Ee&&Ae("EXT_blend_minmax");ee("aUV",2,J.STATIC_DRAW,0,E),ee("aLineSegment",4,J.DYNAMIC_DRAW,1,Me),Se.apply(void 0,["4f","uGlyphBounds"].concat(k)),Se("1f","uMaxDistance",V),Se("1f","uExponent",G),He(Le,Fe,function(qe){J.enable(J.BLEND),J.colorMask(!0,!0,!0,!0),J.viewport(0,0,z,$),J.scissor(0,0,z,$),J.blendFunc(J.ONE,J.ONE),J.blendEquationSeparate(J.FUNC_ADD,Ee?J.MAX:Oe.MAX_EXT),J.clear(J.COLOR_BUFFER_BIT),Ee?J.drawArraysInstanced(J.TRIANGLES,0,3,Me.length/4):Pe.drawArraysInstancedANGLE(J.TRIANGLES,0,3,Me.length/4)})}),me("post",o,A,function(te){te.setAttribute("aUV",2,J.STATIC_DRAW,0,E),te.setUniform("1i","tex",Fe),J.bindFramebuffer(J.FRAMEBUFFER,ne),J.disable(J.BLEND),J.colorMask(ce===0,ce===1,ce===2,ce===3),J.viewport(ue,he,z,$),J.scissor(ue,he,z,$),J.drawArrays(J.TRIANGLES,0,3)})}),J.isContextLost())throw Ce(),new Error("webgl context lost")})}function Z(z){var $=!z||z===M?D:z.canvas||z,X=N.get($);if(X===void 0){P=!0;var k=null;try{var V=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],G=O(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,z);X=G&&V.length===G.length&&G.every(function(K,ne){return K===V[ne]}),X||(k="bad trial run results",console.info(V,G))}catch(K){X=!1,k=K.message}k&&console.warn("WebGL SDF generation not supported:",k),P=!1,N.set($,X)}return X}var H=Object.freeze({__proto__:null,generate:O,generateIntoCanvas:j,generateIntoFramebuffer:F,isSupported:Z});function q(z,$,X,k,V,G){V===void 0&&(V=Math.max(k[2]-k[0],k[3]-k[1])/2),G===void 0&&(G=1);try{return O.apply(H,arguments)}catch(K){return console.info("WebGL SDF generation failed, falling back to JS",K),m.apply(_,arguments)}}function B(z,$,X,k,V,G,K,ne,ue,he){V===void 0&&(V=Math.max(k[2]-k[0],k[3]-k[1])/2),G===void 0&&(G=1),ne===void 0&&(ne=0),ue===void 0&&(ue=0),he===void 0&&(he=0);try{return j.apply(H,arguments)}catch(ce){return console.info("WebGL SDF generation failed, falling back to JS",ce),x.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=q,e.generateIntoCanvas=B,e.javascript=_,e.pathToLineSegments=a,e.webgl=H,e.webglUtils=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function U5e(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Ce,Le){r[Ce]=1<<Le+1,i[r[Ce]]=Ce}),Object.freeze(r);var a=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|a|r.PDI|l,c=null;function f(){if(!c){c=new Map;var Ce=function(Fe){if(n.hasOwnProperty(Fe)){var te=0;n[Fe].split(",").forEach(function(ee){var Se=ee.split("+"),Pe=Se[0],Oe=Se[1];Pe=parseInt(Pe,36),Oe=Oe?parseInt(Oe,36):0,c.set(te+=Pe,r[Fe]);for(var qe=0;qe<Oe;qe++)c.set(++te,r[Fe])})}};for(var Le in n)Ce(Le)}}function h(Ce){return f(),c.get(Ce.codePointAt(0))||r.L}function d(Ce){return i[h(Ce)]}var m={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function x(Ce,Le){var Fe=36,te=0,ee=new Map,Se=Le&&new Map,Pe;return Ce.split(",").forEach(function Oe(qe){if(qe.indexOf("+")!==-1)for(var it=+qe;it--;)Oe(Pe);else{Pe=qe;var at=qe.split(">"),ze=at[0],Ze=at[1];ze=String.fromCodePoint(te+=parseInt(ze,Fe)),Ze=String.fromCodePoint(te+=parseInt(Ze,Fe)),ee.set(ze,Ze),Le&&Se.set(Ze,ze)}}),{map:ee,reverseMap:Se}}var y,g,_;function b(){if(!y){var Ce=x(m.pairs,!0),Le=Ce.map,Fe=Ce.reverseMap;y=Le,g=Fe,_=x(m.canonical,!1).map}}function S(Ce){return b(),y.get(Ce)||null}function A(Ce){return b(),g.get(Ce)||null}function E(Ce){return b(),_.get(Ce)||null}var M=r.L,P=r.R,D=r.EN,N=r.ES,C=r.ET,O=r.AN,j=r.CS,F=r.B,Z=r.S,H=r.ON,q=r.BN,B=r.NSM,z=r.AL,$=r.LRO,X=r.RLO,k=r.LRE,V=r.RLE,G=r.PDF,K=r.LRI,ne=r.RLI,ue=r.FSI,he=r.PDI;function ce(Ce,Le){for(var Fe=125,te=new Uint32Array(Ce.length),ee=0;ee<Ce.length;ee++)te[ee]=h(Ce[ee]);var Se=new Map;function Pe(jr,ta){var Er=te[jr];te[jr]=ta,Se.set(Er,Se.get(Er)-1),Er&s&&Se.set(s,Se.get(s)-1),Se.set(ta,(Se.get(ta)||0)+1),ta&s&&Se.set(s,(Se.get(s)||0)+1)}for(var Oe=new Uint8Array(Ce.length),qe=new Map,it=[],at=null,ze=0;ze<Ce.length;ze++)at||it.push(at={start:ze,end:Ce.length-1,level:Le==="rtl"?1:Le==="ltr"?0:$o(ze,!1)}),te[ze]&F&&(at.end=ze,at=null);for(var Ze=V|k|X|$|a|he|G|F,tt=function(jr){return jr+(jr&1?1:2)},ht=function(jr){return jr+(jr&1?2:1)},Mt=0;Mt<it.length;Mt++){at=it[Mt];var Pt=[{_level:at.level,_override:0,_isolate:0}],ot=void 0,be=0,Ve=0,ct=0;Se.clear();for(var xt=at.start;xt<=at.end;xt++){var vt=te[xt];if(ot=Pt[Pt.length-1],Se.set(vt,(Se.get(vt)||0)+1),vt&s&&Se.set(s,(Se.get(s)||0)+1),vt&Ze)if(vt&(V|k)){Oe[xt]=ot._level;var Te=(vt===V?ht:tt)(ot._level);Te<=Fe&&!be&&!Ve?Pt.push({_level:Te,_override:0,_isolate:0}):be||Ve++}else if(vt&(X|$)){Oe[xt]=ot._level;var St=(vt===X?ht:tt)(ot._level);St<=Fe&&!be&&!Ve?Pt.push({_level:St,_override:vt&X?P:M,_isolate:0}):be||Ve++}else if(vt&a){vt&ue&&(vt=$o(xt+1,!0)===1?ne:K),Oe[xt]=ot._level,ot._override&&Pe(xt,ot._override);var Ie=(vt===ne?ht:tt)(ot._level);Ie<=Fe&&be===0&&Ve===0?(ct++,Pt.push({_level:Ie,_override:0,_isolate:1,_isolInitIndex:xt})):be++}else if(vt&he){if(be>0)be--;else if(ct>0){for(Ve=0;!Pt[Pt.length-1]._isolate;)Pt.pop();var Xe=Pt[Pt.length-1]._isolInitIndex;Xe!=null&&(qe.set(Xe,xt),qe.set(xt,Xe)),Pt.pop(),ct--}ot=Pt[Pt.length-1],Oe[xt]=ot._level,ot._override&&Pe(xt,ot._override)}else vt&G?(be===0&&(Ve>0?Ve--:!ot._isolate&&Pt.length>1&&(Pt.pop(),ot=Pt[Pt.length-1])),Oe[xt]=ot._level):vt&F&&(Oe[xt]=at.level);else Oe[xt]=ot._level,ot._override&&vt!==q&&Pe(xt,ot._override)}for(var st=[],Nt=null,Et=at.start;Et<=at.end;Et++){var qt=te[Et];if(!(qt&l)){var pn=Oe[Et],At=qt&a,hn=qt===he;Nt&&pn===Nt._level?(Nt._end=Et,Nt._endsWithIsolInit=At):st.push(Nt={_start:Et,_end:Et,_level:pn,_startsWithPDI:hn,_endsWithIsolInit:At})}}for(var Un=[],dr=0;dr<st.length;dr++){var Bn=st[dr];if(!Bn._startsWithPDI||Bn._startsWithPDI&&!qe.has(Bn._start)){for(var kn=[Nt=Bn],or=void 0;Nt&&Nt._endsWithIsolInit&&(or=qe.get(Nt._end))!=null;)for(var ii=dr+1;ii<st.length;ii++)if(st[ii]._start===or){kn.push(Nt=st[ii]);break}for(var sr=[],Zr=0;Zr<kn.length;Zr++)for(var ya=kn[Zr],Zi=ya._start;Zi<=ya._end;Zi++)sr.push(Zi);for(var to=Oe[sr[0]],pe=at.level,We=sr[0]-1;We>=0;We--)if(!(te[We]&l)){pe=Oe[We];break}var Qe=sr[sr.length-1],nt=Oe[Qe],Je=at.level;if(!(te[Qe]&a)){for(var Ot=Qe+1;Ot<=at.end;Ot++)if(!(te[Ot]&l)){Je=Oe[Ot];break}}Un.push({_seqIndices:sr,_sosType:Math.max(pe,to)%2?P:M,_eosType:Math.max(Je,nt)%2?P:M})}}for(var jt=0;jt<Un.length;jt++){var Kt=Un[jt],bt=Kt._seqIndices,nn=Kt._sosType,rn=Kt._eosType,Qt=Oe[bt[0]]&1?P:M;if(Se.get(B))for(var qn=0;qn<bt.length;qn++){var Or=bt[qn];if(te[Or]&B){for(var Gn=nn,xr=qn-1;xr>=0;xr--)if(!(te[bt[xr]]&l)){Gn=te[bt[xr]];break}Pe(Or,Gn&(a|he)?H:Gn)}}if(Se.get(D))for(var Zt=0;Zt<bt.length;Zt++){var Ft=bt[Zt];if(te[Ft]&D)for(var Li=Zt-1;Li>=-1;Li--){var Ht=Li===-1?nn:te[bt[Li]];if(Ht&o){Ht===z&&Pe(Ft,O);break}}}if(Se.get(z))for(var nr=0;nr<bt.length;nr++){var xa=bt[nr];te[xa]&z&&Pe(xa,P)}if(Se.get(N)||Se.get(j))for(var ai=1;ai<bt.length-1;ai++){var br=bt[ai];if(te[br]&(N|j)){for(var Xn=0,Rr=0,Ua=ai-1;Ua>=0&&(Xn=te[bt[Ua]],!!(Xn&l));Ua--);for(var Dn=ai+1;Dn<bt.length&&(Rr=te[bt[Dn]],!!(Rr&l));Dn++);Xn===Rr&&(te[br]===N?Xn===D:Xn&(D|O))&&Pe(br,Xn)}}if(Se.get(D))for(var oi=0;oi<bt.length;oi++){var Wi=bt[oi];if(te[Wi]&D){for(var fs=oi-1;fs>=0&&te[bt[fs]]&(C|l);fs--)Pe(bt[fs],D);for(oi++;oi<bt.length&&te[bt[oi]]&(C|l|D);oi++)te[bt[oi]]!==D&&Pe(bt[oi],D)}}if(Se.get(C)||Se.get(N)||Se.get(j))for(var js=0;js<bt.length;js++){var Kc=bt[js];if(te[Kc]&(C|N|j)){Pe(Kc,H);for(var Go=js-1;Go>=0&&te[bt[Go]]&l;Go--)Pe(bt[Go],H);for(var hs=js+1;hs<bt.length&&te[bt[hs]]&l;hs++)Pe(bt[hs],H)}}if(Se.get(D))for(var To=0,Ml=nn;To<bt.length;To++){var Zc=bt[To],Gu=te[Zc];Gu&D?Ml===M&&Pe(Zc,M):Gu&o&&(Ml=Gu)}if(Se.get(s)){var Ji=P|D|O,ds=Ji|M,Ba=[];{for(var ps=[],Mr=0;Mr<bt.length;Mr++)if(te[bt[Mr]]&s){var An=Ce[bt[Mr]],hu=void 0;if(S(An)!==null)if(ps.length<63)ps.push({char:An,seqIndex:Mr});else break;else if((hu=A(An))!==null)for(var an=ps.length-1;an>=0;an--){var du=ps[an].char;if(du===hu||du===A(E(An))||S(E(du))===An){Ba.push([ps[an].seqIndex,Mr]),ps.length=an;break}}}Ba.sort(function(jr,ta){return jr[0]-ta[0]})}for(var Vu=0;Vu<Ba.length;Vu++){for(var Po=Ba[Vu],_r=Po[0],Hs=Po[1],El=!1,Ni=0,$u=_r+1;$u<Hs;$u++){var Tl=bt[$u];if(te[Tl]&ds){El=!0;var za=te[Tl]&Ji?P:M;if(za===Qt){Ni=za;break}}}if(El&&!Ni){Ni=nn;for(var Pl=_r-1;Pl>=0;Pl--){var Ws=bt[Pl];if(te[Ws]&ds){var bi=te[Ws]&Ji?P:M;bi!==Qt?Ni=bi:Ni=Qt;break}}}if(Ni){if(te[bt[_r]]=te[bt[Hs]]=Ni,Ni!==Qt){for(var Qi=_r+1;Qi<bt.length;Qi++)if(!(te[bt[Qi]]&l)){h(Ce[bt[Qi]])&B&&(te[bt[Qi]]=Ni);break}}if(Ni!==Qt){for(var ba=Hs+1;ba<bt.length;ba++)if(!(te[bt[ba]]&l)){h(Ce[bt[ba]])&B&&(te[bt[ba]]=Ni);break}}}}for(var _a=0;_a<bt.length;_a++)if(te[bt[_a]]&s){for(var Gs=_a,pu=_a,ea=nn,Vs=_a-1;Vs>=0;Vs--)if(te[bt[Vs]]&l)Gs=Vs;else{ea=te[bt[Vs]]&Ji?P:M;break}for(var $s=rn,wa=_a+1;wa<bt.length;wa++)if(te[bt[wa]]&(s|l))pu=wa;else{$s=te[bt[wa]]&Ji?P:M;break}for(var zr=Gs;zr<=pu;zr++)te[bt[zr]]=ea===$s?ea:Qt;_a=pu}}}for(var _i=at.start;_i<=at.end;_i++){var Co=Oe[_i],si=te[_i];if(Co&1?si&(M|D|O)&&Oe[_i]++:si&P?Oe[_i]++:si&(O|D)&&(Oe[_i]+=2),si&l&&(Oe[_i]=_i===0?at.level:Oe[_i-1]),_i===at.end||h(Ce[_i])&(Z|F))for(var Vo=_i;Vo>=0&&h(Ce[Vo])&u;Vo--)Oe[Vo]=at.level}}return{levels:Oe,paragraphs:it};function $o(jr,ta){for(var Er=jr;Er<Ce.length;Er++){var Tr=te[Er];if(Tr&(P|z))return 1;if(Tr&(F|M)||ta&&Tr===he)return 0;if(Tr&a){var Sa=Jc(Er);Er=Sa===-1?Ce.length:Sa}}return 0}function Jc(jr){for(var ta=1,Er=jr+1;Er<Ce.length;Er++){var Tr=te[Er];if(Tr&F)break;if(Tr&he){if(--ta===0)return Er}else Tr&a&&ta++}return-1}}var Me="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ye;function J(){if(!ye){var Ce=x(Me,!0),Le=Ce.map,Fe=Ce.reverseMap;Fe.forEach(function(te,ee){Le.set(ee,te)}),ye=Le}}function Ee(Ce){return J(),ye.get(Ce)||null}function Ae(Ce,Le,Fe,te){var ee=Ce.length;Fe=Math.max(0,Fe==null?0:+Fe),te=Math.min(ee-1,te==null?ee-1:+te);for(var Se=new Map,Pe=Fe;Pe<=te;Pe++)if(Le[Pe]&1){var Oe=Ee(Ce[Pe]);Oe!==null&&Se.set(Pe,Oe)}return Se}function me(Ce,Le,Fe,te){var ee=Ce.length;Fe=Math.max(0,Fe==null?0:+Fe),te=Math.min(ee-1,te==null?ee-1:+te);var Se=[];return Le.paragraphs.forEach(function(Pe){var Oe=Math.max(Fe,Pe.start),qe=Math.min(te,Pe.end);if(Oe<qe){for(var it=Le.levels.slice(Oe,qe+1),at=qe;at>=Oe&&h(Ce[at])&u;at--)it[at]=Pe.level;for(var ze=Pe.level,Ze=1/0,tt=0;tt<it.length;tt++){var ht=it[tt];ht>ze&&(ze=ht),ht<Ze&&(Ze=ht|1)}for(var Mt=ze;Mt>=Ze;Mt--)for(var Pt=0;Pt<it.length;Pt++)if(it[Pt]>=Mt){for(var ot=Pt;Pt+1<it.length&&it[Pt+1]>=Mt;)Pt++;Pt>ot&&Se.push([ot+Oe,Pt+Oe])}}}),Se}function ie(Ce,Le,Fe,te){var ee=He(Ce,Le,Fe,te),Se=[].concat(Ce);return ee.forEach(function(Pe,Oe){Se[Oe]=(Le.levels[Pe]&1?Ee(Ce[Pe]):null)||Ce[Pe]}),Se.join("")}function He(Ce,Le,Fe,te){for(var ee=me(Ce,Le,Fe,te),Se=[],Pe=0;Pe<Ce.length;Pe++)Se[Pe]=Pe;return ee.forEach(function(Oe){for(var qe=Oe[0],it=Oe[1],at=Se.slice(qe,it+1),ze=at.length;ze--;)Se[it-ze]=at[ze]}),Se}return e.closingToOpeningBracket=A,e.getBidiCharType=h,e.getBidiCharTypeName=d,e.getCanonicalBracket=E,e.getEmbeddingLevels=ce,e.getMirroredCharacter=Ee,e.getMirroredCharactersMap=Ae,e.getReorderSegments=me,e.getReorderedIndices=He,e.getReorderedString=ie,e.openingToClosingBracket=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const u9=/\bvoid\s+main\s*\(\s*\)\s*{/g;function E3(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let a=Mn[i];return a?E3(a):r}return t.replace(e,n)}const qa=[];for(let t=0;t<256;t++)qa[t]=(t<16?"0":"")+t.toString(16);function B5e(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(qa[t&255]+qa[t>>8&255]+qa[t>>16&255]+qa[t>>24&255]+"-"+qa[e&255]+qa[e>>8&255]+"-"+qa[e>>16&15|64]+qa[e>>24&255]+"-"+qa[n&63|128]+qa[n>>8&255]+"-"+qa[n>>16&255]+qa[n>>24&255]+qa[r&255]+qa[r>>8&255]+qa[r>>16&255]+qa[r>>24&255]).toUpperCase()}const Xh=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},z5e=Date.now(),qk=new WeakMap,Xk=new Map;let j5e=1e10;function T3(t,e){const n=V5e(e);let r=qk.get(t);if(r||qk.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,a=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=Xk[f];if(!h){const d=H5e(this,u,e,n);h=Xk[f]=d}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,Xh(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-z5e}}),this[i]&&this[i](u)},o=function(){return s(e.chained?t:t.clone())},s=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:j5e++}),c.uuid=B5e(),c.uniforms=Xh({},u.uniforms,e.uniforms),c.defines=Xh({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=Xh({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const c=this.baseMaterial;return u===c||c.isDerivedMaterial&&c.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return a},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Xh(this.extensions,u.extensions),Xh(this.defines,u.defines),Xh(this.uniforms,aC.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return s(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=T3(t.isDerivedMaterial?t.getDepthMaterial():new Sw({depthPacking:JP}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=T3(t.isDerivedMaterial?t.getDistanceMaterial():new Aw,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function H5e(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:a,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:d,timeUniform:m}=r;if(a=a||"",o=o||"",s=s||"",u=u||"",c=c||"",f=f||"",(l||d)&&(e=E3(e)),(h||d)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=E3(n)),d){let x=d({vertexShader:e,fragmentShader:n});e=x.vertexShader,n=x.fragmentShader}if(h){let x=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(x.push(y),"")),f=`${h}
${x.join(`
`)}
${f}`}if(m){const x=`
uniform float ${m};
`;a=x+a,u=x+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(x,y,g,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,g))?y:`troika_${y}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=Yk(e,i,a,o,s),n=Yk(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function Yk(t,e,n,r,i){return(r||i||n)&&(t=t.replace(u9,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function W5e(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let G5e=0;const Kk=new Map;function V5e(t){const e=JSON.stringify(t,W5e);let n=Kk.get(e);return n==null&&Kk.set(e,n=++G5e),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function $5e(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var a=e._bin,o=new Uint8Array(i);if(a.readASCII(o,0,4)=="ttcf"){var s=4;a.readUshort(o,s),s+=2,a.readUshort(o,s),s+=2;var l=a.readUint(o,s);s+=4;for(var u=[],c=0;c<l;c++){var f=a.readUint(o,s);s+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(i,a){var o=e._bin,s=a;o.readFixed(i,a),a+=4;var l=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:i,_offset:s},f={},h=0;h<l;h++){var d=o.readASCII(i,a,4);a+=4,o.readUint(i,a),a+=4;var m=o.readUint(i,a);a+=4;var x=o.readUint(i,a);a+=4,f[d]={offset:m,length:x}}for(h=0;h<u.length;h++){var y=u[h];f[y]&&(c[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,c))}return c},_tabOffset:function(i,a,o){for(var s=e._bin,l=s.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var f=s.readASCII(i,u,4);u+=4,s.readUint(i,u),u+=4;var h=s.readUint(i,u);if(u+=4,s.readUint(i,u),u+=4,f==a)return h}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(e._bin.readUshort(i,a+2*l));return s},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,o){for(var s="",l=0;l<o;l++)s+=String.fromCharCode(i[a+l]);return s},readUnicode:function(i,a,o){for(var s="",l=0;l<o;l++){var u=i[a++]<<8|i[a++];s+=String.fromCharCode(u)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,o){var s=e._bin._tdec;return s&&a==0&&o==i.length?s.decode(i):e._bin.readASCII(i,a,o)},readBytes:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(i[a+l]);return s},readASCIIArray:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(String.fromCharCode(i[a+l]));return s},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,o,s,l){var u=e._bin,c={},f=a;u.readFixed(i,a),a+=4;var h=u.readUshort(i,a);a+=2;var d=u.readUshort(i,a);a+=2;var m=u.readUshort(i,a);return a+=2,c.scriptList=e._lctf.readScriptList(i,f+h),c.featureList=e._lctf.readFeatureList(i,f+d),c.lookupList=e._lctf.readLookupList(i,f+m,l),c},e._lctf.readLookupList=function(i,a,o){var s=e._bin,l=a,u=[],c=s.readUshort(i,a);a+=2;for(var f=0;f<c;f++){var h=s.readUshort(i,a);a+=2;var d=e._lctf.readLookupTable(i,l+h,o);u.push(d)}return u},e._lctf.readLookupTable=function(i,a,o){var s=e._bin,l=a,u={tabs:[]};u.ltype=s.readUshort(i,a),a+=2,u.flag=s.readUshort(i,a),a+=2;var c=s.readUshort(i,a);a+=2;for(var f=u.ltype,h=0;h<c;h++){var d=s.readUshort(i,a);a+=2;var m=o(i,f,l+d,u);u.tabs.push(m)}return u},e._lctf.numOfOnes=function(i){for(var a=0,o=0;o<32;o++)i>>>o&1&&a++;return a},e._lctf.readClassDef=function(i,a){var o=e._bin,s=[],l=o.readUshort(i,a);if(a+=2,l==1){var u=o.readUshort(i,a);a+=2;var c=o.readUshort(i,a);a+=2;for(var f=0;f<c;f++)s.push(u+f),s.push(u+f),s.push(o.readUshort(i,a)),a+=2}if(l==2){var h=o.readUshort(i,a);for(a+=2,f=0;f<h;f++)s.push(o.readUshort(i,a)),a+=2,s.push(o.readUshort(i,a)),a+=2,s.push(o.readUshort(i,a)),a+=2}return s},e._lctf.getInterval=function(i,a){for(var o=0;o<i.length;o+=3){var s=i[o],l=i[o+1];if(i[o+2],s<=a&&a<=l)return o}return-1},e._lctf.readCoverage=function(i,a){var o=e._bin,s={};s.fmt=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);return a+=2,s.fmt==1&&(s.tab=o.readUshorts(i,a,l)),s.fmt==2&&(s.tab=o.readUshorts(i,a,3*l)),s},e._lctf.coverageIndex=function(i,a){var o=i.tab;if(i.fmt==1)return o.indexOf(a);if(i.fmt==2){var s=e._lctf.getInterval(o,a);if(s!=-1)return o[s+2]+(a-o[s])}return-1},e._lctf.readFeatureList=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,a,4);a+=4;var h=o.readUshort(i,a);a+=2;var d=e._lctf.readFeatureTable(i,s+h);d.tag=f.trim(),l.push(d)}return l},e._lctf.readFeatureTable=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2,u>0&&(l.featureParams=s+u);var c=o.readUshort(i,a);a+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(i,a+2*f));return l},e._lctf.readScriptList=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,a,4);a+=4;var h=o.readUshort(i,a);a+=2,l[f.trim()]=e._lctf.readScriptTable(i,s+h)}return l},e._lctf.readScriptTable=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,s+u));var c=o.readUshort(i,a);a+=2;for(var f=0;f<c;f++){var h=o.readASCII(i,a,4);a+=4;var d=o.readUshort(i,a);a+=2,l[h.trim()]=e._lctf.readLangSysTable(i,s+d)}return l},e._lctf.readLangSysTable=function(i,a){var o=e._bin,s={};o.readUshort(i,a),a+=2,s.reqFeature=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);return a+=2,s.features=o.readUshorts(i,a,l),s},e.CFF={},e.CFF.parse=function(i,a,o){var s=e._bin;(i=new Uint8Array(i.buffer,a,o))[a=0],i[++a],i[++a],i[++a],a++;var l=[];a=e.CFF.readIndex(i,a,l);for(var u=[],c=0;c<l.length-1;c++)u.push(s.readASCII(i,a+l[c],l[c+1]-l[c]));a+=l[l.length-1];var f=[];a=e.CFF.readIndex(i,a,f);var h=[];for(c=0;c<f.length-1;c++)h.push(e.CFF.readDict(i,a+f[c],a+f[c+1]));a+=f[f.length-1];var d=h[0],m=[];a=e.CFF.readIndex(i,a,m);var x=[];for(c=0;c<m.length-1;c++)x.push(s.readASCII(i,a+m[c],m[c+1]-m[c]));if(a+=m[m.length-1],e.CFF.readSubrs(i,a,d),d.CharStrings){a=d.CharStrings,m=[],a=e.CFF.readIndex(i,a,m);var y=[];for(c=0;c<m.length-1;c++)y.push(s.readBytes(i,a+m[c],m[c+1]-m[c]));d.CharStrings=y}if(d.ROS){a=d.FDArray;var g=[];for(a=e.CFF.readIndex(i,a,g),d.FDArray=[],c=0;c<g.length-1;c++){var _=e.CFF.readDict(i,a+g[c],a+g[c+1]);e.CFF._readFDict(i,_,x),d.FDArray.push(_)}a+=g[g.length-1],a=d.FDSelect,d.FDSelect=[];var b=i[a];if(a++,b!=3)throw b;var S=s.readUshort(i,a);for(a+=2,c=0;c<S+1;c++)d.FDSelect.push(s.readUshort(i,a),i[a+2]),a+=3}return d.Encoding&&(d.Encoding=e.CFF.readEncoding(i,d.Encoding,d.CharStrings.length)),d.charset&&(d.charset=e.CFF.readCharset(i,d.charset,d.CharStrings.length)),e.CFF._readFDict(i,d,x),d},e.CFF._readFDict=function(i,a,o){var s;for(var l in a.Private&&(s=a.Private[1],a.Private=e.CFF.readDict(i,s,s+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,s+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(a[l]=o[a[l]-426+35])},e.CFF.readSubrs=function(i,a,o){var s=e._bin,l=[];a=e.CFF.readIndex(i,a,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(s.readBytes(i,a+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==a)return o;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,o){e._bin;var s=[".notdef"],l=i[a];if(a++,l!=0)throw"error: unknown encoding format: "+l;var u=i[a];a++;for(var c=0;c<u;c++)s.push(i[a+c]);return s},e.CFF.readCharset=function(i,a,o){var s=e._bin,l=[".notdef"],u=i[a];if(a++,u==0)for(var c=0;c<o;c++){var f=s.readUshort(i,a);a+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=s.readUshort(i,a),a+=2;var h=0;for(u==1?(h=i[a],a++):(h=s.readUshort(i,a),a+=2),c=0;c<=h;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,a,o){var s=e._bin,l=s.readUshort(i,a)+1,u=i[a+=2];if(a++,u==1)for(var c=0;c<l;c++)o.push(i[a+c]);else if(u==2)for(c=0;c<l;c++)o.push(s.readUshort(i,a+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&s.readUint(i,a+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(a+=l*u)-1},e.CFF.getCharString=function(i,a,o){var s=e._bin,l=i[a],u=i[a+1];i[a+2],i[a+3],i[a+4];var c=1,f=null,h=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(h=s.readShort(i,a+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(h=l-139,c=1),247<=l&&l<=250&&(h=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(h=256*-(l-251)-u-108,c=2),l==255&&(h=s.readInt(i,a+1)/65535,c=5),o.val=h??"o"+f,o.size=c},e.CFF.readCharString=function(i,a,o){for(var s=a+o,l=e._bin,u=[];a<s;){var c=i[a],f=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,d=null,m=null;c<=20&&(d=c,h=1),c==12&&(d=100*c+f,h=2),c!=19&&c!=20||(d=c,h=2),21<=c&&c<=27&&(d=c,h=1),c==28&&(m=l.readShort(i,a+1),h=3),29<=c&&c<=31&&(d=c,h=1),32<=c&&c<=246&&(m=c-139,h=1),247<=c&&c<=250&&(m=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(m=256*-(c-251)-f-108,h=2),c==255&&(m=l.readInt(i,a+1)/65535,h=5),u.push(m??"o"+d),a+=h}return u},e.CFF.readDict=function(i,a,o){for(var s=e._bin,l={},u=[];a<o;){var c=i[a],f=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,d=null,m=null;if(c==28&&(m=s.readShort(i,a+1),h=3),c==29&&(m=s.readInt(i,a+1),h=5),32<=c&&c<=246&&(m=c-139,h=1),247<=c&&c<=250&&(m=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(m=256*-(c-251)-f-108,h=2),c==255)throw m=s.readInt(i,a+1)/65535,h=5,"unknown number";if(c==30){var x=[];for(h=1;;){var y=i[a+h];h++;var g=y>>4,_=15&y;if(g!=15&&x.push(g),_!=15&&x.push(_),_==15)break}for(var b="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],A=0;A<x.length;A++)b+=S[x[A]];m=parseFloat(b)}c<=21&&(d=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(d=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),d!=null?(l[d]=u.length==1?u[0]:u,u=[]):u.push(m),a+=h}return l},e.cmap={},e.cmap.parse=function(i,a,o){i=new Uint8Array(i.buffer,a,o),a=0;var s=e._bin,l={};s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var h=s.readUshort(i,a);a+=2;var d=s.readUshort(i,a);a+=2;var m=s.readUint(i,a);a+=4;var x="p"+h+"e"+d,y=c.indexOf(m);if(y==-1){var g;y=l.tables.length,c.push(m);var _=s.readUshort(i,m);_==0?g=e.cmap.parse0(i,m):_==4?g=e.cmap.parse4(i,m):_==6?g=e.cmap.parse6(i,m):_==12?g=e.cmap.parse12(i,m):console.debug("unknown format: "+_,h,d,m),l.tables.push(g)}if(l[x]!=null)throw"multiple tables for one platform+encoding";l[x]=y}return l},e.cmap.parse0=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,s.map=[];for(var u=0;u<l-6;u++)s.map.push(i[a+u]);return s},e.cmap.parse4=function(i,a){var o=e._bin,s=a,l={};l.format=o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2;var f=c/2;l.searchRange=o.readUshort(i,a),a+=2,l.entrySelector=o.readUshort(i,a),a+=2,l.rangeShift=o.readUshort(i,a),a+=2,l.endCount=o.readUshorts(i,a,f),a+=2*f,a+=2,l.startCount=o.readUshorts(i,a,f),a+=2*f,l.idDelta=[];for(var h=0;h<f;h++)l.idDelta.push(o.readShort(i,a)),a+=2;for(l.idRangeOffset=o.readUshorts(i,a,f),a+=2*f,l.glyphIdArray=[];a<s+u;)l.glyphIdArray.push(o.readUshort(i,a)),a+=2;return l},e.cmap.parse6=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,s.firstCode=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2,s.glyphIdArray=[];for(var u=0;u<l;u++)s.glyphIdArray.push(o.readUshort(i,a)),a+=2;return s},e.cmap.parse12=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2,a+=2,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4;var l=o.readUint(i,a);a+=4,s.groups=[];for(var u=0;u<l;u++){var c=a+12*u,f=o.readUint(i,c+0),h=o.readUint(i,c+4),d=o.readUint(i,c+8);s.groups.push([f,h,d])}return s},e.glyf={},e.glyf.parse=function(i,a,o,s){for(var l=[],u=0;u<s.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,a){var o=e._bin,s=i._data,l=e._tabOffset(s,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var u={};if(u.noc=o.readShort(s,l),l+=2,u.xMin=o.readShort(s,l),l+=2,u.yMin=o.readShort(s,l),l+=2,u.xMax=o.readShort(s,l),l+=2,u.yMax=o.readShort(s,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(s,l)),l+=2;var f=o.readUshort(s,l);if(l+=2,s.length-l<f)return null;u.instructions=o.readBytes(s,l,f),l+=f;var h=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<h;c++){var d=s[l];if(l++,u.flags.push(d),(8&d)!=0){var m=s[l];l++;for(var x=0;x<m;x++)u.flags.push(d),c++}}for(u.xs=[],c=0;c<h;c++){var y=(2&u.flags[c])!=0,g=(16&u.flags[c])!=0;y?(u.xs.push(g?s[l]:-s[l]),l++):g?u.xs.push(0):(u.xs.push(o.readShort(s,l)),l+=2)}for(u.ys=[],c=0;c<h;c++)y=(4&u.flags[c])!=0,g=(32&u.flags[c])!=0,y?(u.ys.push(g?s[l]:-s[l]),l++):g?u.ys.push(0):(u.ys.push(o.readShort(s,l)),l+=2);var _=0,b=0;for(c=0;c<h;c++)_+=u.xs[c],b+=u.ys[c],u.xs[c]=_,u.ys[c]=b}else{var S;u.parts=[];do{S=o.readUshort(s,l),l+=2;var A={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(A),A.glyphIndex=o.readUshort(s,l),l+=2,1&S){var E=o.readShort(s,l);l+=2;var M=o.readShort(s,l);l+=2}else E=o.readInt8(s,l),l++,M=o.readInt8(s,l),l++;2&S?(A.m.tx=E,A.m.ty=M):(A.p1=E,A.p2=M),8&S?(A.m.a=A.m.d=o.readF2dot14(s,l),l+=2):64&S?(A.m.a=o.readF2dot14(s,l),l+=2,A.m.d=o.readF2dot14(s,l),l+=2):128&S&&(A.m.a=o.readF2dot14(s,l),l+=2,A.m.b=o.readF2dot14(s,l),l+=2,A.m.c=o.readF2dot14(s,l),l+=2,A.m.d=o.readF2dot14(s,l),l+=2)}while(32&S);if(256&S){var P=o.readUshort(s,l);for(l+=2,u.instr=[],c=0;c<P;c++)u.instr.push(s[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,a,o,s){var l=a;a+=4;var u=e._bin.readUshort(i,a);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,a,o,s){return e._lctf.parse(i,a,o,s,e.GPOS.subt)},e.GPOS.subt=function(i,a,o,s){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,a==1||a==2||a==3||a==7||a==8&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(a==1&&c.fmt==1){var h=l.readUshort(i,o);o+=2,h!=0&&(c.pos=e.GPOS.readValueRecord(i,o,h))}else if(a==2&&c.fmt>=1&&c.fmt<=2){h=l.readUshort(i,o),o+=2;var d=l.readUshort(i,o);o+=2;var m=e._lctf.numOfOnes(h),x=e._lctf.numOfOnes(d);if(c.fmt==1){c.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var g=0;g<y;g++){var _=u+l.readUshort(i,o);o+=2;var b=l.readUshort(i,_);_+=2;for(var S=[],A=0;A<b;A++){var E=l.readUshort(i,_);_+=2,h!=0&&(O=e.GPOS.readValueRecord(i,_,h),_+=2*m),d!=0&&(j=e.GPOS.readValueRecord(i,_,d),_+=2*x),S.push({gid2:E,val1:O,val2:j})}c.pairsets.push(S)}}if(c.fmt==2){var M=l.readUshort(i,o);o+=2;var P=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);o+=2;var N=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+M),c.classDef2=e._lctf.readClassDef(i,u+P),c.matrix=[],g=0;g<D;g++){var C=[];for(A=0;A<N;A++){var O=null,j=null;h!=0&&(O=e.GPOS.readValueRecord(i,o,h),o+=2*m),d!=0&&(j=e.GPOS.readValueRecord(i,o,d),o+=2*x),C.push({val1:O,val2:j})}c.matrix.push(C)}}}else if(a==4&&c.fmt==1)c.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else if(a==6&&c.fmt==1)c.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else{if(a==9&&c.fmt==1){var F=l.readUshort(i,o);o+=2;var Z=l.readUint(i,o);if(o+=4,s.ltype==9)s.ltype=F;else if(s.ltype!=F)throw"invalid extension substitution";return e.GPOS.subt(i,s.ltype,u+Z)}console.debug("unsupported GPOS table LookupType",a,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,a,o){var s=e._bin,l=[];return l.push(1&o?s.readShort(i,a):0),a+=1&o?2:0,l.push(2&o?s.readShort(i,a):0),a+=2&o?2:0,l.push(4&o?s.readShort(i,a):0),a+=4&o?2:0,l.push(8&o?s.readShort(i,a):0),a+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,a,o){var s=e._bin,l=[],u=a,c=s.readUshort(i,a);a+=2;for(var f=0;f<c;f++){for(var h=[],d=0;d<o;d++)h.push(e.GPOS.readAnchorRecord(i,u+s.readUshort(i,a))),a+=2;l.push(h)}return l},e.GPOS.readMarkArray=function(i,a){var o=e._bin,s=[],l=a,u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=e.GPOS.readAnchorRecord(i,o.readUshort(i,a+2)+l);f.markClass=o.readUshort(i,a),s.push(f),a+=4}return s},e.GPOS.readAnchorRecord=function(i,a){var o=e._bin,s={};return s.fmt=o.readUshort(i,a),s.x=o.readShort(i,a+2),s.y=o.readShort(i,a+4),s},e.GSUB={},e.GSUB.parse=function(i,a,o,s){return e._lctf.parse(i,a,o,s,e.GSUB.subt)},e.GSUB.subt=function(i,a,o,s){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&c.fmt<=2||a==6&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(a==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var h=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,h),o+=2*c.newg.length}}else if(a==2&&c.fmt==1){h=l.readUshort(i,o),o+=2,c.seqs=[];for(var d=0;d<h;d++){var m=l.readUshort(i,o)+u;o+=2;var x=l.readUshort(i,m);c.seqs.push(l.readUshorts(i,m+2,x))}}else if(a==4)for(c.vals=[],h=l.readUshort(i,o),o+=2,d=0;d<h;d++){var y=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+y))}else if(a==5&&c.fmt==2){if(c.fmt==2){var g=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+g),c.scset=[];var _=l.readUshort(i,o);for(o+=2,d=0;d<_;d++){var b=l.readUshort(i,o);o+=2,c.scset.push(b==0?null:e.GSUB.readSubClassSet(i,u+b))}}}else if(a==6&&c.fmt==3){if(c.fmt==3){for(d=0;d<3;d++){h=l.readUshort(i,o),o+=2;for(var S=[],A=0;A<h;A++)S.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*A)));o+=2*h,d==0&&(c.backCvg=S),d==1&&(c.inptCvg=S),d==2&&(c.ahedCvg=S)}h=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,h)}}else{if(a==7&&c.fmt==1){var E=l.readUshort(i,o);o+=2;var M=l.readUint(i,o);if(o+=4,s.ltype==9)s.ltype=E;else if(s.ltype!=E)throw"invalid extension substitution";return e.GSUB.subt(i,s.ltype,u+M)}console.debug("unsupported GSUB table LookupType",a,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,a){var o=e._bin.readUshort,s=a,l=[],u=o(i,a);a+=2;for(var c=0;c<u;c++){var f=o(i,a);a+=2,l.push(e.GSUB.readSubClassRule(i,s+f))}return l},e.GSUB.readSubClassRule=function(i,a){var o=e._bin.readUshort,s={},l=o(i,a),u=o(i,a+=2);a+=2,s.input=[];for(var c=0;c<l-1;c++)s.input.push(o(i,a)),a+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,u),s},e.GSUB.readSubstLookupRecords=function(i,a,o){for(var s=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(s(i,a),s(i,a+2)),a+=4;return l},e.GSUB.readChainSubClassSet=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,a);a+=2,l.push(e.GSUB.readChainSubClassRule(i,s+f))}return l},e.GSUB.readChainSubClassRule=function(i,a){for(var o=e._bin,s={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,a);a+=2,u==1&&c--,s[l[u]]=o.readUshorts(i,a,c),a+=2*s[l[u]].length}return c=o.readUshort(i,a),a+=2,s.subst=o.readUshorts(i,a,2*c),a+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,a);a+=2,l.push(e.GSUB.readLigature(i,s+f))}return l},e.GSUB.readLigature=function(i,a){var o=e._bin,s={chain:[]};s.nglyph=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2;for(var u=0;u<l-1;u++)s.chain.push(o.readUshort(i,a)),a+=2;return s},e.head={},e.head.parse=function(i,a,o){var s=e._bin,l={};return s.readFixed(i,a),a+=4,l.fontRevision=s.readFixed(i,a),a+=4,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4,l.flags=s.readUshort(i,a),a+=2,l.unitsPerEm=s.readUshort(i,a),a+=2,l.created=s.readUint64(i,a),a+=8,l.modified=s.readUint64(i,a),a+=8,l.xMin=s.readShort(i,a),a+=2,l.yMin=s.readShort(i,a),a+=2,l.xMax=s.readShort(i,a),a+=2,l.yMax=s.readShort(i,a),a+=2,l.macStyle=s.readUshort(i,a),a+=2,l.lowestRecPPEM=s.readUshort(i,a),a+=2,l.fontDirectionHint=s.readShort(i,a),a+=2,l.indexToLocFormat=s.readShort(i,a),a+=2,l.glyphDataFormat=s.readShort(i,a),a+=2,l},e.hhea={},e.hhea.parse=function(i,a,o){var s=e._bin,l={};return s.readFixed(i,a),a+=4,l.ascender=s.readShort(i,a),a+=2,l.descender=s.readShort(i,a),a+=2,l.lineGap=s.readShort(i,a),a+=2,l.advanceWidthMax=s.readUshort(i,a),a+=2,l.minLeftSideBearing=s.readShort(i,a),a+=2,l.minRightSideBearing=s.readShort(i,a),a+=2,l.xMaxExtent=s.readShort(i,a),a+=2,l.caretSlopeRise=s.readShort(i,a),a+=2,l.caretSlopeRun=s.readShort(i,a),a+=2,l.caretOffset=s.readShort(i,a),a+=2,a+=8,l.metricDataFormat=s.readShort(i,a),a+=2,l.numberOfHMetrics=s.readUshort(i,a),a+=2,l},e.hmtx={},e.hmtx.parse=function(i,a,o,s){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,h=0;h<s.maxp.numGlyphs;h++)h<s.hhea.numberOfHMetrics&&(c=l.readUshort(i,a),a+=2,f=l.readShort(i,a),a+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,a,o,s){var l=e._bin,u=l.readUshort(i,a);if(a+=2,u==1)return e.kern.parseV1(i,a-2,o,s);var c=l.readUshort(i,a);a+=2;for(var f={glyph1:[],rval:[]},h=0;h<c;h++){a+=2,o=l.readUshort(i,a),a+=2;var d=l.readUshort(i,a);a+=2;var m=d>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;a=e.kern.readFormat0(i,a,f)}return f},e.kern.parseV1=function(i,a,o,s){var l=e._bin;l.readFixed(i,a),a+=4;var u=l.readUint(i,a);a+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,a),a+=4;var h=l.readUshort(i,a);a+=2,l.readUshort(i,a),a+=2;var d=h>>>8;if((d&=15)!=0)throw"unknown kern table format: "+d;a=e.kern.readFormat0(i,a,c)}return c},e.kern.readFormat0=function(i,a,o){var s=e._bin,l=-1,u=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var c=0;c<u;c++){var f=s.readUshort(i,a);a+=2;var h=s.readUshort(i,a);a+=2;var d=s.readShort(i,a);a+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var m=o.rval[o.rval.length-1];m.glyph2.push(h),m.vals.push(d),l=f}return a},e.loca={},e.loca.parse=function(i,a,o,s){var l=e._bin,u=[],c=s.head.indexToLocFormat,f=s.maxp.numGlyphs+1;if(c==0)for(var h=0;h<f;h++)u.push(l.readUshort(i,a+(h<<1))<<1);if(c==1)for(h=0;h<f;h++)u.push(l.readUint(i,a+(h<<2)));return u},e.maxp={},e.maxp.parse=function(i,a,o){var s=e._bin,l={},u=s.readUint(i,a);return a+=4,l.numGlyphs=s.readUshort(i,a),a+=2,u==65536&&(l.maxPoints=s.readUshort(i,a),a+=2,l.maxContours=s.readUshort(i,a),a+=2,l.maxCompositePoints=s.readUshort(i,a),a+=2,l.maxCompositeContours=s.readUshort(i,a),a+=2,l.maxZones=s.readUshort(i,a),a+=2,l.maxTwilightPoints=s.readUshort(i,a),a+=2,l.maxStorage=s.readUshort(i,a),a+=2,l.maxFunctionDefs=s.readUshort(i,a),a+=2,l.maxInstructionDefs=s.readUshort(i,a),a+=2,l.maxStackElements=s.readUshort(i,a),a+=2,l.maxSizeOfInstructions=s.readUshort(i,a),a+=2,l.maxComponentElements=s.readUshort(i,a),a+=2,l.maxComponentDepth=s.readUshort(i,a),a+=2),l},e.name={},e.name.parse=function(i,a,o){var s=e._bin,l={};s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2,s.readUshort(i,a);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=a+=2,d=0;d<u;d++){var m=s.readUshort(i,a);a+=2;var x=s.readUshort(i,a);a+=2;var y=s.readUshort(i,a);a+=2;var g=s.readUshort(i,a);a+=2;var _=s.readUshort(i,a);a+=2;var b=s.readUshort(i,a);a+=2;var S,A=f[g],E=h+12*u+b;if(m==0)S=s.readUnicode(i,E,_/2);else if(m==3&&x==0)S=s.readUnicode(i,E,_/2);else if(x==0)S=s.readASCII(i,E,_);else if(x==1)S=s.readUnicode(i,E,_/2);else if(x==3)S=s.readUnicode(i,E,_/2);else{if(m!=1)throw"unknown encoding "+x+", platformID: "+m;S=s.readASCII(i,E,_),console.debug("reading unknown MAC encoding "+x+" as ASCII")}var M="p"+m+","+y.toString(16);l[M]==null&&(l[M]={}),l[M][A!==void 0?A:g]=S,l[M]._lang=y}for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==1033)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==0)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==3084)return l[P];for(var P in l)if(l[P].postScriptName!=null)return l[P];for(var P in l){c=P;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,a,o){var s=e._bin.readUshort(i,a);a+=2;var l={};if(s==0)e["OS/2"].version0(i,a,l);else if(s==1)e["OS/2"].version1(i,a,l);else if(s==2||s==3||s==4)e["OS/2"].version2(i,a,l);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(i,a,l)}return l},e["OS/2"].version0=function(i,a,o){var s=e._bin;return o.xAvgCharWidth=s.readShort(i,a),a+=2,o.usWeightClass=s.readUshort(i,a),a+=2,o.usWidthClass=s.readUshort(i,a),a+=2,o.fsType=s.readUshort(i,a),a+=2,o.ySubscriptXSize=s.readShort(i,a),a+=2,o.ySubscriptYSize=s.readShort(i,a),a+=2,o.ySubscriptXOffset=s.readShort(i,a),a+=2,o.ySubscriptYOffset=s.readShort(i,a),a+=2,o.ySuperscriptXSize=s.readShort(i,a),a+=2,o.ySuperscriptYSize=s.readShort(i,a),a+=2,o.ySuperscriptXOffset=s.readShort(i,a),a+=2,o.ySuperscriptYOffset=s.readShort(i,a),a+=2,o.yStrikeoutSize=s.readShort(i,a),a+=2,o.yStrikeoutPosition=s.readShort(i,a),a+=2,o.sFamilyClass=s.readShort(i,a),a+=2,o.panose=s.readBytes(i,a,10),a+=10,o.ulUnicodeRange1=s.readUint(i,a),a+=4,o.ulUnicodeRange2=s.readUint(i,a),a+=4,o.ulUnicodeRange3=s.readUint(i,a),a+=4,o.ulUnicodeRange4=s.readUint(i,a),a+=4,o.achVendID=[s.readInt8(i,a),s.readInt8(i,a+1),s.readInt8(i,a+2),s.readInt8(i,a+3)],a+=4,o.fsSelection=s.readUshort(i,a),a+=2,o.usFirstCharIndex=s.readUshort(i,a),a+=2,o.usLastCharIndex=s.readUshort(i,a),a+=2,o.sTypoAscender=s.readShort(i,a),a+=2,o.sTypoDescender=s.readShort(i,a),a+=2,o.sTypoLineGap=s.readShort(i,a),a+=2,o.usWinAscent=s.readUshort(i,a),a+=2,o.usWinDescent=s.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,o){var s=e._bin;return a=e["OS/2"].version0(i,a,o),o.ulCodePageRange1=s.readUint(i,a),a+=4,o.ulCodePageRange2=s.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,o){var s=e._bin;return a=e["OS/2"].version1(i,a,o),o.sxHeight=s.readShort(i,a),a+=2,o.sCapHeight=s.readShort(i,a),a+=2,o.usDefault=s.readUshort(i,a),a+=2,o.usBreak=s.readUshort(i,a),a+=2,o.usMaxContext=s.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,o){var s=e._bin;return a=e["OS/2"].version2(i,a,o),o.usLowerOpticalPointSize=s.readUshort(i,a),a+=2,o.usUpperOpticalPointSize=s.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,o){var s=e._bin,l={};return l.version=s.readFixed(i,a),a+=4,l.italicAngle=s.readFixed(i,a),a+=4,l.underlinePosition=s.readShort(i,a),a+=2,l.underlineThickness=s.readShort(i,a),a+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var o=i.cmap,s=-1;if(o.p0e4!=null?s=o.p0e4:o.p3e1!=null?s=o.p3e1:o.p1e0!=null?s=o.p1e0:o.p0e3!=null&&(s=o.p0e3),s==-1)throw"no familiar platform and encoding!";var l=o.tables[s];if(l.format==0)return a>=l.map.length?0:l.map[a];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(a<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>a?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[a-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:a+l.idDelta[u])}if(l.format==12){if(a>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=a&&a<=f[1])return f[2]+(a-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,a){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var s=i.SVG.entries[a];return s==null?o:(typeof s=="string"&&(s=e.SVG.toPath(s),i.SVG.entries[a]=s),s)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=a;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],l,u,c,o)}else i.glyf&&e.U._drawGlyf(a,i,o);return o},e.U._drawGlyf=function(i,a,o){var s=a.glyf[i];s==null&&(s=a.glyf[i]=e.glyf._parseGlyf(a,i)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,o):e.U._compoGlyph(s,a,o))},e.U._simpleGlyph=function(i,a){for(var o=0;o<i.noc;o++){for(var s=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=s;u<=l;u++){var c=u==s?l:u-1,f=u==l?s:u+1,h=1&i.flags[u],d=1&i.flags[c],m=1&i.flags[f],x=i.xs[u],y=i.ys[u];if(u==s)if(h){if(!d){e.U.P.moveTo(a,x,y);continue}e.U.P.moveTo(a,i.xs[c],i.ys[c])}else d?e.U.P.moveTo(a,i.xs[c],i.ys[c]):e.U.P.moveTo(a,(i.xs[c]+x)/2,(i.ys[c]+y)/2);h?d&&e.U.P.lineTo(a,x,y):m?e.U.P.qcurveTo(a,x,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(a,x,y,(x+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,o){for(var s=0;s<i.parts.length;s++){var l={cmds:[],crds:[]},u=i.parts[s];e.U._drawGlyf(u.glyphIndex,a,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var h=l.crds[f],d=l.crds[f+1];o.crds.push(h*c.a+d*c.b+c.tx),o.crds.push(h*c.c+d*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,a){var o=e._lctf.getInterval(a,i);return o==-1?0:a[o+2]},e.U._applySubs=function(i,a,o,s){for(var l=i.length-a-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[a]))!=-1){if(o.ltype==1)i[a],f.fmt==1?i[a]=i[a]+f.delta:i[a]=f.newg[c];else if(o.ltype==4)for(var h=f.vals[c],d=0;d<h.length;d++){var m=h[d],x=m.chain.length;if(!(x>l)){for(var y=!0,g=0,_=0;_<x;_++){for(;i[a+g+(1+_)]==-1;)g++;m.chain[_]!=i[a+g+(1+_)]&&(y=!1)}if(y){for(i[a]=m.nglyph,_=0;_<x+g;_++)i[a+_+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var b=e._lctf.getInterval(f.cDef,i[a]),S=f.cDef[b+2],A=f.scset[S],E=0;E<A.length;E++){var M=A[E],P=M.input;if(!(P.length>l)){for(y=!0,_=0;_<P.length;_++){var D=e._lctf.getInterval(f.cDef,i[a+1+_]);if(b==-1&&f.cDef[D+2]!=P[_]){y=!1;break}}if(y){var N=M.substLookupRecords;for(d=0;d<N.length;d+=2)N[d],N[d+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,a-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,a)||!e.U._glsCovered(i,f.ahedCvg,a+f.inptCvg.length))continue;var C=f.lookupRec;for(E=0;E<C.length;E+=2){b=C[E];var O=s[C[E+1]];e.U._applySubs(i,a+b,O,s)}}}}},e.U._glsCovered=function(i,a,o){for(var s=0;s<a.length;s++)if(e._lctf.coverageIndex(a[s],i[o+s])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,o){for(var s={cmds:[],crds:[]},l=0,u=0;u<a.length;u++){var c=a[u];if(c!=-1){for(var f=u<a.length-1&&a[u+1]!=-1?a[u+1]:0,h=e.U.glyphToPath(i,c),d=0;d<h.crds.length;d+=2)s.crds.push(h.crds[d]+l),s.crds.push(h.crds[d+1]);for(o&&s.cmds.push(o),d=0;d<h.cmds.length;d++)s.cmds.push(h.cmds[d]);o&&s.cmds.push("X"),l+=i.hmtx.aWidth[c],u<a.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return s},e.U.P={},e.U.P.moveTo=function(i,a,o){i.cmds.push("M"),i.crds.push(a,o)},e.U.P.lineTo=function(i,a,o){i.cmds.push("L"),i.crds.push(a,o)},e.U.P.curveTo=function(i,a,o,s,l,u,c){i.cmds.push("C"),i.crds.push(a,o,s,l,u,c)},e.U.P.qcurveTo=function(i,a,o,s,l){i.cmds.push("Q"),i.crds.push(a,o,s,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,o,s,l){for(var u=a.stack,c=a.nStems,f=a.haveWidth,h=a.width,d=a.open,m=0,x=a.x,y=a.y,g=0,_=0,b=0,S=0,A=0,E=0,M=0,P=0,D=0,N=0,C={val:0,size:0};m<i.length;){e.CFF.getCharString(i,m,C);var O=C.val;if(m+=C.size,O=="o1"||O=="o18")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(O=="o3"||O=="o23")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(O=="o4")u.length>1&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),d&&e.U.P.closePath(l),y+=u.pop(),e.U.P.moveTo(l,x,y),d=!0;else if(O=="o5")for(;u.length>0;)x+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,x,y);else if(O=="o6"||O=="o7")for(var j=u.length,F=O=="o6",Z=0;Z<j;Z++){var H=u.shift();F?x+=H:y+=H,F=!F,e.U.P.lineTo(l,x,y)}else if(O=="o8"||O=="o24"){j=u.length;for(var q=0;q+6<=j;)g=x+u.shift(),_=y+u.shift(),b=g+u.shift(),S=_+u.shift(),x=b+u.shift(),y=S+u.shift(),e.U.P.curveTo(l,g,_,b,S,x,y),q+=6;O=="o24"&&(x+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,x,y))}else{if(O=="o11")break;if(O=="o1234"||O=="o1235"||O=="o1236"||O=="o1237")O=="o1234"&&(_=y,b=(g=x+u.shift())+u.shift(),N=S=_+u.shift(),E=S,P=y,x=(M=(A=(D=b+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,g,_,b,S,D,N),e.U.P.curveTo(l,A,E,M,P,x,y)),O=="o1235"&&(g=x+u.shift(),_=y+u.shift(),b=g+u.shift(),S=_+u.shift(),D=b+u.shift(),N=S+u.shift(),A=D+u.shift(),E=N+u.shift(),M=A+u.shift(),P=E+u.shift(),x=M+u.shift(),y=P+u.shift(),u.shift(),e.U.P.curveTo(l,g,_,b,S,D,N),e.U.P.curveTo(l,A,E,M,P,x,y)),O=="o1236"&&(g=x+u.shift(),_=y+u.shift(),b=g+u.shift(),N=S=_+u.shift(),E=S,M=(A=(D=b+u.shift())+u.shift())+u.shift(),P=E+u.shift(),x=M+u.shift(),e.U.P.curveTo(l,g,_,b,S,D,N),e.U.P.curveTo(l,A,E,M,P,x,y)),O=="o1237"&&(g=x+u.shift(),_=y+u.shift(),b=g+u.shift(),S=_+u.shift(),D=b+u.shift(),N=S+u.shift(),A=D+u.shift(),E=N+u.shift(),M=A+u.shift(),P=E+u.shift(),Math.abs(M-x)>Math.abs(P-y)?x=M+u.shift():y=P+u.shift(),e.U.P.curveTo(l,g,_,b,S,D,N),e.U.P.curveTo(l,A,E,M,P,x,y));else if(O=="o14"){if(u.length>0&&!f&&(h=u.shift()+o.nominalWidthX,f=!0),u.length==4){var B=u.shift(),z=u.shift(),$=u.shift(),X=u.shift(),k=e.CFF.glyphBySE(o,$),V=e.CFF.glyphBySE(o,X);e.U._drawCFF(o.CharStrings[k],a,o,s,l),a.x=B,a.y=z,e.U._drawCFF(o.CharStrings[V],a,o,s,l)}d&&(e.U.P.closePath(l),d=!1)}else if(O=="o19"||O=="o20")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,m+=c+7>>3;else if(O=="o21")u.length>2&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),y+=u.pop(),x+=u.pop(),d&&e.U.P.closePath(l),e.U.P.moveTo(l,x,y),d=!0;else if(O=="o22")u.length>1&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),x+=u.pop(),d&&e.U.P.closePath(l),e.U.P.moveTo(l,x,y),d=!0;else if(O=="o25"){for(;u.length>6;)x+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,x,y);g=x+u.shift(),_=y+u.shift(),b=g+u.shift(),S=_+u.shift(),x=b+u.shift(),y=S+u.shift(),e.U.P.curveTo(l,g,_,b,S,x,y)}else if(O=="o26")for(u.length%2&&(x+=u.shift());u.length>0;)g=x,_=y+u.shift(),x=b=g+u.shift(),y=(S=_+u.shift())+u.shift(),e.U.P.curveTo(l,g,_,b,S,x,y);else if(O=="o27")for(u.length%2&&(y+=u.shift());u.length>0;)_=y,b=(g=x+u.shift())+u.shift(),S=_+u.shift(),x=b+u.shift(),y=S,e.U.P.curveTo(l,g,_,b,S,x,y);else if(O=="o10"||O=="o29"){var G=O=="o10"?s:o;if(u.length==0)console.debug("error: empty stack");else{var K=u.pop(),ne=G.Subrs[K+G.Bias];a.x=x,a.y=y,a.nStems=c,a.haveWidth=f,a.width=h,a.open=d,e.U._drawCFF(ne,a,o,s,l),x=a.x,y=a.y,c=a.nStems,f=a.haveWidth,h=a.width,d=a.open}}else if(O=="o30"||O=="o31"){var ue=u.length,he=(q=0,O=="o31");for(q+=ue-(j=-3&ue);q<j;)he?(_=y,b=(g=x+u.shift())+u.shift(),y=(S=_+u.shift())+u.shift(),j-q==5?(x=b+u.shift(),q++):x=b,he=!1):(g=x,_=y+u.shift(),b=g+u.shift(),S=_+u.shift(),x=b+u.shift(),j-q==5?(y=S+u.shift(),q++):y=S,he=!0),e.U.P.curveTo(l,g,_,b,S,x,y),q+=4}else{if((O+"").charAt(0)=="o")throw console.debug("Unknown operation: "+O,i),O;u.push(O)}}}a.x=x,a.y=y,a.nStems=c,a.haveWidth=f,a.width=h,a.open=d};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function q5e(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(O,j){for(var F=new n(31),Z=0;Z<31;++Z)F[Z]=j+=1<<O[Z-1];var H=new r(F[30]);for(Z=1;Z<30;++Z)for(var q=F[Z];q<F[Z+1];++q)H[q]=q-F[Z]<<5|Z;return[F,H]},l=s(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=s(a,0)[0],h=new n(32768),d=0;d<32768;++d){var m=(43690&d)>>>1|(21845&d)<<1;m=(61680&(m=(52428&m)>>>2|(13107&m)<<2))>>>4|(3855&m)<<4,h[d]=((65280&m)>>>8|(255&m)<<8)>>>1}var x=function(O,j,F){for(var Z=O.length,H=0,q=new n(j);H<Z;++H)++q[O[H]-1];var B,z=new n(j);for(H=0;H<j;++H)z[H]=z[H-1]+q[H-1]<<1;{B=new n(1<<j);var $=15-j;for(H=0;H<Z;++H)if(O[H])for(var X=H<<4|O[H],k=j-O[H],V=z[O[H]-1]++<<k,G=V|(1<<k)-1;V<=G;++V)B[h[V]>>>$]=X}return B},y=new e(288);for(d=0;d<144;++d)y[d]=8;for(d=144;d<256;++d)y[d]=9;for(d=256;d<280;++d)y[d]=7;for(d=280;d<288;++d)y[d]=8;var g=new e(32);for(d=0;d<32;++d)g[d]=5;var _=x(y,9),b=x(g,5),S=function(O){for(var j=O[0],F=1;F<O.length;++F)O[F]>j&&(j=O[F]);return j},A=function(O,j,F){var Z=j/8|0;return(O[Z]|O[Z+1]<<8)>>(7&j)&F},E=function(O,j){var F=j/8|0;return(O[F]|O[F+1]<<8|O[F+2]<<16)>>(7&j)},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],P=function(O,j,F){var Z=new Error(j||M[O]);if(Z.code=O,Error.captureStackTrace&&Error.captureStackTrace(Z,P),!F)throw Z;return Z},D=function(O,j,F){var Z=O.length;if(!Z||F&&!F.l&&Z<5)return j||new e(0);var H=!j||F,q=!F||F.i;F||(F={}),j||(j=new e(3*Z));var B,z=function(ot){var be=j.length;if(ot>be){var Ve=new e(Math.max(2*be,ot));Ve.set(j),j=Ve}},$=F.f||0,X=F.p||0,k=F.b||0,V=F.l,G=F.d,K=F.m,ne=F.n,ue=8*Z;do{if(!V){F.f=$=A(O,X,1);var he=A(O,X+1,3);if(X+=3,!he){var ce=O[(Fe=((B=X)/8|0)+(7&B&&1)+4)-4]|O[Fe-3]<<8,Me=Fe+ce;if(Me>Z){q&&P(0);break}H&&z(k+ce),j.set(O.subarray(Fe,Me),k),F.b=k+=ce,F.p=X=8*Me;continue}if(he==1)V=_,G=b,K=9,ne=5;else if(he==2){var ye=A(O,X,31)+257,J=A(O,X+10,15)+4,Ee=ye+A(O,X+5,31)+1;X+=14;for(var Ae=new e(Ee),me=new e(19),ie=0;ie<J;++ie)me[o[ie]]=A(O,X+3*ie,7);X+=3*J;var He=S(me),Ce=(1<<He)-1,Le=x(me,He);for(ie=0;ie<Ee;){var Fe,te=Le[A(O,X,Ce)];if(X+=15&te,(Fe=te>>>4)<16)Ae[ie++]=Fe;else{var ee=0,Se=0;for(Fe==16?(Se=3+A(O,X,3),X+=2,ee=Ae[ie-1]):Fe==17?(Se=3+A(O,X,7),X+=3):Fe==18&&(Se=11+A(O,X,127),X+=7);Se--;)Ae[ie++]=ee}}var Pe=Ae.subarray(0,ye),Oe=Ae.subarray(ye);K=S(Pe),ne=S(Oe),V=x(Pe,K),G=x(Oe,ne)}else P(1);if(X>ue){q&&P(0);break}}H&&z(k+131072);for(var qe=(1<<K)-1,it=(1<<ne)-1,at=X;;at=X){var ze=(ee=V[E(O,X)&qe])>>>4;if((X+=15&ee)>ue){q&&P(0);break}if(ee||P(2),ze<256)j[k++]=ze;else{if(ze==256){at=X,V=null;break}var Ze=ze-254;if(ze>264){var tt=i[ie=ze-257];Ze=A(O,X,(1<<tt)-1)+u[ie],X+=tt}var ht=G[E(O,X)&it],Mt=ht>>>4;if(ht||P(3),X+=15&ht,Oe=f[Mt],Mt>3&&(tt=a[Mt],Oe+=E(O,X)&(1<<tt)-1,X+=tt),X>ue){q&&P(0);break}H&&z(k+131072);for(var Pt=k+Ze;k<Pt;k+=4)j[k]=j[k-Oe],j[k+1]=j[k+1-Oe],j[k+2]=j[k+2-Oe],j[k+3]=j[k+3-Oe];k=Pt}}F.l=V,F.p=at,F.b=k,V&&($=1,F.m=K,F.d=G,F.n=ne)}while(!$);return k==j.length?j:function(ot,be,Ve){(Ve==null||Ve>ot.length)&&(Ve=ot.length);var ct=new(ot instanceof n?n:ot instanceof r?r:e)(Ve-be);return ct.set(ot.subarray(be,Ve)),ct}(j,0,k)},N=new e(0),C=typeof TextDecoder<"u"&&new TextDecoder;try{C.decode(N,{stream:!0})}catch{}return t.convert_streams=function(O){var j=new DataView(O),F=0;function Z(){var ye=j.getUint16(F);return F+=2,ye}function H(){var ye=j.getUint32(F);return F+=4,ye}function q(ye){ce.setUint16(Me,ye),Me+=2}function B(ye){ce.setUint32(Me,ye),Me+=4}for(var z={signature:H(),flavor:H(),length:H(),numTables:Z(),reserved:Z(),totalSfntSize:H(),majorVersion:Z(),minorVersion:Z(),metaOffset:H(),metaLength:H(),metaOrigLength:H(),privOffset:H(),privLength:H()},$=0;Math.pow(2,$)<=z.numTables;)$++;$--;for(var X=16*Math.pow(2,$),k=16*z.numTables-X,V=12,G=[],K=0;K<z.numTables;K++)G.push({tag:H(),offset:H(),compLength:H(),origLength:H(),origChecksum:H()}),V+=16;var ne,ue=new Uint8Array(12+16*G.length+G.reduce(function(ye,J){return ye+J.origLength+4},0)),he=ue.buffer,ce=new DataView(he),Me=0;return B(z.flavor),q(z.numTables),q(X),q($),q(k),G.forEach(function(ye){B(ye.tag),B(ye.origChecksum),B(V),B(ye.origLength),ye.outOffset=V,(V+=ye.origLength)%4!=0&&(V+=4-V%4)}),G.forEach(function(ye){var J,Ee=O.slice(ye.offset,ye.offset+ye.compLength);if(ye.compLength!=ye.origLength){var Ae=new Uint8Array(ye.origLength);J=new Uint8Array(Ee,2),D(J,Ae)}else Ae=new Uint8Array(Ee);ue.set(Ae,ye.outOffset);var me=0;(V=ye.outOffset+ye.origLength)%4!=0&&(me=4-V%4),ue.set(new Uint8Array(me).buffer,ye.outOffset+ye.origLength),ne=V+me}),he.slice(0,ne)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function X5e(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,o=4,s=8,l=16,u=32;let c;function f(M){if(!c){const P={R:a,L:i,D:o,C:l,U:u,T:s};c=new Map;for(let D in r){let N=0;r[D].split(",").forEach(C=>{let[O,j]=C.split("+");O=parseInt(O,36),j=j?parseInt(j,36):0,c.set(N+=O,P[D]);for(let F=j;F--;)c.set(++N,P[D])})}}return c.get(M)||u}const h=1,d=2,m=3,x=4,y=[null,"isol","init","fina","medi"];function g(M){const P=new Uint8Array(M.length);let D=u,N=h,C=-1;for(let O=0;O<M.length;O++){const j=M.codePointAt(O);let F=f(j)|0,Z=h;F&s||(D&(i|o|l)?F&(a|o|l)?(Z=m,(N===h||N===m)&&P[C]++):F&(i|u)&&(N===d||N===x)&&P[C]--:D&(a|u)&&(N===d||N===x)&&P[C]--,N=P[O]=Z,D=F,C=O,j>65535&&O++)}return P}function _(M,P){const D=[];for(let C=0;C<P.length;C++){const O=P.codePointAt(C);O>65535&&C++,D.push(t.U.codeToGlyph(M,O))}const N=M.GSUB;if(N){const{lookupList:C,featureList:O}=N;let j;const F=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,Z=[];O.forEach(H=>{if(F.test(H.tag))for(let q=0;q<H.tab.length;q++){if(Z[H.tab[q]])continue;Z[H.tab[q]]=!0;const B=C[H.tab[q]],z=/^(isol|init|fina|medi)$/.test(H.tag);z&&!j&&(j=g(P));for(let $=0;$<D.length;$++)(!j||!z||y[j[$]]===H.tag)&&t.U._applySubs(D,$,B,C)}})}return D}function b(M,P){const D=new Int16Array(P.length*3);let N=0;for(;N<P.length;N++){const F=P[N];if(F===-1)continue;D[N*3+2]=M.hmtx.aWidth[F];const Z=M.GPOS;if(Z){const H=Z.lookupList;for(let q=0;q<H.length;q++){const B=H[q];for(let z=0;z<B.tabs.length;z++){const $=B.tabs[z];if(B.ltype===1){if(t._lctf.coverageIndex($.coverage,F)!==-1&&$.pos){j($.pos,N);break}}else if(B.ltype===2){let X=null,k=C();if(k!==-1){const V=t._lctf.coverageIndex($.coverage,P[k]);if(V!==-1){if($.fmt===1){const G=$.pairsets[V];for(let K=0;K<G.length;K++)G[K].gid2===F&&(X=G[K])}else if($.fmt===2){const G=t.U._getGlyphClass(P[k],$.classDef1),K=t.U._getGlyphClass(F,$.classDef2);X=$.matrix[G][K]}if(X){X.val1&&j(X.val1,k),X.val2&&j(X.val2,N);break}}}}else if(B.ltype===4){const X=t._lctf.coverageIndex($.markCoverage,F);if(X!==-1){const k=C(O),V=k===-1?-1:t._lctf.coverageIndex($.baseCoverage,P[k]);if(V!==-1){const G=$.markArray[X],K=$.baseArray[V][G.markClass];D[N*3]=K.x-G.x+D[k*3]-D[k*3+2],D[N*3+1]=K.y-G.y+D[k*3+1];break}}}else if(B.ltype===6){const X=t._lctf.coverageIndex($.mark1Coverage,F);if(X!==-1){const k=C();if(k!==-1){const V=P[k];if(S(M,V)===3){const G=t._lctf.coverageIndex($.mark2Coverage,V);if(G!==-1){const K=$.mark1Array[X],ne=$.mark2Array[G][K.markClass];D[N*3]=ne.x-K.x+D[k*3]-D[k*3+2],D[N*3+1]=ne.y-K.y+D[k*3+1];break}}}}}}}}else if(M.kern&&!M.cff){const H=C();if(H!==-1){const q=M.kern.glyph1.indexOf(P[H]);if(q!==-1){const B=M.kern.rval[q].glyph2.indexOf(F);B!==-1&&(D[H*3+2]+=M.kern.rval[q].vals[B])}}}}return D;function C(F){for(let Z=N-1;Z>=0;Z--)if(P[Z]!==-1&&(!F||F(P[Z])))return Z;return-1}function O(F){return S(M,F)===1}function j(F,Z){for(let H=0;H<3;H++)D[Z*3+H]+=F[H]||0}}function S(M,P){const D=M.GDEF&&M.GDEF.glyphClassDef;return D?t.U._getGlyphClass(P,D):0}function A(...M){for(let P=0;P<M.length;P++)if(typeof M[P]=="number")return M[P]}function E(M){const P=Object.create(null),D=M["OS/2"],N=M.hhea,C=M.head.unitsPerEm,O=A(D&&D.sTypoAscender,N&&N.ascender,C),j={unitsPerEm:C,ascender:O,descender:A(D&&D.sTypoDescender,N&&N.descender,0),capHeight:A(D&&D.sCapHeight,O),xHeight:A(D&&D.sxHeight,O),lineGap:A(D&&D.sTypoLineGap,N&&N.lineGap),supportsCodePoint(F){return t.U.codeToGlyph(M,F)>0},forEachGlyph(F,Z,H,q){let B=0;const z=1/j.unitsPerEm*Z,$=_(M,F);let X=0;const k=b(M,$);return $.forEach((V,G)=>{if(V!==-1){let K=P[V];if(!K){const{cmds:ne,crds:ue}=t.U.glyphToPath(M,V);let he="",ce=0;for(let Ae=0,me=ne.length;Ae<me;Ae++){const ie=n[ne[Ae]];he+=ne[Ae];for(let He=1;He<=ie;He++)he+=(He>1?",":"")+ue[ce++]}let Me,ye,J,Ee;if(ue.length){Me=ye=1/0,J=Ee=-1/0;for(let Ae=0,me=ue.length;Ae<me;Ae+=2){let ie=ue[Ae],He=ue[Ae+1];ie<Me&&(Me=ie),He<ye&&(ye=He),ie>J&&(J=ie),He>Ee&&(Ee=He)}}else Me=J=ye=Ee=0;K=P[V]={index:V,advanceWidth:M.hmtx.aWidth[V],xMin:Me,yMin:ye,xMax:J,yMax:Ee,path:he}}q.call(null,K,B+k[G*3]*z,k[G*3+1]*z,X),B+=k[G*3+2]*z,H&&(B+=H*Z)}X+=F.codePointAt(X)>65535?2:1}),B}};return j}return function(P){const D=new Uint8Array(P,0,4),N=t._bin.readASCII(D,0,4);if(N==="wOFF")P=e(P);else if(N==="wOF2")throw new Error("woff2 fonts not supported");return E(t.parse(P)[0])}}const Y5e=zg({name:"Typr Font Parser",dependencies:[$5e,q5e,X5e],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function K5e(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(b){var S=b>>5;this.buckets.set(S,(this.buckets.get(S)||0)|1<<(31&b))},e.prototype.has=function(b){var S=this.buckets.get(b>>5);return S!==void 0&&(S&1<<(31&b))!=0},e.prototype.serialize=function(){var b=[];return this.buckets.forEach(function(S,A){b.push((+A).toString(36)+":"+S.toString(36))}),b.join(",")},e.prototype.deserialize=function(b){var S=this;this.buckets.clear(),b.split(",").forEach(function(A){var E=A.split(":");S.buckets.set(parseInt(E[0],36),parseInt(E[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function a(b){var S=function(E){return E&i}(b).toString(16),A=function(E){return(E&i)+n-1}(b).toString(16);return"codepoint-index/plane"+(b>>16)+"/"+S+"-"+A+".json"}function o(b,S){var A=b&r,E=S.codePointAt(A/6|0);return((E=(E||48)-48)&1<<A%6)!=0}function s(b,S){var A;(A=b,A.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(E){return E.split("-").map(function(M){return parseInt(M.trim(),16)})})).forEach(function(E){var M=E[0],P=E[1];P===void 0&&(P=M),S(M,P)})}function l(b,S){s(b,function(A,E){for(var M=A;M<=E;M++)S(M)})}var u={},c={},f=new WeakMap,h="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function d(b){var S=f.get(b);return S||(S=new e,l(b.ranges,function(A){return S.add(A)}),f.set(b,S)),S}var m,x=new Map;function y(b,S,A){return b[S]?S:b[A]?A:function(E){for(var M in E)return M}(b)}function g(b,S){var A=S;if(!b.includes(A)){A=1/0;for(var E=0;E<b.length;E++)Math.abs(b[E]-S)<Math.abs(A-S)&&(A=b[E])}return A}function _(b){return m||(m=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(S){m.add(S)})),m.has(b)}return t.CodePointSet=e,t.clearCache=function(){u={},c={}},t.getFontsForString=function(b,S){S===void 0&&(S={});var A,E=S.lang;E===void 0&&(E=new RegExp("\\p{Script=Hangul}","u").test(A=b)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(A)?"ja":"en");var M=S.category;M===void 0&&(M="sans-serif");var P=S.style;P===void 0&&(P="normal");var D=S.weight;D===void 0&&(D=400);var N=(S.dataUrl||h).replace(/\/$/g,""),C=new Map,O=new Uint8Array(b.length),j={},F={},Z=new Array(b.length),H=new Map,q=!1;function B(X){var k=x.get(X);return k||(k=fetch(N+"/"+X).then(function(V){if(!V.ok)throw new Error(V.statusText);return V.json().then(function(G){if(!Array.isArray(G)||G[0]!==1)throw new Error("Incorrect schema version; need 1, got "+G[0]);return G[1]})}).catch(function(V){if(N!==h)return q||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+N+'", trying default CDN. '+V.message),q=!0),N=h,x.delete(X),B(X);throw V}),x.set(X,k)),k}for(var z=function(X){var k=b.codePointAt(X),V=a(k);Z[X]=V,u[V]||H.has(V)||H.set(V,B(V).then(function(G){u[V]=G})),k>65535&&(X++,$=X)},$=0;$<b.length;$++)z($);return Promise.all(H.values()).then(function(){H.clear();for(var X=function(V){var G=b.codePointAt(V),K=null,ne=u[Z[V]],ue=void 0;for(var he in ne){var ce=F[he];if(ce===void 0&&(ce=F[he]=new RegExp(he).test(E||"en")),ce){for(var Me in ue=he,ne[he])if(o(G,ne[he][Me])){K=Me;break}break}}if(!K){e:for(var ye in ne)if(ye!==ue){for(var J in ne[ye])if(o(G,ne[ye][J])){K=J;break e}}}K||(console.debug("No font coverage for U+"+G.toString(16)),K="latin"),Z[V]=K,c[K]||H.has(K)||H.set(K,B("font-meta/"+K+".json").then(function(Ee){c[K]=Ee})),G>65535&&(V++,k=V)},k=0;k<b.length;k++)X(k);return Promise.all(H.values())}).then(function(){for(var X,k=null,V=0;V<b.length;V++){var G=b.codePointAt(V);if(k&&(_(G)||d(k).has(G)))O[V]=O[V-1];else{k=c[Z[V]];var K=j[k.id];if(!K){var ne=k.typeforms,ue=y(ne,M,"sans-serif"),he=y(ne[ue],P,"normal"),ce=g((X=ne[ue])===null||X===void 0?void 0:X[he],D);K=j[k.id]=N+"/font-files/"+k.id+"/"+ue+"."+he+"."+ce+".woff"}var Me=C.get(K);Me==null&&(Me=C.size,C.set(K,Me)),O[V]=Me}G>65535&&(V++,O[V]=O[V-1])}return{fontUrls:Array.from(C.keys()),chars:O}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function Z5e(t,e){const n=Object.create(null),r=Object.create(null);function i(o,s){const l=u=>{console.error(`Failure loading font ${o}`,u)};try{const u=new XMLHttpRequest;u.open("get",o,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const c=t(u.response);c.src=o,s(c)}catch(c){l(c)}},u.onerror=l,u.send()}catch(u){l(u)}}function a(o,s){let l=n[o];l?s(l):r[o]?r[o].push(s):(r[o]=[s],i(o,u=>{u.src=o,n[o]=u,r[o].forEach(c=>c(u)),delete r[o]}))}return function(o,s,{lang:l,fonts:u=[],style:c="normal",weight:f="normal",unicodeFontsURL:h}={}){const d=new Uint8Array(o.length),m=[];o.length||_();const x=new Map,y=[];if(c!=="italic"&&(c="normal"),typeof f!="number"&&(f=f==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(S=>!S.lang||S.lang.test(l)).reverse(),u.length){let M=0;(function P(D=0){for(let N=D,C=o.length;N<C;N++){const O=o.codePointAt(N);if(M===1&&m[d[N-1]].supportsCodePoint(O)||N>0&&/\s/.test(o[N]))d[N]=d[N-1],M===2&&(y[y.length-1][1]=N);else for(let j=d[N],F=u.length;j<=F;j++)if(j===F){const Z=M===2?y[y.length-1]:y[y.length]=[N,N];Z[1]=N,M=2}else{d[N]=j;const{src:Z,unicodeRange:H}=u[j];if(!H||b(O,H)){const q=n[Z];if(!q){a(Z,()=>{P(N)});return}if(q.supportsCodePoint(O)){let B=x.get(q);typeof B!="number"&&(B=m.length,m.push(q),x.set(q,B)),d[N]=B,M=1;break}}}O>65535&&N+1<C&&(d[N+1]=d[N],N++,M===2&&(y[y.length-1][1]=N))}g()})()}else y.push([0,o.length-1]),g();function g(){if(y.length){const S=y.map(A=>o.substring(A[0],A[1]+1)).join(`
`);e.getFontsForString(S,{lang:l||void 0,style:c,weight:f,dataUrl:h}).then(({fontUrls:A,chars:E})=>{const M=m.length;let P=0;y.forEach(N=>{for(let C=0,O=N[1]-N[0];C<=O;C++)d[N[0]+C]=E[P++]+M;P++});let D=0;A.forEach((N,C)=>{a(N,O=>{m[C+M]=O,++D===A.length&&_()})})})}else _()}function _(){s({chars:d,fonts:m})}function b(S,A){for(let E=0;E<A.length;E++){const[M,P=M]=A[E];if(M<=S&&S<=P)return!0}return!1}}}const J5e=zg({name:"FontResolver",dependencies:[Z5e,Y5e,K5e],init(t,e,n){return t(e,n())}});function Q5e(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:m,lang:x,fonts:y,style:g,weight:_,preResolvedFonts:b,unicodeFontsURL:S},A){const E=({chars:M,fonts:P})=>{let D,N;const C=[];for(let O=0;O<M.length;O++)M[O]!==N?(N=M[O],C.push(D={start:O,end:O,fontObj:P[M[O]]})):D.end=O;A(C)};b?E(b):t(m,E,{lang:x,fonts:y,style:g,weight:_,unicodeFontsURL:S})}function s({text:m="",font:x,lang:y,sdfGlyphSize:g=64,fontSize:_=400,fontWeight:b=1,fontStyle:S="normal",letterSpacing:A=0,lineHeight:E="normal",maxWidth:M=1/0,direction:P,textAlign:D="left",textIndent:N=0,whiteSpace:C="normal",overflowWrap:O="normal",anchorX:j=0,anchorY:F=0,metricsOnly:Z=!1,unicodeFontsURL:H,preResolvedFonts:q=null,includeCaretPositions:B=!1,chunkedBoundsSize:z=8192,colorRanges:$=null},X){const k=f(),V={fontLoad:0,typesetting:0};m.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),m=m.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),_=+_,A=+A,M=+M,E=E||"normal",N=+N,o({text:m,lang:y,style:S,weight:b,fonts:typeof x=="string"?[{src:x}]:x,unicodeFontsURL:H,preResolvedFonts:q},G=>{V.fontLoad=f()-k;const K=isFinite(M);let ne=null,ue=null,he=null,ce=null,Me=null,ye=null,J=null,Ee=null,Ae=0,me=0,ie=C!=="nowrap";const He=new Map,Ce=f();let Le=N,Fe=0,te=new h;const ee=[te];G.forEach(it=>{const{fontObj:at}=it,{ascender:ze,descender:Ze,unitsPerEm:tt,lineGap:ht,capHeight:Mt,xHeight:Pt}=at;let ot=He.get(at);if(!ot){const vt=_/tt,Te=E==="normal"?(ze-Ze+ht)*vt:E*_,St=(Te-(ze-Ze)*vt)/2,Ie=Math.min(Te,(ze-Ze)*vt),Xe=(ze+Ze)/2*vt+Ie/2;ot={index:He.size,src:at.src,fontObj:at,fontSizeMult:vt,unitsPerEm:tt,ascender:ze*vt,descender:Ze*vt,capHeight:Mt*vt,xHeight:Pt*vt,lineHeight:Te,baseline:-St-ze*vt,caretTop:Xe,caretBottom:Xe-Ie},He.set(at,ot)}const{fontSizeMult:be}=ot,Ve=m.slice(it.start,it.end+1);let ct,xt;at.forEachGlyph(Ve,_,A,(vt,Te,St,Ie)=>{Te+=Fe,Ie+=it.start,ct=Te,xt=vt;const Xe=m.charAt(Ie),st=vt.advanceWidth*be,Nt=te.count;let Et;if("isEmpty"in vt||(vt.isWhitespace=!!Xe&&new RegExp(i).test(Xe),vt.canBreakAfter=!!Xe&&a.test(Xe),vt.isEmpty=vt.xMin===vt.xMax||vt.yMin===vt.yMax||r.test(Xe)),!vt.isWhitespace&&!vt.isEmpty&&me++,ie&&K&&!vt.isWhitespace&&Te+st+Le>M&&Nt){if(te.glyphAt(Nt-1).glyphObj.canBreakAfter)Et=new h,Le=-Te;else for(let pn=Nt;pn--;)if(pn===0&&O==="break-word"){Et=new h,Le=-Te;break}else if(te.glyphAt(pn).glyphObj.canBreakAfter){Et=te.splitAt(pn+1);const At=Et.glyphAt(0).x;Le-=At;for(let hn=Et.count;hn--;)Et.glyphAt(hn).x-=At;break}Et&&(te.isSoftWrapped=!0,te=Et,ee.push(te),Ae=M)}let qt=te.glyphAt(te.count);qt.glyphObj=vt,qt.x=Te+Le,qt.y=St,qt.width=st,qt.charIndex=Ie,qt.fontData=ot,Xe===`
`&&(te=new h,ee.push(te),Le=-(Te+st+A*_)+N)}),Fe=ct+xt.advanceWidth*be+A*_});let Se=0;ee.forEach(it=>{let at=!0;for(let ze=it.count;ze--;){const Ze=it.glyphAt(ze);at&&!Ze.glyphObj.isWhitespace&&(it.width=Ze.x+Ze.width,it.width>Ae&&(Ae=it.width),at=!1);let{lineHeight:tt,capHeight:ht,xHeight:Mt,baseline:Pt}=Ze.fontData;tt>it.lineHeight&&(it.lineHeight=tt);const ot=Pt-it.baseline;ot<0&&(it.baseline+=ot,it.cap+=ot,it.ex+=ot),it.cap=Math.max(it.cap,it.baseline+ht),it.ex=Math.max(it.ex,it.baseline+Mt)}it.baseline-=Se,it.cap-=Se,it.ex-=Se,Se+=it.lineHeight});let Pe=0,Oe=0;if(j&&(typeof j=="number"?Pe=-j:typeof j=="string"&&(Pe=-Ae*(j==="left"?0:j==="center"?.5:j==="right"?1:u(j)))),F&&(typeof F=="number"?Oe=-F:typeof F=="string"&&(Oe=F==="top"?0:F==="top-baseline"?-ee[0].baseline:F==="top-cap"?-ee[0].cap:F==="top-ex"?-ee[0].ex:F==="middle"?Se/2:F==="bottom"?Se:F==="bottom-baseline"?-ee[ee.length-1].baseline:u(F)*Se)),!Z){const it=e.getEmbeddingLevels(m,P);ne=new Uint16Array(me),ue=new Uint8Array(me),he=new Float32Array(me*2),ce={},J=[1/0,1/0,-1/0,-1/0],Ee=[],B&&(ye=new Float32Array(m.length*4)),$&&(Me=new Uint8Array(me*3));let at=0,ze=-1,Ze=-1,tt,ht;if(ee.forEach((Mt,Pt)=>{let{count:ot,width:be}=Mt;if(ot>0){let Ve=0;for(let Ie=ot;Ie--&&Mt.glyphAt(Ie).glyphObj.isWhitespace;)Ve++;let ct=0,xt=0;if(D==="center")ct=(Ae-be)/2;else if(D==="right")ct=Ae-be;else if(D==="justify"&&Mt.isSoftWrapped){let Ie=0;for(let Xe=ot-Ve;Xe--;)Mt.glyphAt(Xe).glyphObj.isWhitespace&&Ie++;xt=(Ae-be)/Ie}if(xt||ct){let Ie=0;for(let Xe=0;Xe<ot;Xe++){let st=Mt.glyphAt(Xe);const Nt=st.glyphObj;st.x+=ct+Ie,xt!==0&&Nt.isWhitespace&&Xe<ot-Ve&&(Ie+=xt,st.width+=xt)}}const vt=e.getReorderSegments(m,it,Mt.glyphAt(0).charIndex,Mt.glyphAt(Mt.count-1).charIndex);for(let Ie=0;Ie<vt.length;Ie++){const[Xe,st]=vt[Ie];let Nt=1/0,Et=-1/0;for(let qt=0;qt<ot;qt++)if(Mt.glyphAt(qt).charIndex>=Xe){let pn=qt,At=qt;for(;At<ot;At++){let hn=Mt.glyphAt(At);if(hn.charIndex>st)break;At<ot-Ve&&(Nt=Math.min(Nt,hn.x),Et=Math.max(Et,hn.x+hn.width))}for(let hn=pn;hn<At;hn++){const Un=Mt.glyphAt(hn);Un.x=Et-(Un.x+Un.width-Nt)}break}}let Te;const St=Ie=>Te=Ie;for(let Ie=0;Ie<ot;Ie++){const Xe=Mt.glyphAt(Ie);Te=Xe.glyphObj;const st=Te.index,Nt=it.levels[Xe.charIndex]&1;if(Nt){const Et=e.getMirroredCharacter(m[Xe.charIndex]);Et&&Xe.fontData.fontObj.forEachGlyph(Et,0,0,St)}if(B){const{charIndex:Et,fontData:qt}=Xe,pn=Xe.x+Pe,At=Xe.x+Xe.width+Pe;ye[Et*4]=Nt?At:pn,ye[Et*4+1]=Nt?pn:At,ye[Et*4+2]=Mt.baseline+qt.caretBottom+Oe,ye[Et*4+3]=Mt.baseline+qt.caretTop+Oe;const hn=Et-ze;hn>1&&c(ye,ze,hn),ze=Et}if($){const{charIndex:Et}=Xe;for(;Et>Ze;)Ze++,$.hasOwnProperty(Ze)&&(ht=$[Ze])}if(!Te.isWhitespace&&!Te.isEmpty){const Et=at++,{fontSizeMult:qt,src:pn,index:At}=Xe.fontData,hn=ce[pn]||(ce[pn]={});hn[st]||(hn[st]={path:Te.path,pathBounds:[Te.xMin,Te.yMin,Te.xMax,Te.yMax]});const Un=Xe.x+Pe,dr=Xe.y+Mt.baseline+Oe;he[Et*2]=Un,he[Et*2+1]=dr;const Bn=Un+Te.xMin*qt,kn=dr+Te.yMin*qt,or=Un+Te.xMax*qt,ii=dr+Te.yMax*qt;Bn<J[0]&&(J[0]=Bn),kn<J[1]&&(J[1]=kn),or>J[2]&&(J[2]=or),ii>J[3]&&(J[3]=ii),Et%z===0&&(tt={start:Et,end:Et,rect:[1/0,1/0,-1/0,-1/0]},Ee.push(tt)),tt.end++;const sr=tt.rect;if(Bn<sr[0]&&(sr[0]=Bn),kn<sr[1]&&(sr[1]=kn),or>sr[2]&&(sr[2]=or),ii>sr[3]&&(sr[3]=ii),ne[Et]=st,ue[Et]=At,$){const Zr=Et*3;Me[Zr]=ht>>16&255,Me[Zr+1]=ht>>8&255,Me[Zr+2]=ht&255}}}}}),ye){const Mt=m.length-ze;Mt>1&&c(ye,ze,Mt)}}const qe=[];He.forEach(({index:it,src:at,unitsPerEm:ze,ascender:Ze,descender:tt,lineHeight:ht,capHeight:Mt,xHeight:Pt})=>{qe[it]={src:at,unitsPerEm:ze,ascender:Ze,descender:tt,lineHeight:ht,capHeight:Mt,xHeight:Pt}}),V.typesetting=f()-Ce,X({glyphIds:ne,glyphFontIndices:ue,glyphPositions:he,glyphData:ce,fontData:qe,caretPositions:ye,glyphColors:Me,chunkedBounds:Ee,fontSize:_,topBaseline:Oe+ee[0].baseline,blockBounds:[Pe,Oe-Se,Pe+Ae,Oe],visibleBounds:J,timings:V})})}function l(m,x){s({...m,metricsOnly:!0},y=>{const[g,_,b,S]=y.blockBounds;x({width:b-g,height:S-_})})}function u(m){let x=m.match(/^([\d.]+)%$/),y=x?parseFloat(x[1]):NaN;return isNaN(y)?0:y/100}function c(m,x,y){const g=m[x*4],_=m[x*4+1],b=m[x*4+2],S=m[x*4+3],A=(_-g)/y;for(let E=0;E<y;E++){const M=(x+E)*4;m[M]=g+A*E,m[M+1]=g+A*(E+1),m[M+2]=b,m[M+3]=S}}function f(){return(self.performance||Date).now()}function h(){this.data=[]}const d=["glyphObj","x","y","width","charIndex","fontData"];return h.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/d.length)},glyphAt(m){let x=h.flyweight;return x.data=this.data,x.index=m,x},splitAt(m){let x=new h;return x.data=this.data.splice(m*d.length),x}},h.flyweight=d.reduce((m,x,y,g)=>(Object.defineProperty(m,x,{get(){return this.data[this.index*d.length+y]},set(_){this.data[this.index*d.length+y]=_}}),m),{data:null,index:0}),{typeset:s,measure:l}}const Od=()=>(self.performance||Date).now(),Vw=l9();let Zk;function eAe(t,e,n,r,i,a,o,s,l,u,c=!0){return c?nAe(t,e,n,r,i,a,o,s,l,u).then(null,f=>(Zk||(console.warn("WebGL SDF generation failed, falling back to JS",f),Zk=!0),Qk(t,e,n,r,i,a,o,s,l,u))):Qk(t,e,n,r,i,a,o,s,l,u)}const Nx=[],tAe=5;let P3=0;function c9(){const t=Od();for(;Nx.length&&Od()-t<tAe;)Nx.shift()();P3=Nx.length?setTimeout(c9,0):0}const nAe=(...t)=>new Promise((e,n)=>{Nx.push(()=>{const r=Od();try{Vw.webgl.generateIntoCanvas(...t),e({timing:Od()-r})}catch(i){n(i)}}),P3||(P3=setTimeout(c9,0))}),rAe=4,iAe=2e3,Jk={};let aAe=0;function Qk(t,e,n,r,i,a,o,s,l,u){const c="TroikaTextSDFGenerator_JS_"+aAe++%rAe;let f=Jk[c];return f||(f=Jk[c]={workerModule:zg({name:c,workerId:c,dependencies:[l9,Od],init(h,d){const m=h().javascript.generate;return function(...x){const y=d();return{textureData:m(...x),timing:d()-y}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,a).then(({textureData:h,timing:d})=>{const m=Od(),x=new Uint8Array(h.length*4);for(let y=0;y<h.length;y++)x[y*4+u]=h[y];return Vw.webglUtils.renderImageData(o,x,s,l,t,e,1<<3-u),d+=Od()-m,--f.requests===0&&(f.idleTimer=setTimeout(()=>{D5e(c)},iAe)),{timing:d}})}function oAe(t){t._warm||(Vw.webgl.isSupported(t),t._warm=!0)}const sAe=Vw.webglUtils.resizeWebGLCanvasWithoutClearing,om={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},lAe=new zt;function tm(){return(self.performance||Date).now()}const eD=Object.create(null);function f9(t,e){t=fAe({},t);const n=tm(),{defaultFontURL:r}=om,i=[];if(r&&i.push({label:"default",src:tD(r)}),t.font&&i.push({label:"user",src:tD(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||om.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||om.unicodeFontsURL,t.colorRanges!=null){let d={};for(let m in t.colorRanges)if(t.colorRanges.hasOwnProperty(m)){let x=t.colorRanges[m];typeof x!="number"&&(x=lAe.set(x).getHex()),d[m]=x}t.colorRanges=d}Object.freeze(t);const{textureWidth:a,sdfExponent:o}=om,{sdfGlyphSize:s}=t,l=a/s*4;let u=eD[s];if(!u){const d=document.createElement("canvas");d.width=a,d.height=s*256/l,u=eD[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:d,sdfTexture:new yi(d,void 0,void 0,void 0,Xr,Xr),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,uAe(u)}const{sdfTexture:c,sdfCanvas:f}=u;p9(t).then(d=>{const{glyphIds:m,glyphFontIndices:x,fontData:y,glyphPositions:g,fontSize:_,timings:b}=d,S=[],A=new Float32Array(m.length*4);let E=0,M=0;const P=tm(),D=y.map(F=>{let Z=u.glyphsByFont.get(F.src);return Z||u.glyphsByFont.set(F.src,Z=new Map),Z});m.forEach((F,Z)=>{const H=x[Z],{src:q,unitsPerEm:B}=y[H];let z=D[H].get(F);if(!z){const{path:G,pathBounds:K}=d.glyphData[q][F],ne=Math.max(K[2]-K[0],K[3]-K[1])/s*(om.sdfMargin*s+.5),ue=u.glyphCount++,he=[K[0]-ne,K[1]-ne,K[2]+ne,K[3]+ne];D[H].set(F,z={path:G,atlasIndex:ue,sdfViewBox:he}),S.push(z)}const{sdfViewBox:$}=z,X=g[M++],k=g[M++],V=_/B;A[E++]=X+$[0]*V,A[E++]=k+$[1]*V,A[E++]=X+$[2]*V,A[E++]=k+$[3]*V,m[Z]=z.atlasIndex}),b.quads=(b.quads||0)+(tm()-P);const N=tm();b.sdf={};const C=f.height,O=Math.ceil(u.glyphCount/l),j=Math.pow(2,Math.ceil(Math.log2(O*s)));j>C&&(console.info(`Increasing SDF texture size ${C}->${j}`),sAe(f,a,j),c.dispose()),Promise.all(S.map(F=>h9(F,u,t.gpuAccelerateSDF).then(({timing:Z})=>{b.sdf[F.atlasIndex]=Z}))).then(()=>{S.length&&!u.contextLost&&(d9(u),c.needsUpdate=!0),b.sdfTotal=tm()-N,b.total=tm()-n,e(Object.freeze({parameters:t,sdfTexture:c,sdfGlyphSize:s,sdfExponent:o,glyphBounds:A,glyphAtlasIndices:m,glyphColors:d.glyphColors,caretPositions:d.caretPositions,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,capHeight:d.capHeight,xHeight:d.xHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings}))})}),Promise.resolve().then(()=>{u.contextLost||oAe(f)})}function h9({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},o){if(a)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=om,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(s/r)*r,h=Math.floor(c/(s/r))*r,d=e%4;return eAe(r,r,t,n,u,l,i,f,h,d,o)}function uAe(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(a=>{r.push(h9(a,t,!0))})}),Promise.all(r).then(()=>{d9(t),t.sdfTexture.needsUpdate=!0})})}function cAe({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;f9({font:t,sdfGlyphSize:n,text:i},r)}function fAe(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let nx;function tD(t){return nx||(nx=typeof document>"u"?{}:document.createElement("a")),nx.href=t,nx.href}function d9(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,a=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}const hAe=zg({name:"Typesetter",dependencies:[Q5e,J5e,U5e],init(t,e,n){return t(e,n())}}),p9=zg({name:"Typesetter",dependencies:[hAe],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});p9.onMainThread;const nD={};function dAe(t){let e=nD[t];return e||(e=nD[t]=new Yc(1,1,t,t).translate(.5,.5,0)),e}const pAe="aTroikaGlyphBounds",rD="aTroikaGlyphIndex",mAe="aTroikaGlyphColor";class gAe extends MC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Qa,this.boundingBox=new Ja}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=dAe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,a){this.updateAttributeData(pAe,e,4),this.updateAttributeData(rD,n,1),this.updateAttributeData(mAe,a,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:a,min:o,max:s,sin:l,cos:u}=Math,c=i/2,f=i*2,h=Math.abs(n),d=e[0]/h,m=e[2]/h,x=a((d+c)/f)!==a((m+c)/f)?-h:o(l(d)*h,l(m)*h),y=a((d-c)/f)!==a((m-c)/f)?h:s(l(d)*h,l(m)*h),g=a((d+i)/f)!==a((m+i)/f)?h*2:s(h-u(d)*h,h-u(m)*h);r.min.set(x,e[1],n<0?-g:0),r.max.set(y,e[3],n<0?0:g)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(rD).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let a=r[i].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new Xd(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const vAe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,yAe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,xAe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,bAe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function _Ae(t){const e=T3(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new dt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new ar(0,0,0,0)},uTroikaClipRect:{value:new ar(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new dt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new zt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Sn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:vAe,vertexTransform:yAe,fragmentDefs:xAe,fragmentColorTransform:bAe,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(u9,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const kC=new Xc({color:16777215,side:eu,transparent:!0}),iD=8421504,aD=new cn,rx=new ve,iA=new ve,Fv=[],wAe=new ve,aA="+x+y";function oD(t){return Array.isArray(t)?t[0]:t}let m9=()=>{const t=new gi(new Yc(1,1),kC);return m9=()=>t,t},g9=()=>{const t=new gi(new Yc(1,1,32,1),kC);return g9=()=>t,t};const SAe={type:"syncstart"},AAe={type:"synccomplete"},v9=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],MAe=v9.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let y9=class extends gi{constructor(){const e=new gAe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=iD,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=aA,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(SAe),f9({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(AAe),e&&e()})))}onBeforeRender(e,n,r,i,a,o){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return _Ae(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=kC.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return oD(this.material).getDepthMaterial()}get customDistanceMaterial(){return oD(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:s,blockBounds:l}=i;r.uTroikaSDFTexture.value=s,r.uTroikaSDFTextureSize.value.set(s.image.width,s.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,h,d,m,x=0,y=0;if(n){let{outlineWidth:_,outlineOffsetX:b,outlineOffsetY:S,outlineBlur:A,outlineOpacity:E}=this;u=this._parsePercent(_)||0,c=Math.max(0,this._parsePercent(A)||0),h=E,x=this._parsePercent(b)||0,y=this._parsePercent(S)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(m=this.strokeColor,r.uTroikaStrokeColor.value.set(m??iD),d=this.strokeOpacity,d==null&&(d=1)),h=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(x,y),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=d,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let g=this.clipRect;if(g&&Array.isArray(g)&&g.length===4)r.uTroikaClipRect.value.fromArray(g);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=n?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const s=e.hasOwnProperty("color")?e.color:e.color=new zt;(a!==s._input||typeof a=="object")&&s.set(s._input=a)}let o=this.orientation||aA;if(o!==e._orientation){let s=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==aA&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,h]=l;rx.set(0,0,0)[c]=u==="-"?1:-1,iA.set(0,0,0)[h]=f==="-"?-1:1,aD.lookAt(wAe,rx.cross(iA),iA),s.setFromMatrix4(aD)}else s.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new dt){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new dt){return rx.copy(e),this.localPositionToTextCoords(this.worldToLocal(rx),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const a=r.blockBounds,o=i?g9():m9(),s=o.geometry,{position:l,uv:u}=s.attributes;for(let c=0;c<u.count;c++){let f=a[0]+u.getX(c)*(a[2]-a[0]);const h=a[1]+u.getY(c)*(a[3]-a[1]);let d=0;i&&(d=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,h,d)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,Fv.length=0,o.raycast(e,Fv);for(let c=0;c<Fv.length;c++)Fv[c].object=this,n.push(Fv[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,MAe.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};v9.forEach(t=>{const e="_private_"+t;Object.defineProperty(y9.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Ja;new zt;const EAe=je.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:a,characters:o,onSync:s,...l},u)=>{const c=hc(({invalidate:m})=>m),[f]=je.useState(()=>new y9),[h,d]=je.useMemo(()=>{const m=[];let x="";return je.Children.forEach(a,y=>{typeof y=="string"||typeof y=="number"?x+=y:m.push(y)}),[m,x]},[a]);return zj(()=>new Promise(m=>cAe({font:r,characters:o},m)),["troika-text",r,o]),je.useLayoutEffect(()=>void f.sync(()=>{c(),s&&s(f)})),je.useEffect(()=>()=>f.dispose(),[f]),je.createElement("primitive",Ub({object:f,ref:u,font:r,text:d,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),h)}),TAe=je.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},c)=>{const f=hc(E=>E.invalidate),h=hc(E=>E.camera),d=hc(E=>E.gl),m=hc(E=>E.events),x=hc(E=>E.setEvents),y=hc(E=>E.set),g=hc(E=>E.get),_=hc(E=>E.performance),b=e||h,S=r||m.connected||d.domElement,A=je.useMemo(()=>new N5e(b),[b]);return OC(()=>{A.enabled&&A.update()},-1),je.useEffect(()=>(a&&A.connect(a===!0?S:a),A.connect(S),()=>void A.dispose()),[a,S,n,A,f]),je.useEffect(()=>{const E=D=>{f(),n&&_.regress(),o&&o(D)},M=D=>{s&&s(D)},P=D=>{l&&l(D)};return A.addEventListener("change",E),A.addEventListener("start",M),A.addEventListener("end",P),()=>{A.removeEventListener("start",M),A.removeEventListener("end",P),A.removeEventListener("change",E)}},[o,s,l,A,f,x]),je.useEffect(()=>{if(t){const E=g().controls;return y({controls:A}),()=>y({controls:E})}},[t,A]),je.createElement("primitive",Ub({ref:c,object:A,enableDamping:i},u))}),PAe="modulepreload",CAe=function(t){return"/"+t},sD={},C3=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=CAe(l),l in sD)return;sD[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":PAe,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},lD=t=>t<=.5?"#3b82f6":t<=1?"#22c55e":t<=1.5?"#eab308":t<=2?"#f97316":t<=2.5?"#ef4444":"#7f1d1d",uD={Global:{coordinates:[-90,-180,90,180],tempOffset:0,name:"Global",dots:Array.from({length:200},()=>[Math.random()*180-90,Math.random()*360-180])},"North America":{coordinates:[15,-170,75,-50],tempOffset:-.2,name:"North America",dots:Array.from({length:50},()=>[15+Math.random()*60,-170+Math.random()*120])},"South America":{coordinates:[-60,-80,15,-30],tempOffset:.3,name:"South America",dots:Array.from({length:40},()=>[-60+Math.random()*75,-80+Math.random()*50])},Europe:{coordinates:[35,-10,70,40],tempOffset:.1,name:"Europe",dots:Array.from({length:40},()=>[35+Math.random()*35,-10+Math.random()*50])},Africa:{coordinates:[-40,-20,35,50],tempOffset:.5,name:"Africa",dots:Array.from({length:60},()=>[-40+Math.random()*75,-20+Math.random()*70])},Asia:{coordinates:[0,60,75,180],tempOffset:.4,name:"Asia",dots:Array.from({length:80},()=>[0+Math.random()*75,60+Math.random()*120])},India:{coordinates:[8,68,37,97],tempOffset:.6,name:"India",dots:Array.from({length:30},()=>[8+Math.random()*29,68+Math.random()*29])},Oceania:{coordinates:[-50,110,0,180],tempOffset:.2,name:"Oceania",dots:Array.from({length:40},()=>[-50+Math.random()*50,110+Math.random()*70])}},LAe=(t=30)=>Array.from({length:t},()=>[Math.random()*180-90,Math.random()*360-180]);function cD(t,e,n){const r=(90-t)*(Math.PI/180),i=(e+180)*(Math.PI/180);return new ve(-n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i))}function NAe({position:t,color:e,size:n=.05,pulse:r=!1,temperature:i}){const a=je.useRef(null),[o,s]=je.useState(!1);return OC(({clock:l})=>{if(a.current&&(r||o)){const u=1+Math.sin(l.getElapsedTime()*2)*.2;a.current.scale.setScalar(u)}}),oe.jsxs("group",{children:[oe.jsxs("mesh",{ref:a,position:t,onPointerOver:()=>s(!0),onPointerOut:()=>s(!1),children:[oe.jsx("sphereGeometry",{args:[n,8,8]}),oe.jsx("meshPhongMaterial",{color:e,transparent:!0,opacity:.8,emissive:e,emissiveIntensity:o?1:.5})]}),o&&oe.jsx(EAe,{position:[t.x,t.y+.2,t.z],fontSize:.1,color:e,anchorX:"center",anchorY:"middle",children:`${i.toFixed(1)}°C`})]})}const OAe=({temperature:t,region:e})=>{const n=je.useRef(null),r=je.useRef(null),i=je.useRef(null),[a,o,s,l]=RC(wj,["https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/planets/earth_atmos_2048.jpg","https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/planets/earth_normal_2048.jpg","https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/planets/earth_specular_2048.jpg","https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/planets/earth_clouds_1024.png"]);OC(({clock:c})=>{n.current&&(n.current.rotation.y+=.001),r.current&&(r.current.rotation.y+=.0015),i.current&&(i.current.rotation.y+=.001,i.current.material.opacity=.6+Math.sin(c.getElapsedTime()*.5)*.1)});const u=De.useMemo(()=>{const c=[];if(e==="Global")Object.entries(uD).forEach(([f,h])=>{if(f!=="Global"){const d=t+h.tempOffset,m=lD(d);h.dots.forEach(([x,y])=>{c.push({position:cD(x,y,2.02),color:m,pulse:!1,temperature:d})})}});else{const f=uD[e],h=f?f.tempOffset:.3,d=t+h,m=lD(d);(f?f.dots:LAe()).forEach(([y,g])=>{c.push({position:cD(y,g,2.02),color:m,pulse:!0,temperature:d})})}return c},[t,e]);return oe.jsxs("group",{ref:n,children:[oe.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[oe.jsx("sphereGeometry",{args:[2,64,64]}),oe.jsx("meshPhongMaterial",{map:a,normalMap:o,specularMap:s,shininess:15,bumpMap:o,bumpScale:.05})]}),u.map((c,f)=>oe.jsx(NAe,{position:c.position,color:c.color,pulse:c.pulse,temperature:c.temperature,size:c.pulse?.06:.04},f)),oe.jsxs("mesh",{ref:r,children:[oe.jsx("sphereGeometry",{args:[2.02,64,64]}),oe.jsx("meshPhongMaterial",{map:l,transparent:!0,opacity:.4,depthWrite:!1,blending:vy})]}),oe.jsxs("mesh",{ref:i,children:[oe.jsx("sphereGeometry",{args:[2.1,64,64]}),oe.jsx("meshPhongMaterial",{color:"#4a90e2",transparent:!0,opacity:.1,side:So,blending:vy})]})]})};function RAe({temperature:t,region:e}){return oe.jsxs("div",{className:"space-y-4",children:[oe.jsx("div",{className:"w-full h-[600px] bg-gray-900 rounded-lg overflow-hidden",children:oe.jsxs(S5e,{camera:{position:[0,0,6],fov:45},children:[oe.jsx("ambientLight",{intensity:.5}),oe.jsx("pointLight",{position:[10,10,10],intensity:1}),oe.jsx("directionalLight",{position:[5,3,5],intensity:.8}),oe.jsx(OAe,{temperature:t,region:e}),oe.jsx(TAe,{enableZoom:!0,enablePan:!1,minDistance:4,maxDistance:8,autoRotate:!1,autoRotateSpeed:.5})]})}),oe.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[oe.jsx("div",{className:"text-sm font-medium mb-2",children:"Temperature Scale"}),oe.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[oe.jsx("span",{children:"≤0.5°C"}),oe.jsx("span",{children:"1.0°C"}),oe.jsx("span",{children:"1.5°C"}),oe.jsx("span",{children:"2.0°C"}),oe.jsx("span",{children:"2.5°C"}),oe.jsx("span",{children:"≥3.0°C"})]}),oe.jsx("div",{className:"h-2 mt-1 rounded-full bg-gradient-to-r from-blue-500 via-green-500 via-yellow-500 via-orange-500 to-red-900"})]})]})}const Yh=[{url:"https://images.unsplash.com/photo-1624555130581-1d9cca783bc0?auto=format&fit=crop&w=1920&q=80",title:"Rising Global Temperatures",description:"Advanced AI analysis helps track and predict temperature changes across different regions, enabling better preparation for climate challenges."},{url:"https://images.unsplash.com/photo-1581075323697-13b4d3f25c7f?auto=format&fit=crop&w=1920&q=80",title:"Melting Ice Caps",description:"Monitor the impact of global warming on polar ice caps and understand the implications for sea level rise worldwide."},{url:"https://images.unsplash.com/photo-1523867574998-1a336b6ded04?auto=format&fit=crop&w=1920&q=80",title:"Extreme Weather Events",description:"Track and predict the increasing frequency and intensity of extreme weather events using our advanced climate models."},{url:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?auto=format&fit=crop&w=1920&q=80",title:"Deforestation Impact",description:"Analyze the effects of deforestation on local and global climate patterns, and predict future environmental changes."},{url:"https://images.unsplash.com/photo-1611273426858-450d8e3c9fce?auto=format&fit=crop&w=1920&q=80",title:"Ocean Level Rise",description:"Monitor sea level changes and their impact on coastal regions using satellite data and predictive analytics."},{url:"https://images.unsplash.com/photo-1561040557-4acb9de1bc26?auto=format&fit=crop&w=1920&q=80",title:"Drought Patterns",description:"Predict and analyze drought patterns to help communities prepare for and adapt to changing climate conditions."}];function ix({icon:t,title:e,value:n,description:r}){return oe.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-lg",children:[oe.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[oe.jsx(t,{className:"w-6 h-6 text-primary"}),oe.jsx("h3",{className:"text-lg font-semibold text-foreground",children:e})]}),oe.jsx("div",{className:"text-2xl font-bold text-foreground mb-2",children:n}),oe.jsx("p",{className:"text-muted-foreground text-sm",children:r})]})}const d0={India:{temperature:1.4,precipitation:1.5,seaLevel:1.2,extremeEvents:1.4},Global:{temperature:1,precipitation:1,seaLevel:1,extremeEvents:1},"North America":{temperature:1.2,precipitation:1.3,seaLevel:.8,extremeEvents:1.1},Europe:{temperature:1.1,precipitation:1.2,seaLevel:.9,extremeEvents:1.2},Asia:{temperature:1.3,precipitation:1.4,seaLevel:1.2,extremeEvents:1.3},Africa:{temperature:1.4,precipitation:.7,seaLevel:1.1,extremeEvents:1.4},"South America":{temperature:1.1,precipitation:1.5,seaLevel:1,extremeEvents:1.2},Oceania:{temperature:1.2,precipitation:.9,seaLevel:1.3,extremeEvents:1.1}};function IAe(){const[t,e]=je.useState(0),[n,r]=je.useState(!1),[i,a]=je.useState("India"),[o,s]=je.useState(""),[l,u]=je.useState(2023);je.useState(!1);const[c,f]=je.useState([]),[h,d]=je.useState(null),[m,x]=je.useState([]),y=M=>{if(s(M),M.trim()){const P=Object.keys(d0).filter(D=>D.toLowerCase().includes(M.toLowerCase()));x(P),P.length===1&&a(P[0])}else x([])},g=M=>{a(M),s(""),x([])},_=()=>{o&&!d0[o]&&(d0[o]={temperature:1+Math.random()*.5,precipitation:.8+Math.random()*.7,seaLevel:.8+Math.random()*.7,extremeEvents:.8+Math.random()*.7},a(o),s(""),x([]))},b=()=>{r(!0),setTimeout(()=>{e(M=>(M+1)%Yh.length),r(!1)},500)},S=()=>{r(!0),setTimeout(()=>{e(M=>(M-1+Yh.length)%Yh.length),r(!1)},500)},A=je.useMemo(()=>kAe(l,i),[l,i]),E=je.useMemo(()=>DAe(i,l),[i,l]);return je.useEffect(()=>{if(h){const M=Math.abs(parseFloat(A.temperature)-parseFloat(h.temperature)),P=Math.abs(parseFloat(A.precipitation)-parseFloat(h.precipitation)),D=Math.abs(parseFloat(A.seaLevel)-parseFloat(h.seaLevel)),N=[];M>=.5&&N.push({id:`temp-${Date.now()}`,title:"Significant Temperature Change",message:`Temperature ${parseFloat(A.temperature)>parseFloat(h.temperature)?"increase":"decrease"} of ${M.toFixed(1)}°C detected in ${i}`,severity:M>=1?"critical":"high",timestamp:new Date,status:"active",kpi:"temperature",value:parseFloat(A.temperature),threshold:parseFloat(h.temperature),region:i}),P>=5&&N.push({id:`precip-${Date.now()}`,title:"Precipitation Pattern Change",message:`${P.toFixed(1)}% change in precipitation patterns detected in ${i}`,severity:P>=10?"high":"medium",timestamp:new Date,status:"active",kpi:"precipitation",value:parseFloat(A.precipitation),threshold:parseFloat(h.precipitation),region:i}),D>=5&&N.push({id:`sea-${Date.now()}`,title:"Sea Level Change",message:`${D.toFixed(1)}cm change in sea level detected in ${i}`,severity:D>=10?"high":"medium",timestamp:new Date,status:"active",kpi:"seaLevel",value:parseFloat(A.seaLevel),threshold:parseFloat(h.seaLevel),region:i}),N.length>0&&f(C=>[...N,...C].slice(0,10))}d(A)},[A,i,h]),oe.jsxs("div",{className:"space-y-8",children:[oe.jsxs("div",{className:"relative h-[400px] rounded-xl overflow-hidden",children:[oe.jsxs("div",{className:`relative h-full transition-opacity duration-500 ${n?"opacity-0":"opacity-100"}`,children:[oe.jsx("img",{src:Yh[t].url,alt:"Climate Change Impact",className:"w-full h-full object-cover"}),oe.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/95 via-black/70 to-transparent"}),oe.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:oe.jsxs("div",{className:"max-w-3xl",children:[oe.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:Yh[t].title}),oe.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:Yh[t].description})]})})]}),oe.jsx("button",{onClick:S,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors",children:oe.jsx(VF,{className:"w-6 h-6"})}),oe.jsx("button",{onClick:b,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors",children:oe.jsx($F,{className:"w-6 h-6"})}),oe.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:Yh.map((M,P)=>oe.jsx("button",{onClick:()=>{r(!0),setTimeout(()=>{e(P),r(!1)},500)},className:`w-2 h-2 rounded-full transition-all ${P===t?"bg-white w-6":"bg-white/50 hover:bg-white/75"}`},P))})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[oe.jsxs("div",{className:"flex-1 bg-card rounded-lg shadow p-6",children:[oe.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Region Selection"}),oe.jsxs("div",{className:"space-y-4",children:[oe.jsxs("div",{className:"relative",children:[oe.jsx("input",{type:"text",value:o,onChange:M=>y(M.target.value),placeholder:"Search region...",className:"w-full p-2 pr-10 border rounded-lg bg-background text-foreground"}),oe.jsx("button",{onClick:_,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-accent rounded-md transition-colors",children:oe.jsx(zG,{className:"w-5 h-5"})}),m.length>0&&o&&oe.jsx("div",{className:"absolute w-full mt-1 bg-card border rounded-lg shadow-lg z-10",children:m.map(M=>oe.jsx("button",{onClick:()=>g(M),className:"w-full text-left px-4 py-2 hover:bg-accent transition-colors first:rounded-t-lg last:rounded-b-lg",children:M},M))})]}),oe.jsxs("div",{className:"p-3 bg-accent rounded-lg text-foreground",children:["Selected Region: ",i]})]})]}),oe.jsxs("div",{className:"flex-1 bg-card rounded-lg shadow p-6",children:[oe.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Prediction Timeframe"}),oe.jsx("input",{type:"range",min:"2023",max:"2050",value:l,onChange:M=>u(parseInt(M.target.value)),className:"w-full accent-primary"}),oe.jsxs("div",{className:"text-center mt-2",children:["Year: ",l]})]})]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[oe.jsx(ix,{icon:ZF,title:"Temperature",value:`+${A.temperature}°C`,description:`${i} increase by ${l}`}),oe.jsx(ix,{icon:lM,title:"Precipitation",value:`${A.precipitation}%`,description:`${i} change by ${l}`}),oe.jsx(ix,{icon:GG,title:"Sea Level Rise",value:`+${A.seaLevel}cm`,description:`${i} rise by ${l}`}),oe.jsx(ix,{icon:GF,title:"Extreme Events",value:`+${A.extremeEvents}%`,description:`${i} increase by ${l}`})]}),oe.jsxs("div",{className:"bg-card rounded-lg shadow p-6",children:[oe.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Combined Climate Metrics"}),oe.jsx("div",{className:"h-[500px]",children:oe.jsx(rae,{width:"100%",height:"100%",children:oe.jsxs(R0e,{data:E,children:[oe.jsx(uz,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),oe.jsx(dw,{dataKey:"year",stroke:"hsl(var(--muted-foreground))",tick:{fill:"hsl(var(--muted-foreground))"}}),oe.jsx(Bm,{yAxisId:"temp",label:{value:"Temperature (°C)",angle:-90,position:"insideLeft",style:{fill:"hsl(var(--muted-foreground))"}},tick:{fill:"hsl(var(--muted-foreground))"},stroke:"#ef4444"}),oe.jsx(Bm,{yAxisId:"precip",orientation:"right",label:{value:"Precipitation Change (%)",angle:90,position:"insideRight",style:{fill:"hsl(var(--muted-foreground))"}},tick:{fill:"hsl(var(--muted-foreground))"},stroke:"#3b82f6"}),oe.jsx(Bm,{yAxisId:"sea",orientation:"right",label:{value:"Sea Level Rise (cm)",angle:90,position:"insideRight",style:{fill:"hsl(var(--muted-foreground))"}},tick:{fill:"hsl(var(--muted-foreground))"},stroke:"#22c55e"}),oe.jsx(Eu,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",color:"hsl(var(--foreground))"},labelStyle:{color:"hsl(var(--foreground))"},itemStyle:{color:"hsl(var(--foreground))"}}),oe.jsx(Ad,{wrapperStyle:{color:"hsl(var(--foreground))"}}),oe.jsx(Td,{yAxisId:"temp",type:"monotone",dataKey:"temperature",stroke:"#ef4444",strokeWidth:2,dot:{r:4},name:"Temperature"}),oe.jsx(Td,{yAxisId:"precip",type:"monotone",dataKey:"precipitation",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},name:"Precipitation"}),oe.jsx(Td,{yAxisId:"sea",type:"monotone",dataKey:"seaLevel",stroke:"#22c55e",strokeWidth:2,dot:{r:4},name:"Sea Level"})]})})})]}),oe.jsxs("div",{className:"bg-card rounded-lg shadow p-6",children:[oe.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Global Climate Impact Zones"}),oe.jsx(RAe,{temperature:parseFloat(A.temperature),region:i})]})]})}function kAe(t,e){const r=t-2023,i=d0[e],a=1.1+r*(1.6-1.1)/27,o=r*5.3/27,s=r*26.3/27,l=r*32/27;return{temperature:(a*i.temperature).toFixed(1),precipitation:(o*i.precipitation).toFixed(1),seaLevel:(s*i.seaLevel).toFixed(1),extremeEvents:(l*i.extremeEvents).toFixed(1)}}function DAe(t,e){const n=d0[t],r=new Date().getFullYear(),i=Math.max(1900,r-50),a=[];for(let o=i;o<=e;o+=5)a.push(o);return a.includes(e)||a.push(e),a.map(o=>{const s=(o-1900)/150;return{year:o,temperature:(-.2+1.8*s)*n.temperature,precipitation:15*s*n.precipitation,seaLevel:26*s*n.seaLevel}})}function FAe(){const[t,e]=je.useState(()=>{if(typeof window<"u"){const r=window.localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;return r||(i?"dark":"light")}return"light"});return je.useEffect(()=>{const r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(t),localStorage.setItem("theme",t)},[t]),{theme:t,toggleTheme:()=>{e(r=>r==="dark"?"light":"dark")}}}function UAe(){const{theme:t,toggleTheme:e}=FAe();return oe.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-accent transition-colors",title:t==="dark"?"Switch to light mode":"Switch to dark mode",children:t==="dark"?oe.jsx(jG,{className:"w-5 h-5"}):oe.jsx(BG,{className:"w-5 h-5"})})}const BAe={critical:"bg-red-50 border-red-200 text-red-700",high:"bg-orange-50 border-orange-200 text-orange-700",medium:"bg-yellow-50 border-yellow-200 text-yellow-700",low:"bg-blue-50 border-blue-200 text-blue-700"},zAe={critical:wG,high:GF,medium:eL,low:eL};function jAe({alert:t,onDismiss:e}){const n=zAe[t.severity],r=t.timestamp.toLocaleTimeString();return oe.jsx("div",{className:`p-4 rounded-lg border ${BAe[t.severity]} mb-4`,children:oe.jsxs("div",{className:"flex items-start justify-between",children:[oe.jsxs("div",{className:"flex items-start space-x-3",children:[oe.jsx(n,{className:"w-5 h-5 mt-1"}),oe.jsxs("div",{children:[oe.jsx("h3",{className:"font-semibold",children:t.title}),oe.jsx("p",{className:"text-sm mt-1",children:t.message}),oe.jsx("div",{className:"text-sm mt-2 opacity-75",children:r})]})]}),oe.jsx("button",{onClick:()=>e(t.id),className:"p-1.5 hover:bg-black/5 rounded-lg transition-colors",title:"Dismiss",children:oe.jsx(E_,{className:"w-4 h-4"})})]})})}function HAe({onClose:t,alerts:e,onDismiss:n}){return oe.jsxs("div",{className:"w-96 bg-card rounded-lg shadow-xl border p-4",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-4",children:[oe.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),oe.jsx("button",{onClick:t,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:oe.jsx(E_,{className:"w-5 h-5"})})]}),oe.jsx("div",{className:"space-y-4",children:e.length===0?oe.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No notifications"}):e.map(r=>oe.jsx(jAe,{alert:r,onDismiss:n},r.id))})]})}function oA({icon:t,title:e,description:n}){return oe.jsxs("div",{className:"bg-card rounded-xl p-6 border transition-all duration-300 hover:shadow-xl group",children:[oe.jsx("div",{className:"bg-primary/10 p-3 rounded-lg w-fit mb-4",children:oe.jsx(t,{className:"w-8 h-8 text-primary"})}),oe.jsx("h3",{className:"text-xl font-bold mb-3",children:e}),oe.jsx("p",{className:"text-muted-foreground",children:n})]})}const Cf=[{title:"Predicting Climate Change with AI",description:"Harnessing the power of artificial intelligence to analyze, predict, and combat climate change with unprecedented accuracy and insight.",image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=1600&q=80"},{title:"Global Impact Analysis",description:"Understanding climate change effects across different regions and ecosystems to develop targeted mitigation strategies.",image:"https://images.unsplash.com/photo-1569163139599-0f4517e36f51?auto=format&fit=crop&w=1600&q=80"},{title:"Data-Driven Solutions",description:"Leveraging comprehensive climate data and machine learning to provide actionable insights for environmental protection.",image:"https://images.unsplash.com/photo-1527482797697-8795b05a13fe?auto=format&fit=crop&w=1600&q=80"}];function WAe(){const[t,e]=je.useState(0),[n,r]=je.useState(!1),i=()=>{t<Cf.length-1&&(r(!0),setTimeout(()=>{e(s=>s+1),r(!1)},500))},a=()=>{t>0&&(r(!0),setTimeout(()=>{e(s=>s-1),r(!1)},500))},o=s=>{r(!0),setTimeout(()=>{e(s),r(!1)},500)};return oe.jsxs("div",{className:"space-y-12",children:[oe.jsxs("div",{className:"relative h-[400px] rounded-xl overflow-hidden",children:[oe.jsxs("div",{className:`relative h-full transition-opacity duration-500 ${n?"opacity-0":"opacity-100"}`,children:[oe.jsx("img",{src:Cf[t].image,alt:Cf[t].title,className:"w-full h-full object-cover"}),oe.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/95 via-black/70 to-transparent"}),oe.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:oe.jsxs("div",{className:"max-w-3xl",children:[oe.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:Cf[t].title}),oe.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:Cf[t].description})]})})]}),oe.jsxs("div",{className:"absolute inset-x-0 bottom-4 flex justify-center items-center space-x-4",children:[oe.jsx("button",{onClick:a,disabled:t===0,className:`p-2 rounded-full ${t===0?"bg-white/20 text-white/40 cursor-not-allowed":"bg-white/30 text-white hover:bg-white/50 transition-colors"}`,children:oe.jsx(VF,{className:"w-6 h-6"})}),oe.jsx("div",{className:"flex space-x-2",children:Cf.map((s,l)=>oe.jsx("button",{onClick:()=>o(l),className:`w-3 h-3 rounded-full transition-all ${l===t?"bg-white w-8":"bg-white/50 hover:bg-white/75"}`},l))}),oe.jsx("button",{onClick:i,disabled:t===Cf.length-1,className:`p-2 rounded-full ${t===Cf.length-1?"bg-white/20 text-white/40 cursor-not-allowed":"bg-white/30 text-white hover:bg-white/50 transition-colors"}`,children:oe.jsx($F,{className:"w-6 h-6"})})]})]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[oe.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border hover:shadow-xl transition-shadow",children:[oe.jsxs("div",{className:"relative h-[200px]",children:[oe.jsx("img",{src:"https://images.unsplash.com/photo-1593941707882-a5bba14938c7?auto=format&fit=crop&w=800&q=80",alt:"Climate research",className:"w-full h-full object-cover"}),oe.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),oe.jsx("h2",{className:"absolute bottom-4 left-4 text-2xl font-bold text-white",children:"Our Mission"})]}),oe.jsxs("div",{className:"p-6",children:[oe.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To revolutionize climate prediction through cutting-edge AI technology, enabling organizations and communities worldwide to make informed decisions and take proactive measures against climate change."}),oe.jsxs("div",{className:"mt-6 space-y-4",children:[oe.jsxs("div",{className:"flex items-center space-x-3 text-primary",children:[oe.jsx(WG,{className:"w-5 h-5"}),oe.jsxs("div",{children:[oe.jsx("span",{className:"font-medium",children:"Global Community Impact"}),oe.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Empowering communities with actionable climate insights"})]})]}),oe.jsxs("div",{className:"flex items-center space-x-3 text-primary",children:[oe.jsx(qF,{className:"w-5 h-5"}),oe.jsxs("div",{children:[oe.jsx("span",{className:"font-medium",children:"Data-Driven Insights"}),oe.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Processing petabytes of climate data for accurate predictions"})]})]}),oe.jsxs("div",{className:"flex items-center space-x-3 text-primary",children:[oe.jsx(KF,{className:"w-5 h-5"}),oe.jsxs("div",{children:[oe.jsx("span",{className:"font-medium",children:"Collaborative Solutions"}),oe.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Fostering global partnerships for climate action"})]})]})]}),oe.jsxs("div",{className:"mt-8 p-4 bg-primary/10 rounded-lg",children:[oe.jsx("h4",{className:"font-semibold mb-2",children:"Key Objectives"}),oe.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[oe.jsxs("li",{className:"flex items-center gap-2",children:[oe.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),"Achieve 95% accuracy in climate predictions by 2025"]}),oe.jsxs("li",{className:"flex items-center gap-2",children:[oe.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),"Expand coverage to all major climate zones globally"]}),oe.jsxs("li",{className:"flex items-center gap-2",children:[oe.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),"Develop early warning systems for extreme weather events"]})]})]})]})]}),oe.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border hover:shadow-xl transition-shadow",children:[oe.jsxs("div",{className:"relative h-[200px]",children:[oe.jsx("img",{src:"https://images.unsplash.com/photo-1516937941344-00b4e0337589?auto=format&fit=crop&w=800&q=80",alt:"Future technology",className:"w-full h-full object-cover"}),oe.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),oe.jsx("h2",{className:"absolute bottom-4 left-4 text-2xl font-bold text-white",children:"Our Vision"})]}),oe.jsxs("div",{className:"p-6",children:[oe.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To become the world's leading platform for climate prediction and analysis, fostering a global community dedicated to addressing climate change through data-driven solutions and collaborative innovation."}),oe.jsxs("div",{className:"mt-6 space-y-4",children:[oe.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg",children:[oe.jsx("h4",{className:"font-semibold mb-3",children:"2025 Milestones"}),oe.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[oe.jsxs("div",{className:"text-center p-3 bg-background rounded-lg",children:[oe.jsx("div",{className:"text-2xl font-bold text-primary",children:"95%"}),oe.jsx("div",{className:"text-sm text-muted-foreground",children:"Prediction Accuracy"})]}),oe.jsxs("div",{className:"text-center p-3 bg-background rounded-lg",children:[oe.jsx("div",{className:"text-2xl font-bold text-primary",children:"100+"}),oe.jsx("div",{className:"text-sm text-muted-foreground",children:"Countries Covered"})]}),oe.jsxs("div",{className:"text-center p-3 bg-background rounded-lg",children:[oe.jsx("div",{className:"text-2xl font-bold text-primary",children:"1000+"}),oe.jsx("div",{className:"text-sm text-muted-foreground",children:"Partner Organizations"})]}),oe.jsxs("div",{className:"text-center p-3 bg-background rounded-lg",children:[oe.jsx("div",{className:"text-2xl font-bold text-primary",children:"24/7"}),oe.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time Monitoring"})]})]})]}),oe.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg",children:[oe.jsx("h4",{className:"font-semibold mb-3",children:"2030 Vision"}),oe.jsxs("div",{className:"space-y-3",children:[oe.jsxs("div",{className:"flex items-center gap-3 p-2 bg-background rounded-lg",children:[oe.jsx("div",{className:"w-1 h-12 bg-primary rounded-full"}),oe.jsxs("div",{children:[oe.jsx("div",{className:"font-medium",children:"Global Climate Network"}),oe.jsx("div",{className:"text-sm text-muted-foreground",children:"Interconnected climate monitoring stations worldwide"})]})]}),oe.jsxs("div",{className:"flex items-center gap-3 p-2 bg-background rounded-lg",children:[oe.jsx("div",{className:"w-1 h-12 bg-primary rounded-full"}),oe.jsxs("div",{children:[oe.jsx("div",{className:"font-medium",children:"Predictive System"}),oe.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time climate prediction with quantum computing"})]})]}),oe.jsxs("div",{className:"flex items-center gap-3 p-2 bg-background rounded-lg",children:[oe.jsx("div",{className:"w-1 h-12 bg-primary rounded-full"}),oe.jsxs("div",{children:[oe.jsx("div",{className:"font-medium",children:"Universal Platform"}),oe.jsx("div",{className:"text-sm text-muted-foreground",children:"Free access to climate data for all organizations"})]})]})]})]})]})]})]})]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[oe.jsx(oA,{icon:EG,title:"Advanced AI Models",description:"Our state-of-the-art machine learning algorithms process climate data with 95% accuracy, enabling precise predictions and trend analysis across multiple climate variables."}),oe.jsx(oA,{icon:OG,title:"Global Coverage",description:"Comprehensive analysis of climate patterns across all continents and oceans, providing detailed insights into regional and global climate trends."}),oe.jsx(oA,{icon:NG,title:"Real-time Predictions",description:"Instant updates and forecasts based on latest satellite and sensor data, allowing for rapid response to changing climate conditions."})]})]})}function gr(t){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}var wo=Uint8Array,Rs=Uint16Array,DC=Int32Array,$w=new wo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qw=new wo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L3=new wo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x9=function(t,e){for(var n=new Rs(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new DC(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},b9=x9($w,2),_9=b9.b,N3=b9.r;_9[28]=258,N3[258]=28;var w9=x9(qw,0),GAe=w9.b,fD=w9.r,O3=new Rs(32768);for(var Yr=0;Yr<32768;++Yr){var Lf=(Yr&43690)>>1|(Yr&21845)<<1;Lf=(Lf&52428)>>2|(Lf&13107)<<2,Lf=(Lf&61680)>>4|(Lf&3855)<<4,O3[Yr]=((Lf&65280)>>8|(Lf&255)<<8)>>1}var Bu=function(t,e,n){for(var r=t.length,i=0,a=new Rs(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Rs(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new Rs(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)s[O3[f]>>l]=u}else for(s=new Rs(r),i=0;i<r;++i)t[i]&&(s[i]=O3[o[t[i]-1]++]>>15-t[i]);return s},uh=new wo(288);for(var Yr=0;Yr<144;++Yr)uh[Yr]=8;for(var Yr=144;Yr<256;++Yr)uh[Yr]=9;for(var Yr=256;Yr<280;++Yr)uh[Yr]=7;for(var Yr=280;Yr<288;++Yr)uh[Yr]=8;var zy=new wo(32);for(var Yr=0;Yr<32;++Yr)zy[Yr]=5;var VAe=Bu(uh,9,0),$Ae=Bu(uh,9,1),qAe=Bu(zy,5,0),XAe=Bu(zy,5,1),sA=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Hl=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},lA=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},FC=function(t){return(t+7)/8|0},S9=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new wo(t.subarray(e,n))},YAe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$l=function(t,e,n){var r=new Error(e||YAe[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,$l),!n)throw r;return r},KAe=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new wo(0);var o=!n,s=o||e.i!=2,l=e.i;o&&(n=new wo(i*3));var u=function(ye){var J=n.length;if(ye>J){var Ee=new wo(Math.max(J*2,ye));Ee.set(n),n=Ee}},c=e.f||0,f=e.p||0,h=e.b||0,d=e.l,m=e.d,x=e.m,y=e.n,g=i*8;do{if(!d){c=Hl(t,f,1);var _=Hl(t,f+1,3);if(f+=3,_)if(_==1)d=$Ae,m=XAe,x=9,y=5;else if(_==2){var E=Hl(t,f,31)+257,M=Hl(t,f+10,15)+4,P=E+Hl(t,f+5,31)+1;f+=14;for(var D=new wo(P),N=new wo(19),C=0;C<M;++C)N[L3[C]]=Hl(t,f+C*3,7);f+=M*3;for(var O=sA(N),j=(1<<O)-1,F=Bu(N,O,1),C=0;C<P;){var Z=F[Hl(t,f,j)];f+=Z&15;var b=Z>>4;if(b<16)D[C++]=b;else{var H=0,q=0;for(b==16?(q=3+Hl(t,f,3),f+=2,H=D[C-1]):b==17?(q=3+Hl(t,f,7),f+=3):b==18&&(q=11+Hl(t,f,127),f+=7);q--;)D[C++]=H}}var B=D.subarray(0,E),z=D.subarray(E);x=sA(B),y=sA(z),d=Bu(B,x,1),m=Bu(z,y,1)}else $l(1);else{var b=FC(f)+4,S=t[b-4]|t[b-3]<<8,A=b+S;if(A>i){l&&$l(0);break}s&&u(h+S),n.set(t.subarray(b,A),h),e.b=h+=S,e.p=f=A*8,e.f=c;continue}if(f>g){l&&$l(0);break}}s&&u(h+131072);for(var $=(1<<x)-1,X=(1<<y)-1,k=f;;k=f){var H=d[lA(t,f)&$],V=H>>4;if(f+=H&15,f>g){l&&$l(0);break}if(H||$l(2),V<256)n[h++]=V;else if(V==256){k=f,d=null;break}else{var G=V-254;if(V>264){var C=V-257,K=$w[C];G=Hl(t,f,(1<<K)-1)+_9[C],f+=K}var ne=m[lA(t,f)&X],ue=ne>>4;ne||$l(3),f+=ne&15;var z=GAe[ue];if(ue>3){var K=qw[ue];z+=lA(t,f)&(1<<K)-1,f+=K}if(f>g){l&&$l(0);break}s&&u(h+131072);var he=h+G;if(h<z){var ce=a-z,Me=Math.min(z,he);for(ce+h<0&&$l(3);h<Me;++h)n[h]=r[ce+h]}for(;h<he;++h)n[h]=n[h-z]}}e.l=d,e.p=k,e.b=h,e.f=c,d&&(c=1,e.m=x,e.d=m,e.n=y)}while(!c);return h!=n.length&&o?S9(n,0,h):n.subarray(0,h)},fc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Uv=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},uA=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:M9,l:0};if(i==1){var o=new wo(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(A,E){return A.f-E.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var d=new Rs(h+1),m=R3(n[c-1],d,0);if(m>e){var r=0,x=0,y=m-e,g=1<<y;for(a.sort(function(E,M){return d[M.s]-d[E.s]||E.f-M.f});r<i;++r){var _=a[r].s;if(d[_]>e)x+=g-(1<<m-d[_]),d[_]=e;else break}for(x>>=y;x>0;){var b=a[r].s;d[b]<e?x-=1<<e-d[b]++-1:++r}for(;r>=0&&x;--r){var S=a[r].s;d[S]==e&&(--d[S],++x)}m=e}return{t:new wo(d),l:m}},R3=function(t,e,n){return t.s==-1?Math.max(R3(t.l,e,n+1),R3(t.r,e,n+1)):e[t.s]=n},hD=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Rs(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},Bv=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},A9=function(t,e,n){var r=n.length,i=FC(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},dD=function(t,e,n,r,i,a,o,s,l,u,c){fc(e,c++,n),++i[256];for(var f=uA(i,15),h=f.t,d=f.l,m=uA(a,15),x=m.t,y=m.l,g=hD(h),_=g.c,b=g.n,S=hD(x),A=S.c,E=S.n,M=new Rs(19),P=0;P<_.length;++P)++M[_[P]&31];for(var P=0;P<A.length;++P)++M[A[P]&31];for(var D=uA(M,7),N=D.t,C=D.l,O=19;O>4&&!N[L3[O-1]];--O);var j=u+5<<3,F=Bv(i,uh)+Bv(a,zy)+o,Z=Bv(i,h)+Bv(a,x)+o+14+3*O+Bv(M,N)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&j<=F&&j<=Z)return A9(e,c,t.subarray(l,l+u));var H,q,B,z;if(fc(e,c,1+(Z<F)),c+=2,Z<F){H=Bu(h,d,0),q=h,B=Bu(x,y,0),z=x;var $=Bu(N,C,0);fc(e,c,b-257),fc(e,c+5,E-1),fc(e,c+10,O-4),c+=14;for(var P=0;P<O;++P)fc(e,c+3*P,N[L3[P]]);c+=3*O;for(var X=[_,A],k=0;k<2;++k)for(var V=X[k],P=0;P<V.length;++P){var G=V[P]&31;fc(e,c,$[G]),c+=N[G],G>15&&(fc(e,c,V[P]>>5&127),c+=V[P]>>12)}}else H=VAe,q=uh,B=qAe,z=zy;for(var P=0;P<s;++P){var K=r[P];if(K>255){var G=K>>18&31;Uv(e,c,H[G+257]),c+=q[G+257],G>7&&(fc(e,c,K>>23&31),c+=$w[G]);var ne=K&31;Uv(e,c,B[ne]),c+=z[ne],ne>3&&(Uv(e,c,K>>5&8191),c+=qw[ne])}else Uv(e,c,H[K]),c+=q[K]}return Uv(e,c,H[256]),c+q[256]},ZAe=new DC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),M9=new wo(0),JAe=function(t,e,n,r,i,a){var o=a.z||t.length,s=new wo(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=ZAe[e-1],h=f>>13,d=f&8191,m=(1<<n)-1,x=a.p||new Rs(32768),y=a.h||new Rs(m+1),g=Math.ceil(n/3),_=2*g,b=function(Ae){return(t[Ae]^t[Ae+1]<<g^t[Ae+2]<<_)&m},S=new DC(25e3),A=new Rs(288),E=new Rs(32),M=0,P=0,D=a.i||0,N=0,C=a.w||0,O=0;D+2<o;++D){var j=b(D),F=D&32767,Z=y[j];if(x[F]=Z,y[j]=F,C<=D){var H=o-D;if((M>7e3||N>24576)&&(H>423||!u)){c=dD(t,l,0,S,A,E,P,N,O,D-O,c),N=M=P=0,O=D;for(var q=0;q<286;++q)A[q]=0;for(var q=0;q<30;++q)E[q]=0}var B=2,z=0,$=d,X=F-Z&32767;if(H>2&&j==b(D-X))for(var k=Math.min(h,H)-1,V=Math.min(32767,D),G=Math.min(258,H);X<=V&&--$&&F!=Z;){if(t[D+B]==t[D+B-X]){for(var K=0;K<G&&t[D+K]==t[D+K-X];++K);if(K>B){if(B=K,z=X,K>k)break;for(var ne=Math.min(X,K-2),ue=0,q=0;q<ne;++q){var he=D-X+q&32767,ce=x[he],Me=he-ce&32767;Me>ue&&(ue=Me,Z=he)}}}F=Z,Z=x[F],X+=F-Z&32767}if(z){S[N++]=268435456|N3[B]<<18|fD[z];var ye=N3[B]&31,J=fD[z]&31;P+=$w[ye]+qw[J],++A[257+ye],++E[J],C=D+B,++M}else S[N++]=t[D],++A[t[D]]}}for(D=Math.max(D,C);D<o;++D)S[N++]=t[D],++A[t[D]];c=dD(t,l,u,S,A,E,P,N,O,D-O,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=y,a.p=x,a.i=D,a.w=C)}else{for(var D=a.w||0;D<o+u;D+=65535){var Ee=D+65535;Ee>=o&&(l[c/8|0]=u,Ee=o),c=A9(l,c+1,t.subarray(D,Ee))}a.i=o}return S9(s,0,r+FC(c)+i)},E9=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},QAe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new wo(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return JAe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},T9=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},eMe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=E9();i.p(e.dictionary),T9(t,2,i.d())}},tMe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&$l(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&$l(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function I3(t,e){e||(e={});var n=E9();n.p(t);var r=QAe(t,e,e.dictionary?6:2,4);return eMe(r,e),T9(r,r.length-4,n.d()),r}function nMe(t,e){return KAe(t.subarray(tMe(t,e),-4),{i:2},e,e)}var rMe=typeof TextDecoder<"u"&&new TextDecoder,iMe=0;try{rMe.decode(M9,{stream:!0}),iMe=1}catch{}var dn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cA(){dn.console&&typeof dn.console.log=="function"&&dn.console.log.apply(dn.console,arguments)}var Lr={log:cA,warn:function(t){dn.console&&(typeof dn.console.warn=="function"?dn.console.warn.apply(dn.console,arguments):cA.call(null,arguments))},error:function(t){dn.console&&(typeof dn.console.error=="function"?dn.console.error.apply(dn.console,arguments):cA(t))}};function fA(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ad(r.response,e,n)},r.onerror=function(){Lr.error("could not download file")},r.send()}function pD(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ax(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var p0,k3,ad=dn.saveAs||((typeof window>"u"?"undefined":gr(window))!=="object"||window!==dn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=dn.URL||dn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?pD(i.href)?fA(t,e,n):ax(i,i.target="_blank"):ax(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){ax(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(pD(t))fA(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){ax(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:gr(a)!=="object"&&(Lr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return fA(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(dn.HTMLElement)||dn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":gr(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=dn.URL||dn.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function P9(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hA(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=ho(n,r,i,a,e[0],7,-680876936),a=ho(a,n,r,i,e[1],12,-389564586),i=ho(i,a,n,r,e[2],17,606105819),r=ho(r,i,a,n,e[3],22,-1044525330),n=ho(n,r,i,a,e[4],7,-176418897),a=ho(a,n,r,i,e[5],12,1200080426),i=ho(i,a,n,r,e[6],17,-1473231341),r=ho(r,i,a,n,e[7],22,-45705983),n=ho(n,r,i,a,e[8],7,1770035416),a=ho(a,n,r,i,e[9],12,-1958414417),i=ho(i,a,n,r,e[10],17,-42063),r=ho(r,i,a,n,e[11],22,-1990404162),n=ho(n,r,i,a,e[12],7,1804603682),a=ho(a,n,r,i,e[13],12,-40341101),i=ho(i,a,n,r,e[14],17,-1502002290),n=po(n,r=ho(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=po(a,n,r,i,e[6],9,-1069501632),i=po(i,a,n,r,e[11],14,643717713),r=po(r,i,a,n,e[0],20,-373897302),n=po(n,r,i,a,e[5],5,-701558691),a=po(a,n,r,i,e[10],9,38016083),i=po(i,a,n,r,e[15],14,-660478335),r=po(r,i,a,n,e[4],20,-405537848),n=po(n,r,i,a,e[9],5,568446438),a=po(a,n,r,i,e[14],9,-1019803690),i=po(i,a,n,r,e[3],14,-187363961),r=po(r,i,a,n,e[8],20,1163531501),n=po(n,r,i,a,e[13],5,-1444681467),a=po(a,n,r,i,e[2],9,-51403784),i=po(i,a,n,r,e[7],14,1735328473),n=mo(n,r=po(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=mo(a,n,r,i,e[8],11,-2022574463),i=mo(i,a,n,r,e[11],16,1839030562),r=mo(r,i,a,n,e[14],23,-35309556),n=mo(n,r,i,a,e[1],4,-1530992060),a=mo(a,n,r,i,e[4],11,1272893353),i=mo(i,a,n,r,e[7],16,-155497632),r=mo(r,i,a,n,e[10],23,-1094730640),n=mo(n,r,i,a,e[13],4,681279174),a=mo(a,n,r,i,e[0],11,-358537222),i=mo(i,a,n,r,e[3],16,-722521979),r=mo(r,i,a,n,e[6],23,76029189),n=mo(n,r,i,a,e[9],4,-640364487),a=mo(a,n,r,i,e[12],11,-421815835),i=mo(i,a,n,r,e[15],16,530742520),n=go(n,r=mo(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=go(a,n,r,i,e[7],10,1126891415),i=go(i,a,n,r,e[14],15,-1416354905),r=go(r,i,a,n,e[5],21,-57434055),n=go(n,r,i,a,e[12],6,1700485571),a=go(a,n,r,i,e[3],10,-1894986606),i=go(i,a,n,r,e[10],15,-1051523),r=go(r,i,a,n,e[1],21,-2054922799),n=go(n,r,i,a,e[8],6,1873313359),a=go(a,n,r,i,e[15],10,-30611744),i=go(i,a,n,r,e[6],15,-1560198380),r=go(r,i,a,n,e[13],21,1309151649),n=go(n,r,i,a,e[4],6,-145523070),a=go(a,n,r,i,e[11],10,-1120210379),i=go(i,a,n,r,e[2],15,718787259),r=go(r,i,a,n,e[9],21,-343485551),t[0]=Wf(n,t[0]),t[1]=Wf(r,t[1]),t[2]=Wf(i,t[2]),t[3]=Wf(a,t[3])}function Xw(t,e,n,r,i,a){return e=Wf(Wf(e,t),Wf(r,a)),Wf(e<<i|e>>>32-i,n)}function ho(t,e,n,r,i,a,o){return Xw(e&n|~e&r,t,e,i,a,o)}function po(t,e,n,r,i,a,o){return Xw(e&r|n&~r,t,e,i,a,o)}function mo(t,e,n,r,i,a,o){return Xw(e^n^r,t,e,i,a,o)}function go(t,e,n,r,i,a,o){return Xw(n^(e|~r),t,e,i,a,o)}function C9(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)hA(r,aMe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(hA(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,hA(r,i),r}function aMe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}p0=dn.atob.bind(dn),k3=dn.btoa.bind(dn);var mD="0123456789abcdef".split("");function oMe(t){for(var e="",n=0;n<4;n++)e+=mD[t>>8*n+4&15]+mD[t>>8*n&15];return e}function sMe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function D3(t){return C9(t).map(sMe).join("")}var lMe=function(t){for(var e=0;e<t.length;e++)t[e]=oMe(t[e]);return t.join("")}(C9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wf(t,e){if(lMe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function F3(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,h=0,d=0,m="";for(l=0;l<f;l++)d=(d+(c=s[h=(h+1)%256]))%256,s[h]=s[d],s[d]=c,o=s[(s[h]+s[d])%256],m+=String.fromCharCode(e.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gD={print:4,modify:8,copy:16,"annot-forms":32};function sm(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(gD.perm!==void 0)throw new Error("Invalid permission: "+s);i+=gD[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=D3(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=F3(this.encryptionKey,this.padding)}function lm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function vD(t){if(gr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){dn.console&&Lr.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function jy(t){if(!(this instanceof jy))return new jy(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function L9(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Bf(t,e,n,r,i){if(!(this instanceof Bf))return new Bf(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,L9.call(this,r,i)}function _d(t,e,n,r,i){if(!(this instanceof _d))return new _d(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,L9.call(this,r,i)}function un(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;gr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=vD;var m="1.3",x=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(I){m=I};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return y};var g=d.__private__.getPageFormat=function(I){return y[I]};i=i||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},b=_.COMPAT;function S(){this.saveGraphicsState(),ie(new At(tt,0,0,-tt,0,Ll()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),u="n",b=_.ADVANCED}function A(){this.restoreGraphicsState(),u="S",b=_.COMPAT}var E=d.__private__.combineFontStyleAndFontWeight=function(I,ae){if(I=="bold"&&ae=="normal"||I=="bold"&&ae==400||I=="normal"&&ae=="italic"||I=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(I=ae==400||ae==="normal"?I==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||I!=="normal"?(ae==700?"bold":ae)+""+I:"bold"),I};d.advancedAPI=function(I){var ae=b===_.COMPAT;return ae&&S.call(this),typeof I!="function"||(I(this),ae&&A.call(this)),this},d.compatAPI=function(I){var ae=b===_.ADVANCED;return ae&&A.call(this),typeof I!="function"||(I(this),ae&&S.call(this)),this},d.isAdvancedAPI=function(){return b===_.ADVANCED};var M,P=function(I){if(b!==_.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=d.roundToPrecision=d.__private__.roundToPrecision=function(I,ae){var _e=e||ae;if(isNaN(I)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(_e).replace(/0+$/,"")};M=d.hpf=d.__private__.hpf=typeof l=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return D(I,l)}:l==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return D(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return D(I,16)};var N=d.f2=d.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return D(I,2)},C=d.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return D(I,3)},O=d.scale=d.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return b===_.COMPAT?I*tt:b===_.ADVANCED?I:void 0},j=function(I){return b===_.COMPAT?Ll()-I:b===_.ADVANCED?I:void 0},F=function(I){return O(j(I))};d.__private__.setPrecision=d.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var Z,H="00000000000000000000000000000000",q=d.__private__.getFileId=function(){return H},B=d.__private__.setFileId=function(I){return H=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Mr=new sm(c.userPermissions,c.userPassword,c.ownerPassword,H)),H};d.setFileId=function(I){return B(I),this},d.getFileId=function(){return q()};var z=d.__private__.convertDateToPDFDate=function(I){var ae=I.getTimezoneOffset(),_e=ae<0?"+":"-",Ne=Math.floor(Math.abs(ae/60)),$e=Math.abs(ae%60),ut=[_e,G(Ne),"'",G($e),"'"].join("");return["D:",I.getFullYear(),G(I.getMonth()+1),G(I.getDate()),G(I.getHours()),G(I.getMinutes()),G(I.getSeconds()),ut].join("")},$=d.__private__.convertPDFDateToDate=function(I){var ae=parseInt(I.substr(2,4),10),_e=parseInt(I.substr(6,2),10)-1,Ne=parseInt(I.substr(8,2),10),$e=parseInt(I.substr(10,2),10),ut=parseInt(I.substr(12,2),10),wt=parseInt(I.substr(14,2),10);return new Date(ae,_e,Ne,$e,ut,wt,0)},X=d.__private__.setCreationDate=function(I){var ae;if(I===void 0&&(I=new Date),I instanceof Date)ae=z(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=I}return Z=ae},k=d.__private__.getCreationDate=function(I){var ae=Z;return I==="jsDate"&&(ae=$(Z)),ae};d.setCreationDate=function(I){return X(I),this},d.getCreationDate=function(I){return k(I)};var V,G=d.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},K=d.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ne=0,ue=[],he=[],ce=0,Me=[],ye=[],J=!1,Ee=he,Ae=function(){ne=0,ce=0,he=[],ue=[],Me=[],sr=kn(),Zr=kn()};d.__private__.setCustomOutputDestination=function(I){J=!0,Ee=I};var me=function(I){J||(Ee=I)};d.__private__.resetCustomOutputDestination=function(){J=!1,Ee=he};var ie=d.__private__.out=function(I){return I=I.toString(),ce+=I.length+1,Ee.push(I),Ee},He=d.__private__.write=function(I){return ie(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Ce=d.__private__.getArrayBuffer=function(I){for(var ae=I.length,_e=new ArrayBuffer(ae),Ne=new Uint8Array(_e);ae--;)Ne[ae]=I.charCodeAt(ae);return _e},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Le};var Fe=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(I){return Fe=b===_.ADVANCED?I/tt:I,this};var te,ee=d.__private__.getFontSize=d.getFontSize=function(){return b===_.COMPAT?Fe:Fe*tt},Se=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(I){return Se=I,this},d.__private__.getR2L=d.getR2L=function(){return Se};var Pe,Oe=d.__private__.setZoomMode=function(I){var ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))te=I;else if(isNaN(I)){if(ae.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');te=I}else te=parseInt(I,10)};d.__private__.getZoomMode=function(){return te};var qe,it=d.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Pe=I};d.__private__.getPageMode=function(){return Pe};var at=d.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');qe=I};d.__private__.getLayoutMode=function(){return qe},d.__private__.setDisplayMode=d.setDisplayMode=function(I,ae,_e){return Oe(I),at(ae),it(_e),this};var ze={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(I){if(Object.keys(ze).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ze[I]},d.__private__.getDocumentProperties=function(){return ze},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(I){for(var ae in ze)ze.hasOwnProperty(ae)&&I[ae]&&(ze[ae]=I[ae]);return this},d.__private__.setDocumentProperty=function(I,ae){if(Object.keys(ze).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ze[I]=ae};var Ze,tt,ht,Mt,Pt,ot={},be={},Ve=[],ct={},xt={},vt={},Te={},St=null,Ie=0,Xe=[],st=new vD(d),Nt=t.hotfixes||[],Et={},qt={},pn=[],At=function I(ae,_e,Ne,$e,ut,wt){if(!(this instanceof I))return new I(ae,_e,Ne,$e,ut,wt);isNaN(ae)&&(ae=1),isNaN(_e)&&(_e=0),isNaN(Ne)&&(Ne=0),isNaN($e)&&($e=1),isNaN(ut)&&(ut=0),isNaN(wt)&&(wt=0),this._matrix=[ae,_e,Ne,$e,ut,wt]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(I)},At.prototype.multiply=function(I){var ae=I.sx*this.sx+I.shy*this.shx,_e=I.sx*this.shy+I.shy*this.sy,Ne=I.shx*this.sx+I.sy*this.shx,$e=I.shx*this.shy+I.sy*this.sy,ut=I.tx*this.sx+I.ty*this.shx+this.tx,wt=I.tx*this.shy+I.ty*this.sy+this.ty;return new At(ae,_e,Ne,$e,ut,wt)},At.prototype.decompose=function(){var I=this.sx,ae=this.shy,_e=this.shx,Ne=this.sy,$e=this.tx,ut=this.ty,wt=Math.sqrt(I*I+ae*ae),kt=(I/=wt)*_e+(ae/=wt)*Ne;_e-=I*kt,Ne-=ae*kt;var Yt=Math.sqrt(_e*_e+Ne*Ne);return kt/=Yt,I*(Ne/=Yt)<ae*(_e/=Yt)&&(I=-I,ae=-ae,kt=-kt,wt=-wt),{scale:new At(wt,0,0,Yt,0,0),translate:new At(1,0,0,1,$e,ut),rotate:new At(I,ae,-ae,I,0,0),skew:new At(1,0,kt,1,0,0)}},At.prototype.toString=function(I){return this.join(" ")},At.prototype.inversed=function(){var I=this.sx,ae=this.shy,_e=this.shx,Ne=this.sy,$e=this.tx,ut=this.ty,wt=1/(I*Ne-ae*_e),kt=Ne*wt,Yt=-ae*wt,mn=-_e*wt,en=I*wt;return new At(kt,Yt,mn,en,-kt*$e-mn*ut,-Yt*$e-en*ut)},At.prototype.applyToPoint=function(I){var ae=I.x*this.sx+I.y*this.shx+this.tx,_e=I.x*this.shy+I.y*this.sy+this.ty;return new Lo(ae,_e)},At.prototype.applyToRectangle=function(I){var ae=this.applyToPoint(I),_e=this.applyToPoint(new Lo(I.x+I.w,I.y+I.h));return new qu(ae.x,ae.y,_e.x-ae.x,_e.y-ae.y)},At.prototype.clone=function(){var I=this.sx,ae=this.shy,_e=this.shx,Ne=this.sy,$e=this.tx,ut=this.ty;return new At(I,ae,_e,Ne,$e,ut)},d.Matrix=At;var hn=d.matrixMult=function(I,ae){return ae.multiply(I)},Un=new At(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Un;var dr=function(I,ae){if(!xt[I]){var _e=(ae instanceof Bf?"Sh":"P")+(Object.keys(ct).length+1).toString(10);ae.id=_e,xt[I]=_e,ct[_e]=ae,st.publish("addPattern",ae)}};d.ShadingPattern=Bf,d.TilingPattern=_d,d.addShadingPattern=function(I,ae){return P("addShadingPattern()"),dr(I,ae),this},d.beginTilingPattern=function(I){P("beginTilingPattern()"),qo(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},d.endTilingPattern=function(I,ae){P("endTilingPattern()"),ae.stream=ye[V].join(`
`),dr(I,ae),st.publish("endTilingPattern",ae),pn.pop().restore()};var Bn=d.__private__.newObject=function(){var I=kn();return or(I,!0),I},kn=d.__private__.newObjectDeferred=function(){return ne++,ue[ne]=function(){return ce},ne},or=function(I,ae){return ae=typeof ae=="boolean"&&ae,ue[I]=ce,ae&&ie(I+" 0 obj"),I},ii=d.__private__.newAdditionalObject=function(){var I={objId:kn(),content:""};return Me.push(I),I},sr=kn(),Zr=kn(),ya=d.__private__.decodeColorString=function(I){var ae=I.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length===5&&(ae[4]==="k"||ae[4]==="K")&&(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var _e=parseFloat(ae[0]);ae=[_e,_e,_e,"r"]}for(var Ne="#",$e=0;$e<3;$e++)Ne+=("0"+Math.floor(255*parseFloat(ae[$e])).toString(16)).slice(-2);return Ne},Zi=d.__private__.encodeColorString=function(I){var ae;typeof I=="string"&&(I={ch1:I});var _e=I.ch1,Ne=I.ch2,$e=I.ch3,ut=I.ch4,wt=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var kt=new P9(_e);if(kt.ok)_e=kt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Yt=parseInt(_e.substr(1),16);_e=Yt>>16&255,Ne=Yt>>8&255,$e=255&Yt}if(Ne===void 0||ut===void 0&&_e===Ne&&Ne===$e)if(typeof _e=="string")ae=_e+" "+wt[0];else switch(I.precision){case 2:ae=N(_e/255)+" "+wt[0];break;case 3:default:ae=C(_e/255)+" "+wt[0]}else if(ut===void 0||gr(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return ae=["1.","1.","1.",wt[1]].join(" ");if(typeof _e=="string")ae=[_e,Ne,$e,wt[1]].join(" ");else switch(I.precision){case 2:ae=[N(_e/255),N(Ne/255),N($e/255),wt[1]].join(" ");break;default:case 3:ae=[C(_e/255),C(Ne/255),C($e/255),wt[1]].join(" ")}}else if(typeof _e=="string")ae=[_e,Ne,$e,ut,wt[2]].join(" ");else switch(I.precision){case 2:ae=[N(_e),N(Ne),N($e),N(ut),wt[2]].join(" ");break;case 3:default:ae=[C(_e),C(Ne),C($e),C(ut),wt[2]].join(" ")}return ae},to=d.__private__.getFilters=function(){return o},pe=d.__private__.putStream=function(I){var ae=(I=I||{}).data||"",_e=I.filters||to(),Ne=I.alreadyAppliedFilters||[],$e=I.addLength1||!1,ut=ae.length,wt=I.objectId,kt=function(Jr){return Jr};if(c!==null&&wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(kt=Mr.encryptor(wt,0));var Yt={};_e===!0&&(_e=["FlateEncode"]);var mn=I.additionalKeyValues||[],en=(Yt=un.API.processDataByFilters!==void 0?un.API.processDataByFilters(ae,_e):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(Yt.data.length!==0&&(mn.push({key:"Length",value:Yt.data.length}),$e===!0&&mn.push({key:"Length1",value:ut})),en.length!=0)if(en.split("/").length-1==1)mn.push({key:"Filter",value:en});else{mn.push({key:"Filter",value:"["+en+"]"});for(var gn=0;gn<mn.length;gn+=1)if(mn[gn].key==="DecodeParms"){for(var rr=[],Yn=0;Yn<Yt.reverseChain.split("/").length-1;Yn+=1)rr.push("null");rr.push(mn[gn].value),mn[gn].value="["+rr.join(" ")+"]"}}ie("<<");for(var lr=0;lr<mn.length;lr++)ie("/"+mn[lr].key+" "+mn[lr].value);ie(">>"),Yt.data.length!==0&&(ie("stream"),ie(kt(Yt.data)),ie("endstream"))},We=d.__private__.putPage=function(I){var ae=I.number,_e=I.data,Ne=I.objId,$e=I.contentsObjId;or(Ne,!0),ie("<</Type /Page"),ie("/Parent "+I.rootDictionaryObjId+" 0 R"),ie("/Resources "+I.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(M(I.mediaBox.bottomLeftX))+" "+parseFloat(M(I.mediaBox.bottomLeftY))+" "+M(I.mediaBox.topRightX)+" "+M(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ie("/CropBox ["+M(I.cropBox.bottomLeftX)+" "+M(I.cropBox.bottomLeftY)+" "+M(I.cropBox.topRightX)+" "+M(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ie("/BleedBox ["+M(I.bleedBox.bottomLeftX)+" "+M(I.bleedBox.bottomLeftY)+" "+M(I.bleedBox.topRightX)+" "+M(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ie("/TrimBox ["+M(I.trimBox.bottomLeftX)+" "+M(I.trimBox.bottomLeftY)+" "+M(I.trimBox.topRightX)+" "+M(I.trimBox.topRightY)+"]"),I.artBox!==null&&ie("/ArtBox ["+M(I.artBox.bottomLeftX)+" "+M(I.artBox.bottomLeftY)+" "+M(I.artBox.topRightX)+" "+M(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ie("/UserUnit "+I.userUnit),st.publish("putPage",{objId:Ne,pageContext:Xe[ae],pageNumber:ae,page:_e}),ie("/Contents "+$e+" 0 R"),ie(">>"),ie("endobj");var ut=_e.join(`
`);return b===_.ADVANCED&&(ut+=`
Q`),or($e,!0),pe({data:ut,filters:to(),objectId:$e}),ie("endobj"),Ne},Qe=d.__private__.putPages=function(){var I,ae,_e=[];for(I=1;I<=Ie;I++)Xe[I].objId=kn(),Xe[I].contentsObjId=kn();for(I=1;I<=Ie;I++)_e.push(We({number:I,data:ye[I],objId:Xe[I].objId,contentsObjId:Xe[I].contentsObjId,mediaBox:Xe[I].mediaBox,cropBox:Xe[I].cropBox,bleedBox:Xe[I].bleedBox,trimBox:Xe[I].trimBox,artBox:Xe[I].artBox,userUnit:Xe[I].userUnit,rootDictionaryObjId:sr,resourceDictionaryObjId:Zr}));or(sr,!0),ie("<</Type /Pages");var Ne="/Kids [";for(ae=0;ae<Ie;ae++)Ne+=_e[ae]+" 0 R ";ie(Ne+"]"),ie("/Count "+Ie),ie(">>"),ie("endobj"),st.publish("postPutPages")},nt=function(I){st.publish("putFont",{font:I,out:ie,newObject:Bn,putStream:pe}),I.isAlreadyPutted!==!0&&(I.objectNumber=Bn(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+lm(I.postScriptName)),ie("/Subtype /Type1"),typeof I.encoding=="string"&&ie("/Encoding /"+I.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Je=function(){for(var I in ot)ot.hasOwnProperty(I)&&(f===!1||f===!0&&h.hasOwnProperty(I))&&nt(ot[I])},Ot=function(I){I.objectNumber=Bn();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[M(I.x),M(I.y),M(I.x+I.width),M(I.y+I.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var _e=I.pages[1].join(`
`);pe({data:_e,additionalKeyValues:ae,objectId:I.objectNumber}),ie("endobj")},jt=function(){for(var I in Et)Et.hasOwnProperty(I)&&Ot(Et[I])},Kt=function(I,ae){var _e,Ne=[],$e=1/(ae-1);for(_e=0;_e<1;_e+=$e)Ne.push(_e);if(Ne.push(1),I[0].offset!=0){var ut={offset:0,color:I[0].color};I.unshift(ut)}if(I[I.length-1].offset!=1){var wt={offset:1,color:I[I.length-1].color};I.push(wt)}for(var kt="",Yt=0,mn=0;mn<Ne.length;mn++){for(_e=Ne[mn];_e>I[Yt+1].offset;)Yt++;var en=I[Yt].offset,gn=(_e-en)/(I[Yt+1].offset-en),rr=I[Yt].color,Yn=I[Yt+1].color;kt+=K(Math.round((1-gn)*rr[0]+gn*Yn[0]).toString(16))+K(Math.round((1-gn)*rr[1]+gn*Yn[1]).toString(16))+K(Math.round((1-gn)*rr[2]+gn*Yn[2]).toString(16))}return kt.trim()},bt=function(I,ae){ae||(ae=21);var _e=Bn(),Ne=Kt(I.colors,ae),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+ae+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe({data:Ne,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),ie("endobj"),I.objectNumber=Bn(),ie("<< /ShadingType "+I.type),ie("/ColorSpace /DeviceRGB");var ut="/Coords ["+M(parseFloat(I.coords[0]))+" "+M(parseFloat(I.coords[1]))+" ";I.type===2?ut+=M(parseFloat(I.coords[2]))+" "+M(parseFloat(I.coords[3])):ut+=M(parseFloat(I.coords[2]))+" "+M(parseFloat(I.coords[3]))+" "+M(parseFloat(I.coords[4]))+" "+M(parseFloat(I.coords[5])),ie(ut+="]"),I.matrix&&ie("/Matrix ["+I.matrix.toString()+"]"),ie("/Function "+_e+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},nn=function(I,ae){var _e=kn(),Ne=Bn();ae.push({resourcesOid:_e,objectOid:Ne}),I.objectNumber=Ne;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+I.boundingBox.map(M).join(" ")+"]"}),$e.push({key:"XStep",value:M(I.xStep)}),$e.push({key:"YStep",value:M(I.yStep)}),$e.push({key:"Resources",value:_e+" 0 R"}),I.matrix&&$e.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),pe({data:I.stream,additionalKeyValues:$e,objectId:I.objectNumber}),ie("endobj")},rn=function(I){var ae;for(ae in ct)ct.hasOwnProperty(ae)&&(ct[ae]instanceof Bf?bt(ct[ae]):ct[ae]instanceof _d&&nn(ct[ae],I))},Qt=function(I){for(var ae in I.objectNumber=Bn(),ie("<<"),I)switch(ae){case"opacity":ie("/ca "+N(I[ae]));break;case"stroke-opacity":ie("/CA "+N(I[ae]))}ie(">>"),ie("endobj")},qn=function(){var I;for(I in vt)vt.hasOwnProperty(I)&&Qt(vt[I])},Or=function(){for(var I in ie("/XObject <<"),Et)Et.hasOwnProperty(I)&&Et[I].objectNumber>=0&&ie("/"+I+" "+Et[I].objectNumber+" 0 R");st.publish("putXobjectDict"),ie(">>")},Gn=function(){Mr.oid=Bn(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Mr.v),ie("/R "+Mr.r),ie("/U <"+Mr.toHexString(Mr.U)+">"),ie("/O <"+Mr.toHexString(Mr.O)+">"),ie("/P "+Mr.P),ie(">>"),ie("endobj")},xr=function(){for(var I in ie("/Font <<"),ot)ot.hasOwnProperty(I)&&(f===!1||f===!0&&h.hasOwnProperty(I))&&ie("/"+I+" "+ot[I].objectNumber+" 0 R");ie(">>")},Zt=function(){if(Object.keys(ct).length>0){for(var I in ie("/Shading <<"),ct)ct.hasOwnProperty(I)&&ct[I]instanceof Bf&&ct[I].objectNumber>=0&&ie("/"+I+" "+ct[I].objectNumber+" 0 R");st.publish("putShadingPatternDict"),ie(">>")}},Ft=function(I){if(Object.keys(ct).length>0){for(var ae in ie("/Pattern <<"),ct)ct.hasOwnProperty(ae)&&ct[ae]instanceof d.TilingPattern&&ct[ae].objectNumber>=0&&ct[ae].objectNumber<I&&ie("/"+ae+" "+ct[ae].objectNumber+" 0 R");st.publish("putTilingPatternDict"),ie(">>")}},Li=function(){if(Object.keys(vt).length>0){var I;for(I in ie("/ExtGState <<"),vt)vt.hasOwnProperty(I)&&vt[I].objectNumber>=0&&ie("/"+I+" "+vt[I].objectNumber+" 0 R");st.publish("putGStateDict"),ie(">>")}},Ht=function(I){or(I.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),xr(),Zt(),Ft(I.objectOid),Li(),Or(),ie(">>"),ie("endobj")},nr=function(){var I=[];Je(),qn(),jt(),rn(I),st.publish("putResources"),I.forEach(Ht),Ht({resourcesOid:Zr,objectOid:Number.MAX_SAFE_INTEGER}),st.publish("postPutResources")},xa=function(){st.publish("putAdditionalObjects");for(var I=0;I<Me.length;I++){var ae=Me[I];or(ae.objId,!0),ie(ae.content),ie("endobj")}st.publish("postPutAdditionalObjects")},ai=function(I){be[I.fontName]=be[I.fontName]||{},be[I.fontName][I.fontStyle]=I.id},br=function(I,ae,_e,Ne,$e){var ut={id:"F"+(Object.keys(ot).length+1).toString(10),postScriptName:I,fontName:ae,fontStyle:_e,encoding:Ne,isStandardFont:$e||!1,metadata:{}};return st.publish("addFont",{font:ut,instance:this}),ot[ut.id]=ut,ai(ut),ut.id},Xn=function(I){for(var ae=0,_e=Le.length;ae<_e;ae++){var Ne=br.call(this,I[ae][0],I[ae][1],I[ae][2],Le[ae][3],!0);f===!1&&(h[Ne]=!0);var $e=I[ae][0].split("-");ai({id:Ne,fontName:$e[0],fontStyle:$e[1]||""})}st.publish("addFonts",{fonts:ot,dictionary:be})},Rr=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(Ne){var ae=Ne.stack||"";~ae.indexOf(" at ")&&(ae=ae.split(" at ")[1]);var _e="Error in function "+ae.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!dn.console)throw new Error(_e);dn.console.error(_e,Ne),dn.alert&&alert(_e)}},I.foo.bar=I,I.foo},Ua=function(I,ae){var _e,Ne,$e,ut,wt,kt,Yt,mn,en;if($e=(ae=ae||{}).sourceEncoding||"Unicode",wt=ae.outputEncoding,(ae.autoencode||wt)&&ot[Ze].metadata&&ot[Ze].metadata[$e]&&ot[Ze].metadata[$e].encoding&&(ut=ot[Ze].metadata[$e].encoding,!wt&&ot[Ze].encoding&&(wt=ot[Ze].encoding),!wt&&ut.codePages&&(wt=ut.codePages[0]),typeof wt=="string"&&(wt=ut[wt]),wt)){for(Yt=!1,kt=[],_e=0,Ne=I.length;_e<Ne;_e++)(mn=wt[I.charCodeAt(_e)])?kt.push(String.fromCharCode(mn)):kt.push(I[_e]),kt[_e].charCodeAt(0)>>8&&(Yt=!0);I=kt.join("")}for(_e=I.length;Yt===void 0&&_e!==0;)I.charCodeAt(_e-1)>>8&&(Yt=!0),_e--;if(!Yt)return I;for(kt=ae.noBOM?[]:[254,255],_e=0,Ne=I.length;_e<Ne;_e++){if((en=(mn=I.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(en),kt.push(mn-(en<<8))}return String.fromCharCode.apply(void 0,kt)},Dn=d.__private__.pdfEscape=d.pdfEscape=function(I,ae){return Ua(I,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oi=d.__private__.beginPage=function(I){ye[++Ie]=[],Xe[Ie]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},js(Ie),me(ye[V])},Wi=function(I,ae){var _e,Ne,$e;switch(n=ae||n,typeof I=="string"&&(_e=g(I.toLowerCase()),Array.isArray(_e)&&(Ne=_e[0],$e=_e[1])),Array.isArray(I)&&(Ne=I[0]*tt,$e=I[1]*tt),isNaN(Ne)&&(Ne=i[0],$e=i[1]),(Ne>14400||$e>14400)&&(Lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),$e=Math.min(14400,$e)),i=[Ne,$e],n.substr(0,1)){case"l":$e>Ne&&(i=[$e,Ne]);break;case"p":Ne>$e&&(i=[$e,Ne])}oi(i),pu(_a),ie(si),Er!==0&&ie(Er+" J"),Tr!==0&&ie(Tr+" j"),st.publish("addPage",{pageNumber:Ie})},fs=function(I){I>0&&I<=Ie&&(ye.splice(I,1),Xe.splice(I,1),Ie--,V>Ie&&(V=Ie),this.setPage(V))},js=function(I){I>0&&I<=Ie&&(V=I)},Kc=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return ye.length-1},Go=function(I,ae,_e){var Ne,$e=void 0;return _e=_e||{},I=I!==void 0?I:ot[Ze].fontName,ae=ae!==void 0?ae:ot[Ze].fontStyle,Ne=I.toLowerCase(),be[Ne]!==void 0&&be[Ne][ae]!==void 0?$e=be[Ne][ae]:be[I]!==void 0&&be[I][ae]!==void 0?$e=be[I][ae]:_e.disableWarning===!1&&Lr.warn("Unable to look up font label for font '"+I+"', '"+ae+"'. Refer to getFontList() for available fonts."),$e||_e.noFallback||($e=be.times[ae])==null&&($e=be.times.normal),$e},hs=d.__private__.putInfo=function(){var I=Bn(),ae=function(Ne){return Ne};for(var _e in c!==null&&(ae=Mr.encryptor(I,0)),ie("<<"),ie("/Producer ("+Dn(ae("jsPDF "+un.version))+")"),ze)ze.hasOwnProperty(_e)&&ze[_e]&&ie("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Dn(ae(ze[_e]))+")");ie("/CreationDate ("+Dn(ae(Z))+")"),ie(">>"),ie("endobj")},To=d.__private__.putCatalog=function(I){var ae=(I=I||{}).rootDictionaryObjId||sr;switch(Bn(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+ae+" 0 R"),te||(te="fullwidth"),te){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+te;_e.substr(_e.length-1)==="%"&&(te=parseInt(te)/100),typeof te=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+N(te)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Pe&&ie("/PageMode /"+Pe),st.publish("putCatalog"),ie(">>"),ie("endobj")},Ml=d.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(ne+1)),ie("/Root "+ne+" 0 R"),ie("/Info "+(ne-1)+" 0 R"),c!==null&&ie("/Encrypt "+Mr.oid+" 0 R"),ie("/ID [ <"+H+"> <"+H+"> ]"),ie(">>")},Zc=d.__private__.putHeader=function(){ie("%PDF-"+m),ie("%ºß¬à")},Gu=d.__private__.putXRef=function(){var I="0000000000";ie("xref"),ie("0 "+(ne+1)),ie("0000000000 65535 f ");for(var ae=1;ae<=ne;ae++)typeof ue[ae]=="function"?ie((I+ue[ae]()).slice(-10)+" 00000 n "):ue[ae]!==void 0?ie((I+ue[ae]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Ji=d.__private__.buildDocument=function(){Ae(),me(he),st.publish("buildDocument"),Zc(),Qe(),xa(),nr(),c!==null&&Gn(),hs(),To();var I=ce;return Gu(),Ml(),ie("startxref"),ie(""+I),ie("%%EOF"),me(ye[V]),he.join(`
`)},ds=d.__private__.getBlob=function(I){return new Blob([Ce(I)],{type:"application/pdf"})},Ba=d.output=d.__private__.output=Rr(function(I,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",I){case void 0:return Ji();case"save":d.save(ae.filename);break;case"arraybuffer":return Ce(Ji());case"blob":return ds(Ji());case"bloburi":case"bloburl":if(dn.URL!==void 0&&typeof dn.URL.createObjectURL=="function")return dn.URL&&dn.URL.createObjectURL(ds(Ji()))||void 0;Lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ne=Ji();try{_e=k3(Ne)}catch{_e=k3(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+ae.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&($e=ae.pdfObjectUrl,ut="");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",kt=dn.open();return kt!==null&&kt.document.write(wt),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',mn=dn.open();if(mn!==null){mn.document.write(Yt);var en=this;mn.document.documentElement.querySelector("#pdfViewer").onload=function(){mn.document.title=ae.filename,mn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(en.output("bloburl"))}}return mn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',rr=dn.open();if(rr!==null&&(rr.document.write(gn),rr.document.title=ae.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return dn.document.location.href=this.output("datauristring",ae);default:return null}}),ps=function(I){return Array.isArray(Nt)===!0&&Nt.indexOf(I)>-1};switch(r){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=ps("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);tt=r}var Mr=null;X(),B();var An=function(I){return c!==null?Mr.encryptor(I,0):function(ae){return ae}},hu=d.__private__.getPageInfo=d.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[I].objId,pageNumber:I,pageContext:Xe[I]}},an=d.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Xe)if(Xe[ae].objId===I)break;return hu(ae)},du=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Xe[V].objId,pageNumber:V,pageContext:Xe[V]}};d.addPage=function(){return Wi.apply(this,arguments),this},d.setPage=function(){return js.apply(this,arguments),me.call(this,ye[V]),this},d.insertPage=function(I){return this.addPage(),this.movePage(V,I),this},d.movePage=function(I,ae){var _e,Ne;if(I>ae){_e=ye[I],Ne=Xe[I];for(var $e=I;$e>ae;$e--)ye[$e]=ye[$e-1],Xe[$e]=Xe[$e-1];ye[ae]=_e,Xe[ae]=Ne,this.setPage(ae)}else if(I<ae){_e=ye[I],Ne=Xe[I];for(var ut=I;ut<ae;ut++)ye[ut]=ye[ut+1],Xe[ut]=Xe[ut+1];ye[ae]=_e,Xe[ae]=Ne,this.setPage(ae)}return this},d.deletePage=function(){return fs.apply(this,arguments),this},d.__private__.text=d.text=function(I,ae,_e,Ne,$e){var ut,wt,kt,Yt,mn,en,gn,rr,Yn,lr=(Ne=Ne||{}).scope||this;if(typeof I=="number"&&typeof ae=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Jr=_e;_e=ae,ae=I,I=Jr}if(arguments[3]instanceof At?(P("The transform parameter of text() with a Matrix value"),Yn=$e):(kt=arguments[4],Yt=arguments[5],gr(gn=arguments[3])==="object"&&gn!==null||(typeof kt=="string"&&(Yt=kt,kt=null),typeof gn=="string"&&(Yt=gn,gn=null),typeof gn=="number"&&(kt=gn,gn=null),Ne={flags:gn,angle:kt,align:Yt})),isNaN(ae)||isNaN(_e)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return lr;var Oi="",No=!1,ja=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:ba,Qr=lr.internal.scaleFactor;function Aa(Nn){return Nn=Nn.split("	").join(Array(Ne.TabLen||9).join(" ")),Dn(Nn,gn)}function ur(Nn){for(var Hn,kr=Nn.concat(),ti=[],Js=kr.length;Js--;)typeof(Hn=kr.shift())=="string"?ti.push(Hn):Array.isArray(Nn)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?ti.push(Hn[0]):ti.push([Hn[0],Hn[1],Hn[2]]);return ti}function Nl(Nn,Hn){var kr;if(typeof Nn=="string")kr=Hn(Nn)[0];else if(Array.isArray(Nn)){for(var ti,Js,sf=Nn.concat(),Qu=[],Sh=sf.length;Sh--;)typeof(ti=sf.shift())=="string"?Qu.push(Hn(ti)[0]):Array.isArray(ti)&&typeof ti[0]=="string"&&(Js=Hn(ti[0],ti[1],ti[2]),Qu.push([Js[0],Js[1],Js[2]]));kr=Qu}return kr}var Ma=!1,tf=!0;if(typeof I=="string")Ma=!0;else if(Array.isArray(I)){var nf=I.concat();wt=[];for(var vu,Ri=nf.length;Ri--;)(typeof(vu=nf.shift())!="string"||Array.isArray(vu)&&typeof vu[0]!="string")&&(tf=!1);Ma=tf}if(Ma===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Xu=Fe/lr.internal.scaleFactor,Xs=Xu*(ja-1);switch(Ne.baseline){case"bottom":_e-=Xs;break;case"top":_e+=Xu-Xs;break;case"hanging":_e+=Xu-2*Xs;break;case"middle":_e+=Xu/2-Xs}if((en=Ne.maxWidth||0)>0&&(typeof I=="string"?I=lr.splitTextToSize(I,en):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Nn,Hn){return Nn.concat(lr.splitTextToSize(Hn,en))},[]))),ut={text:I,x:ae,y:_e,options:Ne,mutex:{pdfEscape:Dn,activeFontKey:Ze,fonts:ot,activeFontSize:Fe}},st.publish("preProcessText",ut),I=ut.text,kt=(Ne=ut.options).angle,!(Yn instanceof At)&&kt&&typeof kt=="number"){kt*=Math.PI/180,Ne.rotationDirection===0&&(kt=-kt),b===_.ADVANCED&&(kt=-kt);var ms=Math.cos(kt),Yu=Math.sin(kt);Yn=new At(ms,Yu,-Yu,ms,0,0)}else kt&&kt instanceof At&&(Yn=kt);b!==_.ADVANCED||Yn||(Yn=Un),(mn=Ne.charSpace||jr)!==void 0&&(Oi+=M(O(mn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=Ne.horizontalScale)!==void 0&&(Oi+=M(100*rr)+` Tz
`),Ne.lang;var Gi=-1,rf=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,af=lr.internal.getCurrentPageInfo().pageContext;switch(rf){case 0:case!1:case"fill":Gi=0;break;case 1:case!0:case"stroke":Gi=1;break;case 2:case"fillThenStroke":Gi=2;break;case 3:case"invisible":Gi=3;break;case 4:case"fillAndAddForClipping":Gi=4;break;case 5:case"strokeAndAddPathForClipping":Gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gi=6;break;case 7:case"addToPathForClipping":Gi=7}var wh=af.usedRenderingMode!==void 0?af.usedRenderingMode:-1;Gi!==-1?Oi+=Gi+` Tr
`:wh!==-1&&(Oi+=`0 Tr
`),Gi!==-1&&(af.usedRenderingMode=Gi),Yt=Ne.align||"left";var na,Ku=Fe*ja,yu=lr.internal.pageSize.getWidth(),Ha=ot[Ze];mn=Ne.charSpace||jr,en=Ne.maxWidth||0,gn=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var Xo=[],Yo=function(Nn){return lr.getStringUnitWidth(Nn,{font:Ha,charSpace:mn,fontSize:Fe,doKerning:!1})*Fe/Qr};if(Object.prototype.toString.call(I)==="[object Array]"){var Hr;wt=ur(I),Yt!=="left"&&(na=wt.map(Yo));var ra,Oo=0;if(Yt==="right"){ae-=na[0],I=[],Ri=wt.length;for(var Ys=0;Ys<Ri;Ys++)Ys===0?(ra=wa(ae),Hr=zr(_e)):(ra=O(Oo-na[Ys]),Hr=-Ku),I.push([wt[Ys],ra,Hr]),Oo=na[Ys]}else if(Yt==="center"){ae-=na[0]/2,I=[],Ri=wt.length;for(var gs=0;gs<Ri;gs++)gs===0?(ra=wa(ae),Hr=zr(_e)):(ra=O((Oo-na[gs])/2),Hr=-Ku),I.push([wt[gs],ra,Hr]),Oo=na[gs]}else if(Yt==="left"){I=[],Ri=wt.length;for(var cr=0;cr<Ri;cr++)I.push(wt[cr])}else if(Yt==="justify"&&Ha.encoding==="Identity-H"){I=[],Ri=wt.length,en=en!==0?en:yu;for(var Ko=0,Wr=0;Wr<Ri;Wr++)if(Hr=Wr===0?zr(_e):-Ku,ra=Wr===0?wa(ae):Ko,Wr<Ri-1){var Zu=O((en-na[Wr])/(wt[Wr].split(" ").length-1)),Vi=wt[Wr].split(" ");I.push([Vi[0]+" ",ra,Hr]),Ko=0;for(var Gr=1;Gr<Vi.length;Gr++){var vs=(Yo(Vi[Gr-1]+" "+Vi[Gr])-Yo(Vi[Gr]))*Qr+Zu;Gr==Vi.length-1?I.push([Vi[Gr],vs,0]):I.push([Vi[Gr]+" ",vs,0]),Ko-=vs}}else I.push([wt[Wr],ra,Hr]);I.push(["",Ko,0])}else{if(Yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Ri=wt.length,en=en!==0?en:yu,Wr=0;Wr<Ri;Wr++)Hr=Wr===0?zr(_e):-Ku,ra=Wr===0?wa(ae):0,Wr<Ri-1?Xo.push(M(O((en-na[Wr])/(wt[Wr].split(" ").length-1)))):Xo.push(0),I.push([wt[Wr],ra,Hr])}}var Pr=typeof Ne.R2L=="boolean"?Ne.R2L:Se;Pr===!0&&(I=Nl(I,function(Nn,Hn,kr){return[Nn.split("").reverse().join(""),Hn,kr]})),ut={text:I,x:ae,y:_e,options:Ne,mutex:{pdfEscape:Dn,activeFontKey:Ze,fonts:ot,activeFontSize:Fe}},st.publish("postProcessText",ut),I=ut.text,No=ut.mutex.isHex||!1;var wi=ot[Ze].encoding;wi!=="WinAnsiEncoding"&&wi!=="StandardEncoding"||(I=Nl(I,function(Nn,Hn,kr){return[Aa(Nn),Hn,kr]})),wt=ur(I),I=[];for(var Ir,Ks,Zo,ys=0,of=1,ei=Array.isArray(wt[0])?of:ys,Zs="",Ju=function(Nn,Hn,kr){var ti="";return kr instanceof At?(kr=typeof Ne.angle=="number"?hn(kr,new At(1,0,0,1,Nn,Hn)):hn(new At(1,0,0,1,Nn,Hn),kr),b===_.ADVANCED&&(kr=hn(new At(1,0,0,-1,0,0),kr)),ti=kr.join(" ")+` Tm
`):ti=M(Nn)+" "+M(Hn)+` Td
`,ti},no=0;no<wt.length;no++){switch(Zs="",ei){case of:Zo=(No?"<":"(")+wt[no][0]+(No?">":")"),Ir=parseFloat(wt[no][1]),Ks=parseFloat(wt[no][2]);break;case ys:Zo=(No?"<":"(")+wt[no]+(No?">":")"),Ir=wa(ae),Ks=zr(_e)}Xo!==void 0&&Xo[no]!==void 0&&(Zs=Xo[no]+` Tw
`),no===0?I.push(Zs+Ju(Ir,Ks,Yn)+Zo):ei===ys?I.push(Zs+Zo):ei===of&&I.push(Zs+Ju(Ir,Ks,Yn)+Zo)}I=ei===ys?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Si=`BT
/`;return Si+=Ze+" "+Fe+` Tf
`,Si+=M(Fe*ja)+` TL
`,Si+=$o+`
`,Si+=Oi,Si+=I,ie(Si+="ET"),h[Ze]=!0,lr};var Vu=d.__private__.clip=d.clip=function(I){return ie(I==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Vu("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ie("n"),this};var Po=d.__private__.isValidStyle=function(I){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ae=!0),ae};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(I){return Po(I)&&(u=I),this};var _r=d.__private__.getStyle=d.getStyle=function(I){var ae=u;switch(I){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=I}return ae},Hs=d.close=function(){return ie("h"),this};d.stroke=function(){return ie("S"),this},d.fill=function(I){return El("f",I),this},d.fillEvenOdd=function(I){return El("f*",I),this},d.fillStroke=function(I){return El("B",I),this},d.fillStrokeEvenOdd=function(I){return El("B*",I),this};var El=function(I,ae){gr(ae)==="object"?Tl(ae,I):ie(I)},Ni=function(I){I===null||b===_.ADVANCED&&I===void 0||(I=_r(I),ie(I))};function $u(I,ae,_e,Ne,$e){var ut=new _d(ae||this.boundingBox,_e||this.xStep,Ne||this.yStep,this.gState,$e||this.matrix);ut.stream=this.stream;var wt=I+"$$"+this.cloneIndex+++"$$";return dr(wt,ut),ut}var Tl=function(I,ae){var _e=xt[I.key],Ne=ct[_e];if(Ne instanceof Bf)ie("q"),ie(za(ae)),Ne.gState&&d.setGState(Ne.gState),ie(I.matrix.toString()+" cm"),ie("/"+_e+" sh"),ie("Q");else if(Ne instanceof _d){var $e=new At(1,0,0,-1,0,Ll());I.matrix&&($e=$e.multiply(I.matrix||Un),_e=$u.call(Ne,I.key,I.boundingBox,I.xStep,I.yStep,$e).id),ie("q"),ie("/Pattern cs"),ie("/"+_e+" scn"),Ne.gState&&d.setGState(Ne.gState),ie(ae),ie("Q")}},za=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pl=d.moveTo=function(I,ae){return ie(M(O(I))+" "+M(F(ae))+" m"),this},Ws=d.lineTo=function(I,ae){return ie(M(O(I))+" "+M(F(ae))+" l"),this},bi=d.curveTo=function(I,ae,_e,Ne,$e,ut){return ie([M(O(I)),M(F(ae)),M(O(_e)),M(F(Ne)),M(O($e)),M(F(ut)),"c"].join(" ")),this};d.__private__.line=d.line=function(I,ae,_e,Ne,$e){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ne)||!Po($e))throw new Error("Invalid arguments passed to jsPDF.line");return b===_.COMPAT?this.lines([[_e-I,Ne-ae]],I,ae,[1,1],$e||"S"):this.lines([[_e-I,Ne-ae]],I,ae,[1,1]).stroke()},d.__private__.lines=d.lines=function(I,ae,_e,Ne,$e,ut){var wt,kt,Yt,mn,en,gn,rr,Yn,lr,Jr,Oi,No;if(typeof I=="number"&&(No=_e,_e=ae,ae=I,I=No),Ne=Ne||[1,1],ut=ut||!1,isNaN(ae)||isNaN(_e)||!Array.isArray(I)||!Array.isArray(Ne)||!Po($e)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pl(ae,_e),wt=Ne[0],kt=Ne[1],mn=I.length,Jr=ae,Oi=_e,Yt=0;Yt<mn;Yt++)(en=I[Yt]).length===2?(Jr=en[0]*wt+Jr,Oi=en[1]*kt+Oi,Ws(Jr,Oi)):(gn=en[0]*wt+Jr,rr=en[1]*kt+Oi,Yn=en[2]*wt+Jr,lr=en[3]*kt+Oi,Jr=en[4]*wt+Jr,Oi=en[5]*kt+Oi,bi(gn,rr,Yn,lr,Jr,Oi));return ut&&Hs(),Ni($e),this},d.path=function(I){for(var ae=0;ae<I.length;ae++){var _e=I[ae],Ne=_e.c;switch(_e.op){case"m":Pl(Ne[0],Ne[1]);break;case"l":Ws(Ne[0],Ne[1]);break;case"c":bi.apply(this,Ne);break;case"h":Hs()}}return this},d.__private__.rect=d.rect=function(I,ae,_e,Ne,$e){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ne)||!Po($e))throw new Error("Invalid arguments passed to jsPDF.rect");return b===_.COMPAT&&(Ne=-Ne),ie([M(O(I)),M(F(ae)),M(O(_e)),M(O(Ne)),"re"].join(" ")),Ni($e),this},d.__private__.triangle=d.triangle=function(I,ae,_e,Ne,$e,ut,wt){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ne)||isNaN($e)||isNaN(ut)||!Po(wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-I,Ne-ae],[$e-_e,ut-Ne],[I-$e,ae-ut]],I,ae,[1,1],wt,!0),this},d.__private__.roundedRect=d.roundedRect=function(I,ae,_e,Ne,$e,ut,wt){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ne)||isNaN($e)||isNaN(ut)||!Po(wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*_e),ut=Math.min(ut,.5*Ne),this.lines([[_e-2*$e,0],[$e*kt,0,$e,ut-ut*kt,$e,ut],[0,Ne-2*ut],[0,ut*kt,-$e*kt,ut,-$e,ut],[2*$e-_e,0],[-$e*kt,0,-$e,-ut*kt,-$e,-ut],[0,2*ut-Ne],[0,-ut*kt,$e*kt,-ut,$e,-ut]],I+$e,ae,[1,1],wt,!0),this},d.__private__.ellipse=d.ellipse=function(I,ae,_e,Ne,$e){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ne)||!Po($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*_e,wt=4/3*(Math.SQRT2-1)*Ne;return Pl(I+_e,ae),bi(I+_e,ae-wt,I+ut,ae-Ne,I,ae-Ne),bi(I-ut,ae-Ne,I-_e,ae-wt,I-_e,ae),bi(I-_e,ae+wt,I-ut,ae+Ne,I,ae+Ne),bi(I+ut,ae+Ne,I+_e,ae+wt,I+_e,ae),Ni($e),this},d.__private__.circle=d.circle=function(I,ae,_e,Ne){if(isNaN(I)||isNaN(ae)||isNaN(_e)||!Po(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ae,_e,_e,Ne)},d.setFont=function(I,ae,_e){return _e&&(ae=E(ae,_e)),Ze=Go(I,ae,{disableWarning:!1}),this};var Qi=d.__private__.getFont=d.getFont=function(){return ot[Go.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var I,ae,_e={};for(I in be)if(be.hasOwnProperty(I))for(ae in _e[I]=[],be[I])be[I].hasOwnProperty(ae)&&_e[I].push(ae);return _e},d.addFont=function(I,ae,_e,Ne,$e){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(_e=E(_e,Ne)),$e=$e||"Identity-H",br.call(this,I,ae,_e,$e)};var ba,_a=t.lineWidth||.200025,Gs=d.__private__.getLineWidth=d.getLineWidth=function(){return _a},pu=d.__private__.setLineWidth=d.setLineWidth=function(I){return _a=I,ie(M(O(I))+" w"),this};d.__private__.setLineDash=un.API.setLineDash=un.API.setLineDashPattern=function(I,ae){if(I=I||[],ae=ae||0,isNaN(ae)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(_e){return M(O(_e))}).join(" "),ae=M(O(ae)),ie("["+I+"] "+ae+" d"),this};var ea=d.__private__.getLineHeight=d.getLineHeight=function(){return Fe*ba};d.__private__.getLineHeight=d.getLineHeight=function(){return Fe*ba};var Vs=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(ba=I),this},$s=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return ba};Vs(t.lineHeight);var wa=d.__private__.getHorizontalCoordinate=function(I){return O(I)},zr=d.__private__.getVerticalCoordinate=function(I){return b===_.ADVANCED?I:Xe[V].mediaBox.topRightY-Xe[V].mediaBox.bottomLeftY-O(I)},_i=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(I){return M(wa(I))},Co=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(I){return M(zr(I))},si=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ya(si)},d.__private__.setStrokeColor=d.setDrawColor=function(I,ae,_e,Ne){return si=Zi({ch1:I,ch2:ae,ch3:_e,ch4:Ne,pdfColorType:"draw",precision:2}),ie(si),this};var Vo=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ya(Vo)},d.__private__.setFillColor=d.setFillColor=function(I,ae,_e,Ne){return Vo=Zi({ch1:I,ch2:ae,ch3:_e,ch4:Ne,pdfColorType:"fill",precision:2}),ie(Vo),this};var $o=t.textColor||"0 g",Jc=d.__private__.getTextColor=d.getTextColor=function(){return ya($o)};d.__private__.setTextColor=d.setTextColor=function(I,ae,_e,Ne){return $o=Zi({ch1:I,ch2:ae,ch3:_e,ch4:Ne,pdfColorType:"text",precision:3}),this};var jr=t.charSpace,ta=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(jr||0)};d.__private__.setCharSpace=d.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jr=I,this};var Er=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(I){var ae=d.CapJoinStyles[I];if(ae===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Er=ae,ie(ae+" J"),this};var Tr=0;d.__private__.setLineJoin=d.setLineJoin=function(I){var ae=d.CapJoinStyles[I];if(ae===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tr=ae,ie(ae+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(M(O(I))+" M"),this},d.GState=jy,d.setGState=function(I){(I=typeof I=="string"?vt[Te[I]]:Sa(null,I)).equals(St)||(ie("/"+I.id+" gs"),St=I)};var Sa=function(I,ae){if(!I||!Te[I]){var _e=!1;for(var Ne in vt)if(vt.hasOwnProperty(Ne)&&vt[Ne].equals(ae)){_e=!0;break}if(_e)ae=vt[Ne];else{var $e="GS"+(Object.keys(vt).length+1).toString(10);vt[$e]=ae,ae.id=$e}return I&&(Te[I]=ae.id),st.publish("addGState",ae),ae}};d.addGState=function(I,ae){return Sa(I,ae),this},d.saveGraphicsState=function(){return ie("q"),Ve.push({key:Ze,size:Fe,color:$o}),this},d.restoreGraphicsState=function(){ie("Q");var I=Ve.pop();return Ze=I.key,Fe=I.size,$o=I.color,St=null,this},d.setCurrentTransformationMatrix=function(I){return ie(I.toString()+" cm"),this},d.comment=function(I){return ie("#"+I),this};var Lo=function(I,ae){var _e=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(ut){isNaN(ut)||(_e=parseFloat(ut))}});var Ne=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(ut){isNaN(ut)||(Ne=parseFloat(ut))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(ut){$e=ut.toString()}}),this},qu=function(I,ae,_e,Ne){Lo.call(this,I,ae),this.type="rect";var $e=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(wt){isNaN(wt)||($e=parseFloat(wt))}});var ut=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(wt){isNaN(wt)||(ut=parseFloat(wt))}}),this},Qc=function(){this.page=Ie,this.currentPage=V,this.pages=ye.slice(0),this.pagesContext=Xe.slice(0),this.x=ht,this.y=Mt,this.matrix=Pt,this.width=mu(V),this.height=Ll(V),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Qc.prototype.restore=function(){Ie=this.page,V=this.currentPage,Xe=this.pagesContext,ye=this.pages,ht=this.x,Mt=this.y,Pt=this.matrix,gu(V,this.width),ef(V,this.height),Ee=this.outputDestination};var qo=function(I,ae,_e,Ne,$e){pn.push(new Qc),Ie=V=0,ye=[],ht=I,Mt=ae,Pt=$e,oi([_e,Ne])},qs=function(I){if(qt[I])pn.pop().restore();else{var ae=new Qc,_e="Xo"+(Object.keys(Et).length+1).toString(10);ae.id=_e,qt[I]=_e,Et[_e]=ae,st.publish("addFormObject",ae),pn.pop().restore()}};for(var Cl in d.beginFormObject=function(I,ae,_e,Ne,$e){return qo(I,ae,_e,Ne,$e),this},d.endFormObject=function(I){return qs(I),this},d.doFormObject=function(I,ae){var _e=Et[qt[I]];return ie("q"),ie(ae.toString()+" cm"),ie("/"+_e.id+" Do"),ie("Q"),this},d.getFormObject=function(I){var ae=Et[qt[I]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},d.save=function(I,ae){return I=I||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(ad(ds(Ji()),I),typeof ad.unload=="function"&&dn.setTimeout&&setTimeout(ad.unload,911),this):new Promise(function(_e,Ne){try{var $e=ad(ds(Ji()),I);typeof ad.unload=="function"&&dn.setTimeout&&setTimeout(ad.unload,911),_e($e)}catch(ut){Ne(ut.message)}})},un.API)un.API.hasOwnProperty(Cl)&&(Cl==="events"&&un.API.events.length?function(I,ae){var _e,Ne,$e;for($e=ae.length-1;$e!==-1;$e--)_e=ae[$e][0],Ne=ae[$e][1],I.subscribe.apply(I,[_e].concat(typeof Ne=="function"?[Ne]:Ne))}(st,un.API.events):d[Cl]=un.API[Cl]);var mu=d.getPageWidth=function(I){return(Xe[I=I||V].mediaBox.topRightX-Xe[I].mediaBox.bottomLeftX)/tt},gu=d.setPageWidth=function(I,ae){Xe[I].mediaBox.topRightX=ae*tt+Xe[I].mediaBox.bottomLeftX},Ll=d.getPageHeight=function(I){return(Xe[I=I||V].mediaBox.topRightY-Xe[I].mediaBox.bottomLeftY)/tt},ef=d.setPageHeight=function(I,ae){Xe[I].mediaBox.topRightY=ae*tt+Xe[I].mediaBox.bottomLeftY};return d.internal={pdfEscape:Dn,getStyle:_r,getFont:Qi,getFontSize:ee,getCharSpace:ta,getTextColor:Jc,getLineHeight:ea,getLineHeightFactor:$s,getLineWidth:Gs,write:He,getHorizontalCoordinate:wa,getVerticalCoordinate:zr,getCoordinateString:_i,getVerticalCoordinateString:Co,collections:{},newObject:Bn,newAdditionalObject:ii,newObjectDeferred:kn,newObjectDeferredBegin:or,getFilters:to,putStream:pe,events:st,scaleFactor:tt,pageSize:{getWidth:function(){return mu(V)},setWidth:function(I){gu(V,I)},getHeight:function(){return Ll(V)},setHeight:function(I){ef(V,I)}},encryptionOptions:c,encryption:Mr,getEncryptor:An,output:Ba,getNumberOfPages:Kc,pages:ye,out:ie,f2:N,f3:C,getPageInfo:hu,getPageInfoByObjId:an,getCurrentPageInfo:du,getPDFVersion:x,Point:Lo,Rectangle:qu,Matrix:At,hasHotfix:ps},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return mu(V)},set:function(I){gu(V,I)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Ll(V)},set:function(I){ef(V,I)},enumerable:!0,configurable:!0}),Xn.call(d,Le),Ze="F1",Wi(i,n),st.publish("initialized"),d}sm.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},sm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sm.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},sm.prototype.processOwnerPassword=function(t,e){return F3(D3(e).substr(0,5),t)},sm.prototype.encryptor=function(t,e){var n=D3(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return F3(n,r)}},jy.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||gr(t)!==gr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},un.API={events:[]},un.version="2.5.2";var Ei=un.API,UC=1,sp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xn=function(t){return t.toFixed(2)},Nf=function(t){return t.toFixed(5)};Ei.__acroform__={};var cs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},yD=function(t){return t*UC},Au=function(t){var e=new O9,n=$t.internal.getHeight(t)||0,r=$t.internal.getWidth(t)||0;return e.BBox=[0,0,Number(xn(r)),Number(xn(n))],e},uMe=Ei.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},cMe=Ei.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},fMe=Ei.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Bi=Ei.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fMe(t,e-1)},zi=Ei.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uMe(t,e-1)},ji=Ei.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cMe(t,e-1)},hMe=Ei.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(xn(l.lowerLeft_X)),Number(xn(l.lowerLeft_Y)),Number(xn(l.upperRight_X)),Number(xn(l.upperRight_Y))]},dMe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=U3(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+xn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Au(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},U3=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var a=n,o=$t.internal.getHeight(t)||0;o=o<0?-o:o;var s=$t.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(C,O,j){if(C+1<i.length){var F=O+" "+i[C+1][0];return ox(F,t,j).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=ox("3",t,a).height,h=t.multiline?o-a:(o-f)/2,d=h+=2,m=0,x=0,y=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+ox(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var g="",_=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var S=!1;if(i[b].length!==1&&y!==i[b].length-1){if((f+2)*(_+2)+2>o)continue e;g+=i[b][y],S=!0,x=b,b--}else{g=(g+=i[b][y]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var A=parseInt(b),E=l(A,g,a),M=b>=i.length-1;if(E&&!M){g+=" ",y=0;continue}if(E||M){if(M)x=A;else if(t.multiline&&(f+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(_+2)+2>o)continue e;x=A}}for(var P="",D=m;D<=x;D++){var N=i[D];if(t.multiline){if(D===x){P+=N[y]+" ",y=(y+1)%N.length;continue}if(D===m){P+=N[N.length-1]+" ";continue}}P+=N[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,c=ox(P,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}e+=xn(u)+" "+xn(d)+` Td
`,e+="("+sp(P)+`) Tj
`,e+=-xn(u)+` 0 Td
`,d=-(a+2),c=0,m=S?x:x+1,_++,g=""}break}return r.text=e,r.fontSize=a,r},ox=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},pMe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mMe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},gMe=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),gr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},vMe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(cu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(pMe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");UC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new R9,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&mMe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=hMe(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=$t.createDefaultAppearanceStream(s),gr(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=dMe(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var d=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var m=d[o];typeof m=="function"&&(m=m.call(i,s)),f+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(i,s)),f+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&gMe(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},N9=Ei.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),gr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+sp(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},dA=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+sp(r(t))+")"},Nu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nu.prototype.toString=function(){return this.objId+" 0 R"},Nu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Nu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:N9(i,this.objId,this.scope)}):i instanceof Nu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var O9=function(){Nu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};cs(O9,Nu);var R9=function(){Nu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+sp(n(t))+")"}},set:function(n){t=n}})};cs(R9,Nu);var cu=function t(){Nu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Bi(e,3)},set:function(g){g?this.F=zi(e,3):this.F=ji(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof u_)return;a="FieldObject"+t.FieldNum++}var g=function(_){return _};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+sp(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/UC:u},set:function(g){u=g}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof u_||this instanceof ih))return dA(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ha?h:dA(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof ha?g:g.substr(0,1)==="("?nm(g.substr(1,g.length-2)):nm(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ha?nm(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof ha?"/"+g:g}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ha?d:dA(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=this instanceof ha?g:g.substr(0,1)==="("?nm(g.substr(1,g.length-2)):nm(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ha?nm(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof ha?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(g){g=!!g,x=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(g){m=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,1)},set:function(g){g?this.Ff=zi(this.Ff,1):this.Ff=ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,2)},set:function(g){g?this.Ff=zi(this.Ff,2):this.Ff=ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,3)},set:function(g){g?this.Ff=zi(this.Ff,3):this.Ff=ji(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');y=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(y){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};cs(cu,Nu);var Rd=function(){cu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return N9(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,18)},set:function(n){n?this.Ff=zi(this.Ff,18):this.Ff=ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=zi(this.Ff,19):this.Ff=ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,20)},set:function(n){n?(this.Ff=zi(this.Ff,20),e.sort()):this.Ff=ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,22)},set:function(n){n?this.Ff=zi(this.Ff,22):this.Ff=ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(n){n?this.Ff=zi(this.Ff,23):this.Ff=ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,27)},set:function(n){n?this.Ff=zi(this.Ff,27):this.Ff=ji(this.Ff,27)}}),this.hasAppearanceStream=!1};cs(Rd,cu);var Id=function(){Rd.call(this),this.fontName="helvetica",this.combo=!1};cs(Id,Rd);var kd=function(){Id.call(this),this.combo=!0};cs(kd,Id);var m0=function(){kd.call(this),this.edit=!0};cs(m0,kd);var ha=function(){cu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,15)},set:function(n){n?this.Ff=zi(this.Ff,15):this.Ff=ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,16)},set:function(n){n?this.Ff=zi(this.Ff,16):this.Ff=ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,17)},set:function(n){n?this.Ff=zi(this.Ff,17):this.Ff=ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(n){n?this.Ff=zi(this.Ff,26):this.Ff=ji(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+sp(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){gr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};cs(ha,cu);var g0=function(){ha.call(this),this.pushButton=!0};cs(g0,ha);var Dd=function(){ha.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};cs(Dd,ha);var u_=function(){var t,e;cu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+sp(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){gr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};cs(u_,cu),Dd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Dd.prototype.createOption=function(t){var e=new u_;return e.Parent=this,e.optionName=t,this.Kids.push(e),yMe.call(this.scope,e),e};var v0=function(){ha.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};cs(v0,ha);var ih=function(){cu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,13)},set:function(e){e?this.Ff=zi(this.Ff,13):this.Ff=ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,21)},set:function(e){e?this.Ff=zi(this.Ff,21):this.Ff=ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(e){e?this.Ff=zi(this.Ff,23):this.Ff=ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,24)},set:function(e){e?this.Ff=zi(this.Ff,24):this.Ff=ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,25)},set:function(e){e?this.Ff=zi(this.Ff,25):this.Ff=ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(e){e?this.Ff=zi(this.Ff,26):this.Ff=ji(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};cs(ih,cu);var y0=function(){ih.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,14)},set:function(t){t?this.Ff=zi(this.Ff,14):this.Ff=ji(this.Ff,14)}}),this.password=!0};cs(y0,ih);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=U3(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+xn($t.internal.getWidth(t))+" "+xn($t.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+xn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=$t.internal.getHeight(t),o=$t.internal.getWidth(t),s=U3(t,t.caption);return i.push("1 g"),i.push("0 0 "+xn(o)+" "+xn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xn(o-1)+" "+xn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+xn(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xn($t.internal.getWidth(t))+" "+xn($t.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$t.RadioButton.Circle.YesNormal,e.D[t]=$t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=$t.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Nf($t.internal.getWidth(t)/2)+" "+Nf($t.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*$t.internal.Bezier_C).toFixed(5)),o=Number((r*$t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nf($t.internal.getWidth(t)/2)+" "+Nf($t.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Nf($t.internal.getWidth(t)/2)+" "+Nf($t.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*$t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nf($t.internal.getWidth(t)/2)+" "+Nf($t.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$t.RadioButton.Cross.YesNormal,e.D[t]=$t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=$t.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+xn($t.internal.getWidth(t)-2)+" "+xn($t.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(xn(r.x1.x)+" "+xn(r.x1.y)+" m"),n.push(xn(r.x2.x)+" "+xn(r.x2.y)+" l"),n.push(xn(r.x4.x)+" "+xn(r.x4.y)+" m"),n.push(xn(r.x3.x)+" "+xn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=$t.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+xn($t.internal.getWidth(t))+" "+xn($t.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+xn($t.internal.getWidth(t)-2)+" "+xn($t.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(xn(n.x1.x)+" "+xn(n.x1.y)+" m"),r.push(xn(n.x2.x)+" "+xn(n.x2.y)+" l"),r.push(xn(n.x4.x)+" "+xn(n.x4.y)+" m"),r.push(xn(n.x3.x)+" "+xn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xn($t.internal.getWidth(t))+" "+xn($t.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};$t.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$t.internal.getWidth(t),n=$t.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},$t.internal.getWidth=function(t){var e=0;return gr(t)==="object"&&(e=yD(t.Rect[2])),e},$t.internal.getHeight=function(t){var e=0;return gr(t)==="object"&&(e=yD(t.Rect[3])),e};var yMe=Ei.addField=function(t){if(vMe(this,t),!(t instanceof cu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ei.AcroFormChoiceField=Rd,Ei.AcroFormListBox=Id,Ei.AcroFormComboBox=kd,Ei.AcroFormEditBox=m0,Ei.AcroFormButton=ha,Ei.AcroFormPushButton=g0,Ei.AcroFormRadioButton=Dd,Ei.AcroFormCheckBox=v0,Ei.AcroFormTextField=ih,Ei.AcroFormPasswordField=y0,Ei.AcroFormAppearance=$t,Ei.AcroForm={ChoiceField:Rd,ListBox:Id,ComboBox:kd,EditBox:m0,Button:ha,PushButton:g0,RadioButton:Dd,CheckBox:v0,TextField:ih,PasswordField:y0,Appearance:$t},un.AcroForm={ChoiceField:Rd,ListBox:Id,ComboBox:kd,EditBox:m0,Button:ha,PushButton:g0,RadioButton:Dd,CheckBox:v0,TextField:ih,PasswordField:y0,Appearance:$t};var xMe=un.AcroForm;function I9(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(C,O){var j,F,Z,H,q,B=e;if((O=O||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(E(C))for(q in n)for(Z=n[q],j=0;j<Z.length;j+=1){for(H=!0,F=0;F<Z[j].length;F+=1)if(Z[j][F]!==void 0&&Z[j][F]!==C[F]){H=!1;break}if(H===!0){B=q;break}}else for(q in n)for(Z=n[q],j=0;j<Z.length;j+=1){for(H=!0,F=0;F<Z[j].length;F+=1)if(Z[j][F]!==void 0&&Z[j][F]!==C.charCodeAt(F)){H=!1;break}if(H===!0){B=q;break}}return B===e&&O!==e&&(B=O),B},i=function C(O){for(var j=this.internal.write,F=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:O.width}),H.push({key:"Height",value:O.height}),O.colorSpace===y.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===y.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var q="",B=0,z=O.transparency.length;B<z;B++)q+=O.transparency[B]+" "+O.transparency[B]+" ";H.push({key:"Mask",value:"["+q+"]"})}O.sMask!==void 0&&H.push({key:"SMask",value:O.objectId+1+" 0 R"});var $=O.filter!==void 0?["/"+O.filter]:void 0;if(F({data:O.data,additionalKeyValues:H,alreadyAppliedFilters:$,objectId:O.objectId}),j("endobj"),"sMask"in O&&O.sMask!==void 0){var X="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,k={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:X,data:O.sMask};"filter"in O&&(k.filter=O.filter),C.call(this,k)}if(O.colorSpace===y.INDEXED){var V=this.internal.newObject();F({data:P(new Uint8Array(O.palette)),objectId:V}),j("endobj")}},a=function(){var C=this.internal.collections.addImage_images;for(var O in C)i.call(this,C[O])},o=function(){var C,O=this.internal.collections.addImage_images,j=this.internal.write;for(var F in O)j("/I"+(C=O[F]).index,C.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var C=this.internal.collections.addImage_images;return s.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(C){return typeof t["process"+C.toUpperCase()]=="function"},f=function(C){return gr(C)==="object"&&C.nodeType===1},h=function(C,O){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var j=""+C.getAttribute("src");if(j.indexOf("data:image/")===0)return p0(unescape(j).split("base64,").pop());var F=t.loadFile(j,!0);if(F!==void 0)return F}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var Z;switch(O){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return p0(C.toDataURL(Z,1).split("base64,").pop())}},d=function(C){var O=this.internal.collections.addImage_images;if(O){for(var j in O)if(C===O[j].alias)return O[j]}},m=function(C,O,j){return C||O||(C=-96,O=-96),C<0&&(C=-1*j.width*72/C/this.internal.scaleFactor),O<0&&(O=-1*j.height*72/O/this.internal.scaleFactor),C===0&&(C=O*j.width/j.height),O===0&&(O=C*j.height/j.width),[C,O]},x=function(C,O,j,F,Z,H){var q=m.call(this,j,F,Z),B=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,$=l.call(this);if(j=q[0],F=q[1],$[Z.index]=Z,H){H*=Math.PI/180;var X=Math.cos(H),k=Math.sin(H),V=function(K){return K.toFixed(4)},G=[V(X),V(k),V(-1*k),V(X),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,B(C),z(O+F),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([B(j),"0","0",B(F),"0","0","cm"].join(" "))):this.internal.write([B(j),"0","0",B(F),B(C),z(O+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(C){var O,j,F=0;if(typeof C=="string")for(j=C.length,O=0;O<j;O++)F=(F<<5)-F+C.charCodeAt(O),F|=0;else if(E(C))for(j=C.byteLength/2,O=0;O<j;O++)F=(F<<5)-F+C[O],F|=0;return F},b=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var O=!0;return C.length===0&&(O=!1),C.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(O=!1),O},S=t.__addimage__.extractImageFromDataUrl=function(C){var O=(C=C||"").split("base64,"),j=null;if(O.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(F)&&(j={mimeType:F[1],charset:F[2],data:O[1]})}return j},A=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(C){return A()&&C instanceof ArrayBuffer};var E=t.__addimage__.isArrayBufferView=function(C){return A()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},M=t.__addimage__.binaryStringToUint8Array=function(C){for(var O=C.length,j=new Uint8Array(O),F=0;F<O;F++)j[F]=C.charCodeAt(F);return j},P=t.__addimage__.arrayBufferToBinaryString=function(C){for(var O="",j=E(C)?C:new Uint8Array(C),F=0;F<j.length;F+=8192)O+=String.fromCharCode.apply(null,j.subarray(F,F+8192));return O};t.addImage=function(){var C,O,j,F,Z,H,q,B,z;if(typeof arguments[1]=="number"?(O=e,j=arguments[1],F=arguments[2],Z=arguments[3],H=arguments[4],q=arguments[5],B=arguments[6],z=arguments[7]):(O=arguments[1],j=arguments[2],F=arguments[3],Z=arguments[4],H=arguments[5],q=arguments[6],B=arguments[7],z=arguments[8]),gr(C=arguments[0])==="object"&&!f(C)&&"imageData"in C){var $=C;C=$.imageData,O=$.format||O||e,j=$.x||j||0,F=$.y||F||0,Z=$.w||$.width||Z,H=$.h||$.height||H,q=$.alias||q,B=$.compression||B,z=$.rotation||$.angle||z}var X=this.internal.getFilters();if(B===void 0&&X.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(j)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var k=D.call(this,C,O,q,B);return x.call(this,j,F,Z,H,k,z),this};var D=function(C,O,j,F){var Z,H,q;if(typeof C=="string"&&r(C)===e){C=unescape(C);var B=N(C,!1);(B!==""||(B=t.loadFile(C,!0))!==void 0)&&(C=B)}if(f(C)&&(C=h(C,O)),O=r(C,O),!c(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((q=j)==null||q.length===0)&&(j=function(z){return typeof z=="string"||E(z)?_(z):E(z.data)?_(z.data):null}(C)),(Z=d.call(this,j))||(A()&&(C instanceof Uint8Array||O==="RGBA"||(H=C,C=M(C))),Z=this["process"+O.toUpperCase()](C,u.call(this),j,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in t.image_compression?z:g.NONE}(F),H)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},N=t.__addimage__.convertBase64ToBinaryString=function(C,O){var j;O=typeof O!="boolean"||O;var F,Z="";if(typeof C=="string"){F=(j=S(C))!==null?j.data:C;try{Z=p0(F)}catch(H){if(O)throw b(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(C){var O,j,F="";if(f(C)&&(C=h(C)),typeof C=="string"&&r(C)===e&&((F=N(C,!1))===""&&(F=t.loadFile(C)||""),C=F),j=r(C),!c(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!A()||C instanceof Uint8Array||(C=M(C)),!(O=this["process"+j.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=j,O}})(un.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};un.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(x.objId),_=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+d(g(r.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+d(g(_))+") >>",x.content=a;var b=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(x.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var S=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(m(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var E=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+E+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(un.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},s=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(x){var y=0,g=n,_="",b=0;for(y=0;y<x.length;y+=1)g[x.charCodeAt(y)]!==void 0?(b++,typeof(g=g[x.charCodeAt(y)])=="number"&&(_+=String.fromCharCode(g),g=n,b=0),y===x.length-1&&(g=n,_+=x.charAt(y-(b-1)),y-=b-1,b=0)):(g=n,_+=x.charAt(y-b),y-=b,b=0);return _};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(x,y,g){return o(x)?a(x)===!1?-1:!u(x)||!o(y)&&!o(g)||!o(g)&&s(y)||s(x)&&!o(y)||s(x)&&l(y)||s(x)&&s(y)?0:c(x)&&o(y)&&!s(y)&&o(g)&&u(g)?3:s(x)||!o(g)?1:2:-1},d=function(x){var y=0,g=0,_=0,b="",S="",A="",E=(x=x||"").split("\\s+"),M=[];for(y=0;y<E.length;y+=1){for(M.push(""),g=0;g<E[y].length;g+=1)b=E[y][g],S=E[y][g-1],A=E[y][g+1],o(b)?(_=h(b,S,A),M[y]+=_!==-1?String.fromCharCode(e[b.charCodeAt(0)][_]):b):M[y]+=b;M[y]=f(M[y])}return M.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var x,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(y)){var _=0;for(g=[],_=0;_<y.length;_+=1)Array.isArray(y[_])?g.push([d(y[_][0]),y[_][1],y[_][2]]):g.push([d(y[_])]);x=g}else x=d(y);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",m])}(un.API),un.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(un.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(x){m=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,d=0,m=0,x=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=u.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,S){return b.concat(y.splitTextToSize(S,g))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)d<(x=this.getStringUnitWidth(l[_],{font:f})*c)&&(d=x);return d!==0&&(m=l.length),{w:d/=h,h:Math.max((m*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,h){if(r.call(this),!c)throw new Error("No data for PDF table.");var d,m,x,y,g=[],_=[],b=[],S={},A={},E=[],M=[],P=(h=h||{}).autoSize||!1,D=h.printHeaders!==!1,N=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},e),O=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=N,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=F,this.setFontSize(N),f==null)_=g=Object.keys(c[0]),b=g.map(function(){return"left"});else if(Array.isArray(f)&&gr(f[0])==="object")for(g=f.map(function($){return $.name}),_=f.map(function($){return $.prompt||$.name||""}),b=f.map(function($){return $.align||"left"}),d=0;d<f.length;d+=1)A[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(_=g=f,b=g.map(function(){return"left"}));if(P||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<g.length;d+=1){for(S[y=g[d]]=c.map(function($){return $[y]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(_[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=S[y],this.setFont(void 0,"normal"),x=0;x<m.length;x+=1)E.push(this.getTextDimensions(m[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[y]=Math.max.apply(null,E)+O+O,E=[]}if(D){var Z={};for(d=0;d<g.length;d+=1)Z[g[d]]={},Z[g[d]].text=_[d],Z[g[d]].align=b[d];var H=s.call(this,Z,A);M=g.map(function($){return new a(l,u,A[$],H,Z[$].text,void 0,Z[$].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var q=f.reduce(function($,X){return $[X.name]=X.align,$},{});for(d=0;d<c.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:c[d]},this);var B=s.call(this,c[d],A);for(x=0;x<g.length;x+=1){var z=c[d][g[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:x,data:z},this),o.call(this,new a(l,u,A[g[x]],B,z,d+2,q[g[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var m=l[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+c+c},this).reduce(function(d,m){return Math.max(d,m)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(un.API);var k9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},D9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],B3=I9(D9),F9=[100,200,300,400,500,600,700,800,900],bMe=I9(F9);function z3(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return k9[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof B3[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function xD(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var _Me={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _D(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function wMe(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},_Me,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=z3(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+_D(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=B3[l],f=c<=B3.normal?-1:1,h=xD(u,D9,c,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=k9[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=bMe[l],f=xD(u,F9,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+_D(a)+"'.");return o}function wD(t){return t.trimLeft()}function SMe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function AMe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var sx,SD,AD,pA=["times"];(function(t){var e,n,r,i,a,o,s,l,u,c=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=k;Object.defineProperty(this,"pdf",{get:function(){return V}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(me){G=!!me}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(me){K=!!me}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(me){isNaN(me)||(ne=me)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(me){isNaN(me)||(ue=me)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(me){var ie;typeof me=="number"?ie=[me,me,me,me]:((ie=new Array(4))[0]=me[0],ie[1]=me.length>=2?me[1]:ie[0],ie[2]=me.length>=3?me[2]:ie[0],ie[3]=me.length>=4?me[3]:ie[1]),u.margin=ie}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(me){he=me}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(me){ce=me}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(me){Me=me}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(me){me instanceof c&&(u=me)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(me){u.path=me}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(me){ye=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var ie;ie=h(me),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var ie=h(me);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var J=null;function Ee(me,ie){if(J===null){var He=function(Ce){var Le=[];return Object.keys(Ce).forEach(function(Fe){Ce[Fe].forEach(function(te){var ee=null;switch(te){case"bold":ee={family:Fe,weight:"bold"};break;case"italic":ee={family:Fe,style:"italic"};break;case"bolditalic":ee={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":ee={family:Fe}}ee!==null&&(ee.ref={name:Fe,style:te},Le.push(ee))})}),Le}(me.getFontList());J=function(Ce){for(var Le={},Fe=0;Fe<Ce.length;++Fe){var te=z3(Ce[Fe]),ee=te.family,Se=te.stretch,Pe=te.style,Oe=te.weight;Le[ee]=Le[ee]||{},Le[ee][Se]=Le[ee][Se]||{},Le[ee][Se][Pe]=Le[ee][Se][Pe]||{},Le[ee][Se][Pe][Oe]=te}return Le}(He.concat(ie))}return J}var Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(me){J=null,Ae=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var ie;if(this.ctx.font=me,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var He=ie[1],Ce=(ie[2],ie[3]),Le=ie[4],Fe=(ie[5],ie[6]),te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(te==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:te==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var ee=function(ze){var Ze,tt,ht=[],Mt=ze.trim();if(Mt==="")return pA;if(Mt in bD)return[bD[Mt]];for(;Mt!=="";){switch(tt=null,Ze=(Mt=wD(Mt)).charAt(0)){case'"':case"'":tt=SMe(Mt.substring(1),Ze);break;default:tt=AMe(Mt)}if(tt===null||(ht.push(tt[0]),(Mt=wD(tt[1]))!==""&&Mt.charAt(0)!==","))return pA;Mt=Mt.replace(/^,/,"")}return ht}(Fe);if(this.fontFaces){var Se=wMe(Ee(this.pdf,this.fontFaces),ee.map(function(ze){return{family:ze,stretch:"normal",weight:Ce,style:He}}));this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var Pe="";(Ce==="bold"||parseInt(Ce,10)>=700||He==="bold")&&(Pe="bold"),He==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var Oe="",qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<ee.length;it++){if(this.pdf.internal.getFont(ee[it],Pe,{noFallback:!0,disableWarning:!0})!==void 0){Oe=ee[it];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(ee[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=ee[it],Pe="bold";else if(this.pdf.internal.getFont(ee[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=ee[it],Pe="normal";break}}if(Oe===""){for(var at=0;at<ee.length;at++)if(qe[ee[at]]){Oe=qe[ee[at]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){S.call(this,"fill",!1)},f.prototype.stroke=function(){S.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,V){if(isNaN(k)||isNaN(V))throw Lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(k,V));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(k,V)},f.prototype.closePath=function(){var k=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&gr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){k=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},f.prototype.lineTo=function(k,V){if(isNaN(k)||isNaN(V))throw Lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(k,V));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,V,G,K){if(isNaN(G)||isNaN(K)||isNaN(k)||isNaN(V))throw Lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(G,K)),ue=this.ctx.transform.applyToPoint(new o(k,V));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},f.prototype.bezierCurveTo=function(k,V,G,K,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(k)||isNaN(V)||isNaN(G)||isNaN(K))throw Lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(ne,ue)),ce=this.ctx.transform.applyToPoint(new o(k,V)),Me=this.ctx.transform.applyToPoint(new o(G,K));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:Me.x,y2:Me.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},f.prototype.arc=function(k,V,G,K,ne,ue){if(isNaN(k)||isNaN(V)||isNaN(G)||isNaN(K)||isNaN(ne))throw Lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(k,V));k=he.x,V=he.y;var ce=this.ctx.transform.applyToPoint(new o(0,G)),Me=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(ce.x-Me.x,2)+Math.pow(ce.y-Me.y,2))}Math.abs(ne-K)>=2*Math.PI&&(K=0,ne=2*Math.PI),this.path.push({type:"arc",x:k,y:V,radius:G,startAngle:K,endAngle:ne,counterclockwise:ue})},f.prototype.arcTo=function(k,V,G,K,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,V,G,K){if(isNaN(k)||isNaN(V)||isNaN(G)||isNaN(K))throw Lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,V),this.lineTo(k+G,V),this.lineTo(k+G,V+K),this.lineTo(k,V+K),this.lineTo(k,V),this.lineTo(k+G,V),this.lineTo(k,V)},f.prototype.fillRect=function(k,V,G,K){if(isNaN(k)||isNaN(V)||isNaN(G)||isNaN(K))throw Lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,V,G,K),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(k,V,G,K){if(isNaN(k)||isNaN(V)||isNaN(G)||isNaN(K))throw Lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(k,V,G,K),this.stroke())},f.prototype.clearRect=function(k,V,G,K){if(isNaN(k)||isNaN(V)||isNaN(G)||isNaN(K))throw Lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,V,G,K))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(V),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(k){var V,G,K,ne;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))V=0,G=0,K=0,ne=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ue!==null)V=parseInt(ue[1]),G=parseInt(ue[2]),K=parseInt(ue[3]),ne=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)V=parseInt(ue[1]),G=parseInt(ue[2]),K=parseInt(ue[3]),ne=parseFloat(ue[4]);else{if(ne=1,typeof k=="string"&&k.charAt(0)!=="#"){var he=new P9(k);k=he.ok?he.toHex():"#000000"}k.length===4?(V=k.substring(1,2),V+=V,G=k.substring(2,3),G+=G,K=k.substring(3,4),K+=K):(V=k.substring(1,3),G=k.substring(3,5),K=k.substring(5,7)),V=parseInt(V,16),G=parseInt(G,16),K=parseInt(K,16)}}return{r:V,g:G,b:K,a:ne,style:k}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,V,G,K){if(isNaN(V)||isNaN(G)||typeof k!="string")throw Lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!d.call(this)){var ne=B(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;O.call(this,{text:k,x:V,y:G,scale:ue,angle:ne,align:this.textAlign,maxWidth:K})}},f.prototype.strokeText=function(k,V,G,K){if(isNaN(V)||isNaN(G)||typeof k!="string")throw Lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){K=isNaN(K)?void 0:K;var ne=B(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;O.call(this,{text:k,x:V,y:G,scale:ue,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:K})}},f.prototype.measureText=function(k){if(typeof k!="string")throw Lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,G=this.pdf.internal.scaleFactor,K=V.internal.getFontSize(),ne=V.getStringUnitWidth(k)*K/V.internal.scaleFactor,ue=function(he){var ce=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new ue({width:ne*=Math.round(96*G/72*1e4)/1e4})},f.prototype.scale=function(k,V){if(isNaN(k)||isNaN(V))throw Lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(k,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.rotate=function(k){if(isNaN(k))throw Lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(k,V){if(isNaN(k)||isNaN(V))throw Lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,k,V);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.transform=function(k,V,G,K,ne,ue){if(isNaN(k)||isNaN(V)||isNaN(G)||isNaN(K)||isNaN(ne)||isNaN(ue))throw Lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(k,V,G,K,ne,ue);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(k,V,G,K,ne,ue){k=isNaN(k)?1:k,V=isNaN(V)?0:V,G=isNaN(G)?0:G,K=isNaN(K)?1:K,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(k,V,G,K,ne,ue)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,V,G,K,ne,ue,he,ce,Me){var ye=this.pdf.getImageProperties(k),J=1,Ee=1,Ae=1,me=1;K!==void 0&&ce!==void 0&&(Ae=ce/K,me=Me/ne,J=ye.width/K*ce/K,Ee=ye.height/ne*Me/ne),ue===void 0&&(ue=V,he=G,V=0,G=0),K!==void 0&&ce===void 0&&(ce=K,Me=ne),K===void 0&&ce===void 0&&(ce=ye.width,Me=ye.height);for(var ie,He=this.ctx.transform.decompose(),Ce=B(He.rotate.shx),Le=new l,Fe=(Le=(Le=(Le=Le.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new s(ue-V*Ae,he-G*me,K*J,ne*Ee)),te=y.call(this,Fe),ee=[],Se=0;Se<te.length;Se+=1)ee.indexOf(te[Se])===-1&&ee.push(te[Se]);if(b(ee),this.autoPaging)for(var Pe=ee[0],Oe=ee[ee.length-1],qe=Pe;qe<Oe+1;qe++){this.pdf.setPage(qe);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=qe===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=qe===1?0:ze+(qe-2)*Ze;if(this.ctx.clip_path.length!==0){var ht=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ie,this.posX+this.margin[3],-tt+at+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=ht}var Mt=JSON.parse(JSON.stringify(Fe));Mt=_([Mt],this.posX+this.margin[3],-tt+at+this.ctx.prevPageLastElemOffset)[0];var Pt=(qe>Pe||qe<Oe)&&x.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ze,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,Ce),Pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ce)};var y=function(k,V,G){var K=[];V=V||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":K.push(Math.floor((k.y+ne)/G)+1);break;case"arc":K.push(Math.floor((k.y+ne-k.radius)/G)+1),K.push(Math.floor((k.y+ne+k.radius)/G)+1);break;case"qct":var ue=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);K.push(Math.floor((ue.y+ne)/G)+1),K.push(Math.floor((ue.y+ue.h+ne)/G)+1);break;case"bct":var he=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);K.push(Math.floor((he.y+ne)/G)+1),K.push(Math.floor((he.y+he.h+ne)/G)+1);break;case"rect":K.push(Math.floor((k.y+ne)/G)+1),K.push(Math.floor((k.y+k.h+ne)/G)+1)}for(var ce=0;ce<K.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<K[ce];)g.call(this);return K},g=function(){var k=this.fillStyle,V=this.strokeStyle,G=this.font,K=this.lineCap,ne=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=V,this.font=G,this.lineCap=K,this.lineWidth=ne,this.lineJoin=ue},_=function(k,V,G){for(var K=0;K<k.length;K++)switch(k[K].type){case"bct":k[K].x2+=V,k[K].y2+=G;case"qct":k[K].x1+=V,k[K].y1+=G;case"mt":case"lt":case"arc":default:k[K].x+=V,k[K].y+=G}return k},b=function(k){return k.sort(function(V,G){return V-G})},S=function(k,V){for(var G,K,ne=this.fillStyle,ue=this.strokeStyle,he=this.lineCap,ce=this.lineWidth,Me=Math.abs(ce*this.ctx.transform.scaleX),ye=this.lineJoin,J=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Ae=[],me=0;me<Ee.length;me++)if(Ee[me].x!==void 0)for(var ie=y.call(this,Ee[me]),He=0;He<ie.length;He+=1)Ae.indexOf(ie[He])===-1&&Ae.push(ie[He]);for(var Ce=0;Ce<Ae.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<Ae[Ce];)g.call(this);if(b(Ae),this.autoPaging)for(var Le=Ae[0],Fe=Ae[Ae.length-1],te=Le;te<Fe+1;te++){this.pdf.setPage(te),this.fillStyle=ne,this.strokeStyle=ue,this.lineCap=he,this.lineWidth=Me,this.lineJoin=ye;var ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=te===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=te===1?0:Pe+(te-2)*Oe;if(this.ctx.clip_path.length!==0){var it=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(G,this.posX+this.margin[3],-qe+Se+this.ctx.prevPageLastElemOffset),A.call(this,k,!0),this.path=it}if(K=JSON.parse(JSON.stringify(J)),this.path=_(K,this.posX+this.margin[3],-qe+Se+this.ctx.prevPageLastElemOffset),V===!1||te===0){var at=(te>Le||te<Fe)&&x.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ee,Oe,null).clip().discardPath()),A.call(this,k,V),at&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=Me,A.call(this,k,V),this.lineWidth=ce;this.path=J},A=function(k,V){if((k!=="stroke"||V||!m.call(this))&&(k==="stroke"||V||!d.call(this))){for(var G,K,ne=[],ue=this.path,he=0;he<ue.length;he++){var ce=ue[he];switch(ce.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ce,deltas:[],abs:[]});break;case"lt":var Me=ne.length;if(ue[he-1]&&!isNaN(ue[he-1].x)&&(G=[ce.x-ue[he-1].x,ce.y-ue[he-1].y],Me>0)){for(;Me>=0;Me--)if(ne[Me-1].close!==!0&&ne[Me-1].begin!==!0){ne[Me-1].deltas.push(G),ne[Me-1].abs.push(ce);break}}break;case"bct":G=[ce.x1-ue[he-1].x,ce.y1-ue[he-1].y,ce.x2-ue[he-1].x,ce.y2-ue[he-1].y,ce.x-ue[he-1].x,ce.y-ue[he-1].y],ne[ne.length-1].deltas.push(G);break;case"qct":var ye=ue[he-1].x+2/3*(ce.x1-ue[he-1].x),J=ue[he-1].y+2/3*(ce.y1-ue[he-1].y),Ee=ce.x+2/3*(ce.x1-ce.x),Ae=ce.y+2/3*(ce.y1-ce.y),me=ce.x,ie=ce.y;G=[ye-ue[he-1].x,J-ue[he-1].y,Ee-ue[he-1].x,Ae-ue[he-1].y,me-ue[he-1].x,ie-ue[he-1].y],ne[ne.length-1].deltas.push(G);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ce)}}K=V?null:k==="stroke"?"stroke":"fill";for(var He=!1,Ce=0;Ce<ne.length;Ce++)if(ne[Ce].arc)for(var Le=ne[Ce].abs,Fe=0;Fe<Le.length;Fe++){var te=Le[Fe];te.type==="arc"?P.call(this,te.x,te.y,te.radius,te.startAngle,te.endAngle,te.counterclockwise,void 0,V,!He):j.call(this,te.x,te.y),He=!0}else if(ne[Ce].close===!0)this.pdf.internal.out("h"),He=!1;else if(ne[Ce].begin!==!0){var ee=ne[Ce].start.x,Se=ne[Ce].start.y;F.call(this,ne[Ce].deltas,ee,Se),He=!0}K&&D.call(this,K),V&&N.call(this)}},E=function(k){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-G;case"top":return k+V-G;case"hanging":return k+V-2*G;case"middle":return k+V/2-G;case"ideographic":return k;case"alphabetic":default:return k}},M=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(V,G){this.colorStops.push([V,G])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(k,V,G,K,ne,ue,he,ce,Me){for(var ye=H.call(this,G,K,ne,ue),J=0;J<ye.length;J++){var Ee=ye[J];J===0&&(Me?C.call(this,Ee.x1+k,Ee.y1+V):j.call(this,Ee.x1+k,Ee.y1+V)),Z.call(this,k,V,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ce?N.call(this):D.call(this,he)},D=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},N=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(k,V){this.pdf.internal.out(n(k)+" "+r(V)+" m")},O=function(k){var V;switch(k.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var G=this.pdf.getTextDimensions(k.text),K=E.call(this,k.y),ne=M.call(this,K)-G.h,ue=this.ctx.transform.applyToPoint(new o(k.x,K)),he=this.ctx.transform.decompose(),ce=new l;ce=(ce=(ce=ce.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Me,ye,J,Ee=this.ctx.transform.applyToRectangle(new s(k.x,K,G.w,G.h)),Ae=ce.applyToRectangle(new s(k.x,ne,G.w,G.h)),me=y.call(this,Ae),ie=[],He=0;He<me.length;He+=1)ie.indexOf(me[He])===-1&&ie.push(me[He]);if(b(ie),this.autoPaging)for(var Ce=ie[0],Le=ie[ie.length-1],Fe=Ce;Fe<Le+1;Fe++){this.pdf.setPage(Fe);var te=Fe===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],Pe=Se-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],qe=Oe-this.margin[3],it=Fe===1?0:ee+(Fe-2)*Pe;if(this.ctx.clip_path.length!==0){var at=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Me,this.posX+this.margin[3],-1*it+te),A.call(this,"fill",!0),this.path=at}var ze=_([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-it+te+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*k.scale),J=this.lineWidth,this.lineWidth=J*k.scale);var Ze=this.autoPaging!=="text";if(Ze||ze.y+ze.h<=Se){if(Ze||ze.y>=te&&ze.x<=Oe){var tt=Ze?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Oe-ze.x)[0],ht=_([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-it+te+this.ctx.prevPageLastElemOffset)[0],Mt=Ze&&(Fe>Ce||Fe<Le)&&x.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Pe,null).clip().discardPath()),this.pdf.text(tt,ht.x,ht.y,{angle:k.angle,align:V,renderingMode:k.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else ze.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-ze.y);k.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=J)}else k.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*k.scale),J=this.lineWidth,this.lineWidth=J*k.scale),this.pdf.text(k.text,ue.x+this.posX,ue.y+this.posY,{angle:k.angle,align:V,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=J)},j=function(k,V,G,K){G=G||0,K=K||0,this.pdf.internal.out(n(k+G)+" "+r(V+K)+" l")},F=function(k,V,G){return this.pdf.lines(k,V,G,null,null)},Z=function(k,V,G,K,ne,ue,he,ce){this.pdf.internal.out([e(i(G+k)),e(a(K+V)),e(i(ne+k)),e(a(ue+V)),e(i(he+k)),e(a(ce+V)),"c"].join(" "))},H=function(k,V,G,K){for(var ne=2*Math.PI,ue=Math.PI/2;V>G;)V-=ne;var he=Math.abs(G-V);he<ne&&K&&(he=ne-he);for(var ce=[],Me=K?-1:1,ye=V;he>1e-5;){var J=ye+Me*Math.min(he,ue);ce.push(q.call(this,k,ye,J)),he-=Math.abs(J-ye),ye=J}return ce},q=function(k,V,G){var K=(G-V)/2,ne=k*Math.cos(K),ue=k*Math.sin(K),he=ne,ce=-ue,Me=he*he+ce*ce,ye=Me+he*ne+ce*ue,J=4/3*(Math.sqrt(2*Me*ye)-ye)/(he*ue-ce*ne),Ee=he-J*ce,Ae=ce+J*he,me=Ee,ie=-Ae,He=K+V,Ce=Math.cos(He),Le=Math.sin(He);return{x1:k*Math.cos(V),y1:k*Math.sin(V),x2:Ee*Ce-Ae*Le,y2:Ee*Le+Ae*Ce,x3:me*Ce-ie*Le,y3:me*Le+ie*Ce,x4:k*Math.cos(G),y4:k*Math.sin(G)}},B=function(k){return 180*k/Math.PI},z=function(k,V,G,K,ne,ue){var he=k+.5*(G-k),ce=V+.5*(K-V),Me=ne+.5*(G-ne),ye=ue+.5*(K-ue),J=Math.min(k,ne,he,Me),Ee=Math.max(k,ne,he,Me),Ae=Math.min(V,ue,ce,ye),me=Math.max(V,ue,ce,ye);return new s(J,Ae,Ee-J,me-Ae)},$=function(k,V,G,K,ne,ue,he,ce){var Me,ye,J,Ee,Ae,me,ie,He,Ce,Le,Fe,te,ee,Se,Pe=G-k,Oe=K-V,qe=ne-G,it=ue-K,at=he-ne,ze=ce-ue;for(ye=0;ye<41;ye++)Ce=(ie=(J=k+(Me=ye/40)*Pe)+Me*((Ae=G+Me*qe)-J))+Me*(Ae+Me*(ne+Me*at-Ae)-ie),Le=(He=(Ee=V+Me*Oe)+Me*((me=K+Me*it)-Ee))+Me*(me+Me*(ue+Me*ze-me)-He),ye==0?(Fe=Ce,te=Le,ee=Ce,Se=Le):(Fe=Math.min(Fe,Ce),te=Math.min(te,Le),ee=Math.max(ee,Ce),Se=Math.max(Se,Le));return new s(Math.round(Fe),Math.round(te),Math.round(ee-Fe),Math.round(Se-te))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,V,G=(k=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:V}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(un.API),function(t){var e=function(a){var o,s,l,u,c,f,h,d,m,x;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(x=c%85))/85)-(m=c%85))/85)-(d=c%85))/85)-(h=c%85))/85)%85,s.push(f+33,h+33,d+33,m+33,x+33)):s.push(122);return function(y,g){for(var _=g;_>0;_--)y.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,f=String,h="length",d=255,m="charCodeAt",x="slice",y="replace";for(a[x](-2),a=a[x](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[x](a[h]%5||5))[h];c>u;u+=5)s=52200625*(a[m](u)-33)+614125*(a[m](u+1)-33)+7225*(a[m](u+2)-33)+85*(a[m](u+3)-33)+(a[m](u+4)-33),l.push(d&s>>24,d&s>>16,d&s>>8,d&s);return function(g,_){for(var b=_;b>0;b--)g.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=I3(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(un.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,h=0,d=function(m){var x=m.length,y=[],g=String.fromCharCode;for(h=0;h<x;h+=1)y.push(g(255&m.charCodeAt(h)));return y.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(d(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return d(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(un.API),function(t){function e(){return(dn.html2canvas?Promise.resolve(dn.html2canvas):C3(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(dn.DOMPurify?Promise.resolve(dn.DOMPurify):C3(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=gr(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var d=u[h],m=d.src.find(function(x){return x.format==="truetype"});m&&l.addFont(m.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||un.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,un.getPageSize=function(o,s,l){if(gr(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var d,m=0,x=0;if(h.hasOwnProperty(f))m=h[f][1]/c,x=h[f][0]/c;else try{m=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",x>m&&(d=x,x=m,m=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>x&&(d=x,x=m,m=d)}return{width:x,height:m,unit:s,k:c,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(z3):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(un.API),un.API.addJS=function(t){return AD=t,this.internal.events.subscribe("postPutResources",function(){sx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),SD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+AD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sx!==void 0&&SD!==void 0&&this.internal.out("/Names <</JavaScript "+sx+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(un.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,x={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=d,e.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),x={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}d=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(un.API);var rm,lx,MD,ED,TD,MMe=function(){var t,e,n;function r(a){var o,s,l,u,c,f,h,d,m,x,y,g,_,b;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),m=(function(){var S,A;for(A=[],S=0;S<4;++S)A.push(String.fromCharCode(this.data[this.pos++]));return A}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(_=0;0<=x?_<x:_>x;0<=x?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(y=this.read(o)).indexOf(0),d=String.fromCharCode.apply(String,y.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(f,h,d,m){var x,y,g,_,b,S,A,E,M,P,D,N,C,O,j,F,Z,H,q,B,z,$=Math.ceil((u.width-f)/d),X=Math.ceil((u.height-h)/m),k=u.width==$&&u.height==X;for(O=o*$,N=k?s:new Uint8Array(O*X),S=a.length,C=0,y=0;C<X&&l<S;){switch(a[l++]){case 0:for(_=Z=0;Z<O;_=Z+=1)N[y++]=a[l++];break;case 1:for(_=H=0;H<O;_=H+=1)x=a[l++],b=_<o?0:N[y-o],N[y++]=(x+b)%256;break;case 2:for(_=q=0;q<O;_=q+=1)x=a[l++],g=(_-_%o)/o,j=C&&N[(C-1)*O+g*o+_%o],N[y++]=(j+x)%256;break;case 3:for(_=B=0;B<O;_=B+=1)x=a[l++],g=(_-_%o)/o,b=_<o?0:N[y-o],j=C&&N[(C-1)*O+g*o+_%o],N[y++]=(x+Math.floor((b+j)/2))%256;break;case 4:for(_=z=0;z<O;_=z+=1)x=a[l++],g=(_-_%o)/o,b=_<o?0:N[y-o],C===0?j=F=0:(j=N[(C-1)*O+g*o+_%o],F=g&&N[(C-1)*O+(g-1)*o+_%o]),A=b+j-F,E=Math.abs(A-b),P=Math.abs(A-j),D=Math.abs(A-F),M=E<=P&&E<=D?b:P<=D?j:F,N[y++]=(x+M)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!k){var V=((h+C*m)*u.width+f)*o,G=C*O;for(_=0;_<$;_+=1){for(var K=0;K<o;K+=1)s[V++]=N[G++];V+=(d-1)*o}}C++}}return a=nMe(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,f,h,d;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=f=0,h=s.length;f<h;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(d=c[a++])!=null?d:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,f,h,d,m,x,y,g;if(l=this.colors,x=null,s=this.hasAlphaChannel,this.palette.length&&(x=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),l=4,s=!0),m=(u=a.data||a).length,f=x||o,c=h=0,l===1)for(;c<m;)d=x?4*o[c/4]:h,y=f[d++],u[c++]=y,u[c++]=y,u[c++]=y,u[c++]=s?f[d++]:255,h=d;else for(;c<m;)d=x?4*o[c/4]:h,u[c++]=f[d++],u[c++]=f[d++],u[c++]=f[d++],u[c++]=s?f[d++]:255,h=d},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(dn)==="[object Window]"){try{e=dn.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,f,h,d;if(this.animation){for(d=[],s=c=0,f=(h=this.animation.frames).length;c<f;s=++c)o=h[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,d.push(o.image=t(l));return d}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,f,h=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(o=function(){var d,m;if(d=s++%u,m=l[d],h.renderFrame(a,d),u>1&&s/u<c)return h.animation._timeout=setTimeout(o,m.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function EMe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,h=null,d=0,m=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],!(1&x)&&(h=null),d=x>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++],A=S>>6&1,E=1<<(7&S)+1,M=s,P=l,D=!1;S>>7&&(D=!0,M=e,P=E,e+=3*E);var N=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}c.push({x:y,y:g,width:_,height:b,has_local_palette:D,palette_offset:M,palette_size:P,data_offset:N,data_length:e-N,transparent_index:h,interlaced:!!A,delay:f,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return m},this.frameInfo=function(O){if(O<0||O>=c.length)throw new Error("Frame index out of range.");return c[O]},this.decodeAndBlitFrameBGRA=function(O,j){var F=this.frameInfo(O),Z=F.width*F.height,H=new Uint8Array(Z);PD(t,F.data_offset,H,Z);var q=F.palette_offset,B=F.transparent_index;B===null&&(B=256);var z=F.width,$=n-z,X=z,k=4*(F.y*n+F.x),V=4*((F.y+F.height)*n+F.x),G=k,K=4*$;F.interlaced===!0&&(K+=4*n*7);for(var ne=8,ue=0,he=H.length;ue<he;++ue){var ce=H[ue];if(X===0&&(X=z,(G+=K)>=V&&(K=4*$+4*n*(ne-1),G=k+(z+$)*(ne<<1),ne>>=1)),ce===B)G+=4;else{var Me=t[q+3*ce],ye=t[q+3*ce+1],J=t[q+3*ce+2];j[G++]=J,j[G++]=ye,j[G++]=Me,j[G++]=255}--X}},this.decodeAndBlitFrameRGBA=function(O,j){var F=this.frameInfo(O),Z=F.width*F.height,H=new Uint8Array(Z);PD(t,F.data_offset,H,Z);var q=F.palette_offset,B=F.transparent_index;B===null&&(B=256);var z=F.width,$=n-z,X=z,k=4*(F.y*n+F.x),V=4*((F.y+F.height)*n+F.x),G=k,K=4*$;F.interlaced===!0&&(K+=4*n*7);for(var ne=8,ue=0,he=H.length;ue<he;++ue){var ce=H[ue];if(X===0&&(X=z,(G+=K)>=V&&(K=4*$+4*n*(ne-1),G=k+(z+$)*(ne<<1),ne>>=1)),ce===B)G+=4;else{var Me=t[q+3*ce],ye=t[q+3*ce+1],J=t[q+3*ce+2];j[G++]=Me,j[G++]=ye,j[G++]=J,j[G++]=255}--X}}}function PD(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,h=0,d=t[e++],m=new Int32Array(4096),x=null;;){for(;c<16&&d!==0;)f|=t[e++]<<c,c+=8,d===1?d=t[e++]:--d;if(c<l)break;var y=f&u;if(f>>=l,c-=l,y!==a){if(y===o)break;for(var g=y<s?y:x,_=0,b=g;b>a;)b=m[b]>>8,++_;var S=b;if(h+_+(g!==y?1:0)>r)return void Lr.log("Warning, gif stream longer than expected.");n[h++]=S;var A=h+=_;for(g!==y&&(n[h++]=S),b=g;_--;)b=m[b],n[--A]=255&b,b>>=8;x!==null&&s<4096&&(m[s++]=x<<8|S,s>=u+1&&l<12&&(++l,u=u<<1|1)),x=y}else s=o+1,u=(1<<(l=i+1))-1,x=null}return h!==r&&Lr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function mA(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),m=new Array(64),x=[],y=0,g=7,_=new Array(64),b=new Array(64),S=new Array(64),A=new Array(256),E=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(k,V){for(var G=0,K=0,ne=new Array,ue=1;ue<=16;ue++){for(var he=1;he<=k[ue];he++)ne[V[K]]=[],ne[V[K]][0]=G,ne[V[K]][1]=ue,K++,G++;G*=2}return ne}function q(k){for(var V=k[0],G=k[1]-1;G>=0;)V&1<<G&&(y|=1<<g),G--,--g<0&&(y==255?(B(255),B(0)):B(y),g=7,y=0)}function B(k){x.push(k)}function z(k){B(k>>8&255),B(255&k)}function $(k,V,G,K,ne){for(var ue,he=ne[0],ce=ne[240],Me=function(Le,Fe){var te,ee,Se,Pe,Oe,qe,it,at,ze,Ze,tt=0;for(ze=0;ze<8;++ze){te=Le[tt],ee=Le[tt+1],Se=Le[tt+2],Pe=Le[tt+3],Oe=Le[tt+4],qe=Le[tt+5],it=Le[tt+6];var ht=te+(at=Le[tt+7]),Mt=te-at,Pt=ee+it,ot=ee-it,be=Se+qe,Ve=Se-qe,ct=Pe+Oe,xt=Pe-Oe,vt=ht+ct,Te=ht-ct,St=Pt+be,Ie=Pt-be;Le[tt]=vt+St,Le[tt+4]=vt-St;var Xe=.707106781*(Ie+Te);Le[tt+2]=Te+Xe,Le[tt+6]=Te-Xe;var st=.382683433*((vt=xt+Ve)-(Ie=ot+Mt)),Nt=.5411961*vt+st,Et=1.306562965*Ie+st,qt=.707106781*(St=Ve+ot),pn=Mt+qt,At=Mt-qt;Le[tt+5]=At+Nt,Le[tt+3]=At-Nt,Le[tt+1]=pn+Et,Le[tt+7]=pn-Et,tt+=8}for(tt=0,ze=0;ze<8;++ze){te=Le[tt],ee=Le[tt+8],Se=Le[tt+16],Pe=Le[tt+24],Oe=Le[tt+32],qe=Le[tt+40],it=Le[tt+48];var hn=te+(at=Le[tt+56]),Un=te-at,dr=ee+it,Bn=ee-it,kn=Se+qe,or=Se-qe,ii=Pe+Oe,sr=Pe-Oe,Zr=hn+ii,ya=hn-ii,Zi=dr+kn,to=dr-kn;Le[tt]=Zr+Zi,Le[tt+32]=Zr-Zi;var pe=.707106781*(to+ya);Le[tt+16]=ya+pe,Le[tt+48]=ya-pe;var We=.382683433*((Zr=sr+or)-(to=Bn+Un)),Qe=.5411961*Zr+We,nt=1.306562965*to+We,Je=.707106781*(Zi=or+Bn),Ot=Un+Je,jt=Un-Je;Le[tt+40]=jt+Qe,Le[tt+24]=jt-Qe,Le[tt+8]=Ot+nt,Le[tt+56]=Ot-nt,tt++}for(ze=0;ze<64;++ze)Ze=Le[ze]*Fe[ze],d[ze]=Ze>0?Ze+.5|0:Ze-.5|0;return d}(k,V),ye=0;ye<64;++ye)m[M[ye]]=Me[ye];var J=m[0]-G;G=m[0],J==0?q(K[0]):(q(K[h[ue=32767+J]]),q(f[ue]));for(var Ee=63;Ee>0&&m[Ee]==0;)Ee--;if(Ee==0)return q(he),G;for(var Ae,me=1;me<=Ee;){for(var ie=me;m[me]==0&&me<=Ee;)++me;var He=me-ie;if(He>=16){Ae=He>>4;for(var Ce=1;Ce<=Ae;++Ce)q(ce);He&=15}ue=32767+m[me],q(ne[(He<<4)+h[ue]]),q(f[ue]),me++}return Ee!=63&&q(he),G}function X(k){k=Math.min(Math.max(k,1),100),a!=k&&(function(V){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ne=o((G[K]*V+50)/100);ne=Math.min(Math.max(ne,1),255),s[M[K]]=ne}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ce=o((ue[he]*V+50)/100);ce=Math.min(Math.max(ce,1),255),l[M[he]]=ce}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,J=0;J<8;J++)for(var Ee=0;Ee<8;Ee++)u[ye]=1/(s[M[ye]]*Me[J]*Me[Ee]*8),c[ye]=1/(l[M[ye]]*Me[J]*Me[Ee]*8),ye++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),a=k)}this.encode=function(k,V){V&&X(V),x=new Array,y=0,g=7,z(65496),z(65504),z(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),z(1),z(1),B(0),B(0),function(){z(65499),z(132),B(0);for(var ee=0;ee<64;ee++)B(s[ee]);B(1);for(var Se=0;Se<64;Se++)B(l[Se])}(),function(ee,Se){z(65472),z(17),B(8),z(Se),z(ee),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(k.width,k.height),function(){z(65476),z(418),B(0);for(var ee=0;ee<16;ee++)B(P[ee+1]);for(var Se=0;Se<=11;Se++)B(D[Se]);B(16);for(var Pe=0;Pe<16;Pe++)B(N[Pe+1]);for(var Oe=0;Oe<=161;Oe++)B(C[Oe]);B(1);for(var qe=0;qe<16;qe++)B(O[qe+1]);for(var it=0;it<=11;it++)B(j[it]);B(17);for(var at=0;at<16;at++)B(F[at+1]);for(var ze=0;ze<=161;ze++)B(Z[ze])}(),z(65498),z(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var G=0,K=0,ne=0;y=0,g=7,this.encode.displayName="_encode_";for(var ue,he,ce,Me,ye,J,Ee,Ae,me,ie=k.data,He=k.width,Ce=k.height,Le=4*He,Fe=0;Fe<Ce;){for(ue=0;ue<Le;){for(ye=Le*Fe+ue,Ee=-1,Ae=0,me=0;me<64;me++)J=ye+(Ae=me>>3)*Le+(Ee=4*(7&me)),Fe+Ae>=Ce&&(J-=Le*(Fe+1+Ae-Ce)),ue+Ee>=Le&&(J-=ue+Ee-Le+4),he=ie[J++],ce=ie[J++],Me=ie[J++],_[me]=(E[he]+E[ce+256>>0]+E[Me+512>>0]>>16)-128,b[me]=(E[he+768>>0]+E[ce+1024>>0]+E[Me+1280>>0]>>16)-128,S[me]=(E[he+1280>>0]+E[ce+1536>>0]+E[Me+1792>>0]>>16)-128;G=$(_,u,G,e,r),K=$(b,c,K,n,i),ne=$(S,c,ne,n,i),ue+=32}Fe+=8}if(g>=0){var te=[];te[1]=g+1,te[0]=(1<<g+1)-1,q(te)}return z(65497),new Uint8Array(x)},t=t||50,function(){for(var k=String.fromCharCode,V=0;V<256;V++)A[V]=k(V)}(),e=H(P,D),n=H(O,j),r=H(N,C),i=H(F,Z),function(){for(var k=1,V=2,G=1;G<=15;G++){for(var K=k;K<V;K++)h[32767+K]=G,f[32767+K]=[],f[32767+K][1]=G,f[32767+K][0]=K;for(var ne=-(V-1);ne<=-k;ne++)h[32767+ne]=G,f[32767+ne]=[],f[32767+ne][1]=G,f[32767+ne][0]=V-1+ne;k<<=1,V<<=1}}(),function(){for(var k=0;k<256;k++)E[k]=19595*k,E[k+256>>0]=38470*k,E[k+512>>0]=7471*k+32768,E[k+768>>0]=-11059*k,E[k+1024>>0]=-21709*k,E[k+1280>>0]=32768*k+8421375,E[k+1536>>0]=-27439*k,E[k+1792>>0]=-5329*k}(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function CD(t){function e(P){if(!P)throw Error("assert :P")}function n(P,D,N){for(var C=0;4>C;C++)if(P[D+C]!=N.charCodeAt(C))return!0;return!1}function r(P,D,N,C,O){for(var j=0;j<O;j++)P[D+j]=N[C+j]}function i(P,D,N,C){for(var O=0;O<C;O++)P[D+O]=N}function a(P){return new Int32Array(P)}function o(P,D){for(var N=[],C=0;C<P;C++)N.push(new D);return N}function s(P,D){var N=[];return function C(O,j,F){for(var Z=F[j],H=0;H<Z&&(O.push(F.length>j+1?[]:new D),!(F.length<j+1));H++)C(O[H],j+1,F)}(N,0,P),N}var l=function(){var P=this;function D(w,L){for(var U=1<<L-1>>>0;w&U;)U>>>=1;return U?(w&U-1)+U:w}function N(w,L,U,Y,re){e(!(Y%U));do w[L+(Y-=U)]=re;while(0<Y)}function C(w,L,U,Y,re){if(e(2328>=re),512>=re)var se=a(512);else if((se=a(re))==null)return 0;return function(le,fe,de,ge,xe,Ye){var Ke,Be,yt=fe,rt=1<<de,Re=a(16),ke=a(16);for(e(xe!=0),e(ge!=null),e(le!=null),e(0<de),Be=0;Be<xe;++Be){if(15<ge[Be])return 0;++Re[ge[Be]]}if(Re[0]==xe)return 0;for(ke[1]=0,Ke=1;15>Ke;++Ke){if(Re[Ke]>1<<Ke)return 0;ke[Ke+1]=ke[Ke]+Re[Ke]}for(Be=0;Be<xe;++Be)Ke=ge[Be],0<ge[Be]&&(Ye[ke[Ke]++]=Be);if(ke[15]==1)return(ge=new O).g=0,ge.value=Ye[0],N(le,yt,1,rt,ge),rt;var mt,_t=-1,gt=rt-1,Ut=0,Lt=1,on=1,Rt=1<<de;for(Be=0,Ke=1,xe=2;Ke<=de;++Ke,xe<<=1){if(Lt+=on<<=1,0>(on-=Re[Ke]))return 0;for(;0<Re[Ke];--Re[Ke])(ge=new O).g=Ke,ge.value=Ye[Be++],N(le,yt+Ut,xe,Rt,ge),Ut=D(Ut,Ke)}for(Ke=de+1,xe=2;15>=Ke;++Ke,xe<<=1){if(Lt+=on<<=1,0>(on-=Re[Ke]))return 0;for(;0<Re[Ke];--Re[Ke]){if(ge=new O,(Ut&gt)!=_t){for(yt+=Rt,mt=1<<(_t=Ke)-de;15>_t&&!(0>=(mt-=Re[_t]));)++_t,mt<<=1;rt+=Rt=1<<(mt=_t-de),le[fe+(_t=Ut&gt)].g=mt+de,le[fe+_t].value=yt-fe-_t}ge.g=Ke-de,ge.value=Ye[Be++],N(le,yt+(Ut>>de),xe,Rt,ge),Ut=D(Ut,Ke)}}return Lt!=2*ke[15]-1?0:rt}(w,L,U,Y,re,se)}function O(){this.value=this.g=0}function j(){this.value=this.g=0}function F(){this.G=o(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ri,j)}function Z(w,L,U,Y){e(w!=null),e(L!=null),e(2147483648>Y),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=L,w.pa=U,w.Jd=L,w.Yc=U+Y,w.Zc=4<=Y?U+Y-4+1:U,ue(w)}function H(w,L){for(var U=0;0<L--;)U|=ce(w,128)<<L;return U}function q(w,L){var U=H(w,L);return he(w)?-U:U}function B(w,L,U,Y){var re,se=0;for(e(w!=null),e(L!=null),e(4294967288>Y),w.Sb=Y,w.Ra=0,w.u=0,w.h=0,4<Y&&(Y=4),re=0;re<Y;++re)se+=L[U+re]<<8*re;w.Ra=se,w.bb=Y,w.oa=L,w.pa=U}function z(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<ms-8>>>0,++w.bb,w.u-=8;G(w)&&(w.h=1,w.u=0)}function $(w,L){if(e(0<=L),!w.h&&L<=Xs){var U=V(w)&Xu[L];return w.u+=L,z(w),U}return w.h=1,w.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(w){return w.Ra>>>(w.u&ms-1)>>>0}function G(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>ms}function K(w,L){w.u=L,w.h=G(w)}function ne(w){w.u>=Yu&&(e(w.u>=Yu),z(w))}function ue(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function he(w){return H(w,1)}function ce(w,L){var U=w.Ca;0>w.b&&ue(w);var Y=w.b,re=U*L>>>8,se=(w.I>>>Y>re)+0;for(se?(U-=re,w.I-=re+1<<Y>>>0):U=re+1,Y=U,re=0;256<=Y;)re+=8,Y>>=8;return Y=7^re+Gi[Y],w.b-=Y,w.Ca=(U<<Y)-1,se}function Me(w,L,U){w[L+0]=U>>24&255,w[L+1]=U>>16&255,w[L+2]=U>>8&255,w[L+3]=U>>0&255}function ye(w,L){return w[L+0]<<0|w[L+1]<<8}function J(w,L){return ye(w,L)|w[L+2]<<16}function Ee(w,L){return ye(w,L)|ye(w,L+2)<<16}function Ae(w,L){var U=1<<L;return e(w!=null),e(0<L),w.X=a(U),w.X==null?0:(w.Mb=32-L,w.Xa=L,1)}function me(w,L){e(w!=null),e(L!=null),e(w.Xa==L.Xa),r(L.X,0,w.X,0,1<<L.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function He(w,L,U,Y){e(U!=null),e(Y!=null);var re=U[0],se=Y[0];return re==0&&(re=(w*se+L/2)/L),se==0&&(se=(L*re+w/2)/w),0>=re||0>=se?0:(U[0]=re,Y[0]=se,1)}function Ce(w,L){return w+(1<<L)-1>>>L}function Le(w,L){return((4278255360&w)+(4278255360&L)>>>0&4278255360)+((16711935&w)+(16711935&L)>>>0&16711935)>>>0}function Fe(w,L){P[L]=function(U,Y,re,se,le,fe,de){var ge;for(ge=0;ge<le;++ge){var xe=P[w](fe[de+ge-1],re,se+ge);fe[de+ge]=Le(U[Y+ge],xe)}}}function te(){this.ud=this.hd=this.jd=0}function ee(w,L){return((4278124286&(w^L))>>>1)+(w&L)>>>0}function Se(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Pe(w,L){return Se(w+(w-L+.5>>1))}function Oe(w,L,U){return Math.abs(L-U)-Math.abs(w-U)}function qe(w,L,U,Y,re,se,le){for(Y=se[le-1],U=0;U<re;++U)se[le+U]=Y=Le(w[L+U],Y)}function it(w,L,U,Y,re){var se;for(se=0;se<U;++se){var le=w[L+se],fe=le>>8&255,de=16711935&(de=(de=16711935&le)+((fe<<16)+fe));Y[re+se]=(4278255360&le)+de>>>0}}function at(w,L){L.jd=w>>0&255,L.hd=w>>8&255,L.ud=w>>16&255}function ze(w,L,U,Y,re,se){var le;for(le=0;le<Y;++le){var fe=L[U+le],de=fe>>>8,ge=fe,xe=255&(xe=(xe=fe>>>16)+((w.jd<<24>>24)*(de<<24>>24)>>>5));ge=255&(ge=(ge=ge+((w.hd<<24>>24)*(de<<24>>24)>>>5))+((w.ud<<24>>24)*(xe<<24>>24)>>>5)),re[se+le]=(4278255360&fe)+(xe<<16)+ge}}function Ze(w,L,U,Y,re){P[L]=function(se,le,fe,de,ge,xe,Ye,Ke,Be){for(de=Ye;de<Ke;++de)for(Ye=0;Ye<Be;++Ye)ge[xe++]=re(fe[Y(se[le++])])},P[w]=function(se,le,fe,de,ge,xe,Ye){var Ke=8>>se.b,Be=se.Ea,yt=se.K[0],rt=se.w;if(8>Ke)for(se=(1<<se.b)-1,rt=(1<<Ke)-1;le<fe;++le){var Re,ke=0;for(Re=0;Re<Be;++Re)Re&se||(ke=Y(de[ge++])),xe[Ye++]=re(yt[ke&rt]),ke>>=Ke}else P["VP8LMapColor"+U](de,ge,yt,rt,xe,Ye,le,fe,Be)}}function tt(w,L,U,Y,re){for(U=L+U;L<U;){var se=w[L++];Y[re++]=se>>16&255,Y[re++]=se>>8&255,Y[re++]=se>>0&255}}function ht(w,L,U,Y,re){for(U=L+U;L<U;){var se=w[L++];Y[re++]=se>>16&255,Y[re++]=se>>8&255,Y[re++]=se>>0&255,Y[re++]=se>>24&255}}function Mt(w,L,U,Y,re){for(U=L+U;L<U;){var se=(le=w[L++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;Y[re++]=se,Y[re++]=le}}function Pt(w,L,U,Y,re){for(U=L+U;L<U;){var se=(le=w[L++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;Y[re++]=se,Y[re++]=le}}function ot(w,L,U,Y,re){for(U=L+U;L<U;){var se=w[L++];Y[re++]=se>>0&255,Y[re++]=se>>8&255,Y[re++]=se>>16&255}}function be(w,L,U,Y,re,se){if(se==0)for(U=L+U;L<U;)Me(Y,((se=w[L++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),re+=32;else r(Y,re,w,L,U)}function Ve(w,L){P[L][0]=P[w+"0"],P[L][1]=P[w+"1"],P[L][2]=P[w+"2"],P[L][3]=P[w+"3"],P[L][4]=P[w+"4"],P[L][5]=P[w+"5"],P[L][6]=P[w+"6"],P[L][7]=P[w+"7"],P[L][8]=P[w+"8"],P[L][9]=P[w+"9"],P[L][10]=P[w+"10"],P[L][11]=P[w+"11"],P[L][12]=P[w+"12"],P[L][13]=P[w+"13"],P[L][14]=P[w+"0"],P[L][15]=P[w+"0"]}function ct(w){return w==cp||w==fp||w==uf||w==hp}function xt(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Te(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xt,this.f.kb=new vt,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ie(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xe(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function st(w,L){var U=w.T,Y=L.ba.f.RGBA,re=Y.eb,se=Y.fb+w.ka*Y.A,le=Ta[L.ba.S],fe=w.y,de=w.O,ge=w.f,xe=w.N,Ye=w.ea,Ke=w.W,Be=L.cc,yt=L.dc,rt=L.Mc,Re=L.Nc,ke=w.ka,mt=w.ka+w.T,_t=w.U,gt=_t+1>>1;for(ke==0?le(fe,de,null,null,ge,xe,Ye,Ke,ge,xe,Ye,Ke,re,se,null,null,_t):(le(L.ec,L.fc,fe,de,Be,yt,rt,Re,ge,xe,Ye,Ke,re,se-Y.A,re,se,_t),++U);ke+2<mt;ke+=2)Be=ge,yt=xe,rt=Ye,Re=Ke,xe+=w.Rc,Ke+=w.Rc,se+=2*Y.A,le(fe,(de+=2*w.fa)-w.fa,fe,de,Be,yt,rt,Re,ge,xe,Ye,Ke,re,se-Y.A,re,se,_t);return de+=w.fa,w.j+mt<w.o?(r(L.ec,L.fc,fe,de,_t),r(L.cc,L.dc,ge,xe,gt),r(L.Mc,L.Nc,Ye,Ke,gt),U--):1&mt||le(fe,de,null,null,ge,xe,Ye,Ke,ge,xe,Ye,Ke,re,se+Y.A,null,null,_t),U}function Nt(w,L,U){var Y=w.F,re=[w.J];if(Y!=null){var se=w.U,le=L.ba.S,fe=le==xu||le==uf;L=L.ba.f.RGBA;var de=[0],ge=w.ka;de[0]=w.T,w.Kb&&(ge==0?--de[0]:(--ge,re[0]-=w.width),w.j+w.ka+w.T==w.o&&(de[0]=w.o-w.j-ge));var xe=L.eb;ge=L.fb+ge*L.A,w=Hn(Y,re[0],w.width,se,de,xe,ge+(fe?0:3),L.A),e(U==de),w&&ct(le)&&Si(xe,ge,fe,se,de,L.A)}return 0}function Et(w){var L=w.ma,U=L.ba.S,Y=11>U,re=U==ec||U==lf||U==xu||U==up||U==12||ct(U);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!tf(L.Oa,w,re?11:12))return 0;if(re&&ct(U)&&wt(),w.da)alert("todo:use_scaling");else{if(Y){if(L.Ib=Xe,w.Kb){if(U=w.U+1>>1,L.memory=a(w.U+2*U),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+w.U,L.Mc=L.cc,L.Nc=L.dc+U,L.Ib=st,wt()}}else alert("todo:EmitYUV");re&&(L.Jb=Nt,Y&&$e())}if(Y&&!qg){for(w=0;256>w;++w)Xg[w]=89858*(w-128)+$i>>Pa,S1[w]=-22014*(w-128)+$i,Yg[w]=-45773*(w-128),w1[w]=113618*(w-128)+$i>>Pa;for(w=hf;w<vp;++w)L=76283*(w-16)+$i>>Pa,A1[w-hf]=ja(L,255),yp[w-hf]=ja(L+8>>4,15);qg=1}return 1}function qt(w){var L=w.ma,U=w.U,Y=w.T;return e(!(1&w.ka)),0>=U||0>=Y?0:(U=L.Ib(w,L),L.Jb!=null&&L.Jb(w,L,U),L.Dc+=U,1)}function pn(w){w.ma.memory=null}function At(w,L,U,Y){return $(w,8)!=47?0:(L[0]=$(w,14)+1,U[0]=$(w,14)+1,Y[0]=$(w,1),$(w,3)!=0?0:!w.h)}function hn(w,L){if(4>w)return w+1;var U=w-2>>1;return(2+(1&w)<<U)+$(L,U)+1}function Un(w,L){return 120<L?L-120:1<=(U=((U=m1[L-1])>>4)*w+(8-(15&U)))?U:1;var U}function dr(w,L,U){var Y=V(U),re=w[L+=255&Y].g-8;return 0<re&&(K(U,U.u+8),Y=V(U),L+=w[L].value,L+=Y&(1<<re)-1),K(U,U.u+w[L].g),w[L].value}function Bn(w,L,U){return U.g+=w.g,U.value+=w.value<<L>>>0,e(8>=U.g),w.g}function kn(w,L,U){var Y=w.xc;return e((L=Y==0?0:w.vc[w.md*(U>>Y)+(L>>Y)])<w.Wb),w.Ya[L]}function or(w,L,U,Y){var re=w.ab,se=w.c*L,le=w.C;L=le+L;var fe=U,de=Y;for(Y=w.Ta,U=w.Ua;0<re--;){var ge=w.gc[re],xe=le,Ye=L,Ke=fe,Be=de,yt=(de=Y,fe=U,ge.Ea);switch(e(xe<Ye),e(Ye<=ge.nc),ge.hc){case 2:wh(Ke,Be,(Ye-xe)*yt,de,fe);break;case 0:var rt=xe,Re=Ye,ke=de,mt=fe,_t=(Rt=ge).Ea;rt==0&&(rf(Ke,Be,null,null,1,ke,mt),qe(Ke,Be+1,0,0,_t-1,ke,mt+1),Be+=_t,mt+=_t,++rt);for(var gt=1<<Rt.b,Ut=gt-1,Lt=Ce(_t,Rt.b),on=Rt.K,Rt=Rt.w+(rt>>Rt.b)*Lt;rt<Re;){var zn=on,Kn=Rt,On=1;for(af(Ke,Be,ke,mt-_t,1,ke,mt);On<_t;){var Tn=(On&~Ut)+gt;Tn>_t&&(Tn=_t),(0,Xo[zn[Kn++]>>8&15])(Ke,Be+ +On,ke,mt+On-_t,Tn-On,ke,mt+On),On=Tn}Be+=_t,mt+=_t,++rt&Ut||(Rt+=Lt)}Ye!=ge.nc&&r(de,fe-yt,de,fe+(Ye-xe-1)*yt,yt);break;case 1:for(yt=Ke,Re=Be,_t=(Ke=ge.Ea)-(mt=Ke&~(ke=(Be=1<<ge.b)-1)),rt=Ce(Ke,ge.b),gt=ge.K,ge=ge.w+(xe>>ge.b)*rt;xe<Ye;){for(Ut=gt,Lt=ge,on=new te,Rt=Re+mt,zn=Re+Ke;Re<Rt;)at(Ut[Lt++],on),Yo(on,yt,Re,Be,de,fe),Re+=Be,fe+=Be;Re<zn&&(at(Ut[Lt++],on),Yo(on,yt,Re,_t,de,fe),Re+=_t,fe+=_t),++xe&ke||(ge+=rt)}break;case 3:if(Ke==de&&Be==fe&&0<ge.b){for(Re=de,Ke=yt=fe+(Ye-xe)*yt-(mt=(Ye-xe)*Ce(ge.Ea,ge.b)),Be=de,ke=fe,rt=[],mt=(_t=mt)-1;0<=mt;--mt)rt[mt]=Be[ke+mt];for(mt=_t-1;0<=mt;--mt)Re[Ke+mt]=rt[mt];na(ge,xe,Ye,de,yt,de,fe)}else na(ge,xe,Ye,Ke,Be,de,fe)}fe=Y,de=U}de!=U&&r(Y,U,fe,de,se)}function ii(w,L){var U=w.V,Y=w.Ba+w.c*w.C,re=L-w.C;if(e(L<=w.l.o),e(16>=re),0<re){var se=w.l,le=w.Ta,fe=w.Ua,de=se.width;if(or(w,re,U,Y),re=fe=[fe],e((U=w.C)<(Y=L)),e(se.v<se.va),Y>se.o&&(Y=se.o),U<se.j){var ge=se.j-U;U=se.j,re[0]+=ge*de}if(U>=Y?U=0:(re[0]+=4*se.v,se.ka=U-se.j,se.U=se.va-se.v,se.T=Y-U,U=1),U){if(fe=fe[0],11>(U=w.ca).S){var xe=U.f.RGBA,Ye=(Y=U.S,re=se.U,se=se.T,ge=xe.eb,xe.A),Ke=se;for(xe=xe.fb+w.Ma*xe.A;0<Ke--;){var Be=le,yt=fe,rt=re,Re=ge,ke=xe;switch(Y){case Mh:Hr(Be,yt,rt,Re,ke);break;case ec:ra(Be,yt,rt,Re,ke);break;case cp:ra(Be,yt,rt,Re,ke),Si(Re,ke,0,rt,1,0);break;case Eh:gs(Be,yt,rt,Re,ke);break;case lf:be(Be,yt,rt,Re,ke,1);break;case fp:be(Be,yt,rt,Re,ke,1),Si(Re,ke,0,rt,1,0);break;case xu:be(Be,yt,rt,Re,ke,0);break;case uf:be(Be,yt,rt,Re,ke,0),Si(Re,ke,1,rt,1,0);break;case up:Oo(Be,yt,rt,Re,ke);break;case hp:Oo(Be,yt,rt,Re,ke),Nn(Re,ke,rt,1,0);break;case jg:Ys(Be,yt,rt,Re,ke);break;default:e(0)}fe+=de,xe+=Ye}w.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=U.height)}}w.C=L,e(w.C<=w.i)}function sr(w){var L;if(0<w.ua)return 0;for(L=0;L<w.Wb;++L){var U=w.Ya[L].G,Y=w.Ya[L].H;if(0<U[1][Y[1]+0].g||0<U[2][Y[2]+0].g||0<U[3][Y[3]+0].g)return 0}return 1}function Zr(w,L,U,Y,re,se){if(w.Z!=0){var le=w.qd,fe=w.rd;for(e(Qo[w.Z]!=null);L<U;++L)Qo[w.Z](le,fe,Y,re,Y,re,se),le=Y,fe=re,re+=se;w.qd=le,w.rd=fe}}function ya(w,L){var U=w.l.ma,Y=U.Z==0||U.Z==1?w.l.j:w.C;if(Y=w.C<Y?Y:w.C,e(L<=w.l.o),L>Y){var re=w.l.width,se=U.ca,le=U.tb+re*Y,fe=w.V,de=w.Ba+w.c*Y,ge=w.gc;e(w.ab==1),e(ge[0].hc==3),yu(ge[0],Y,L,fe,de,se,le),Zr(U,Y,L,se,le,re)}w.C=w.Ma=L}function Zi(w,L,U,Y,re,se,le){var fe=w.$/Y,de=w.$%Y,ge=w.m,xe=w.s,Ye=U+w.$,Ke=Ye;re=U+Y*re;var Be=U+Y*se,yt=280+xe.ua,rt=w.Pb?fe:16777216,Re=0<xe.ua?xe.Wa:null,ke=xe.wc,mt=Ye<Be?kn(xe,de,fe):null;e(w.C<se),e(Be<=re);var _t=!1;e:for(;;){for(;_t||Ye<Be;){var gt=0;if(fe>=rt){var Ut=Ye-U;e((rt=w).Pb),rt.wd=rt.m,rt.xd=Ut,0<rt.s.ua&&me(rt.s.Wa,rt.s.vb),rt=fe+v1}if(de&ke||(mt=kn(xe,de,fe)),e(mt!=null),mt.Qb&&(L[Ye]=mt.qb,_t=!0),!_t)if(ne(ge),mt.jc){gt=ge,Ut=L;var Lt=Ye,on=mt.pd[V(gt)&Ri-1];e(mt.jc),256>on.g?(K(gt,gt.u+on.g),Ut[Lt]=on.value,gt=0):(K(gt,gt.u+on.g-256),e(256<=on.value),gt=on.value),gt==0&&(_t=!0)}else gt=dr(mt.G[0],mt.H[0],ge);if(ge.h)break;if(_t||256>gt){if(!_t)if(mt.nd)L[Ye]=(mt.qb|gt<<8)>>>0;else{if(ne(ge),_t=dr(mt.G[1],mt.H[1],ge),ne(ge),Ut=dr(mt.G[2],mt.H[2],ge),Lt=dr(mt.G[3],mt.H[3],ge),ge.h)break;L[Ye]=(Lt<<24|_t<<16|gt<<8|Ut)>>>0}if(_t=!1,++Ye,++de>=Y&&(de=0,++fe,le!=null&&fe<=se&&!(fe%16)&&le(w,fe),Re!=null))for(;Ke<Ye;)gt=L[Ke++],Re.X[(506832829*gt&4294967295)>>>Re.Mb]=gt}else if(280>gt){if(gt=hn(gt-256,ge),Ut=dr(mt.G[4],mt.H[4],ge),ne(ge),Ut=Un(Y,Ut=hn(Ut,ge)),ge.h)break;if(Ye-U<Ut||re-Ye<gt)break e;for(Lt=0;Lt<gt;++Lt)L[Ye+Lt]=L[Ye+Lt-Ut];for(Ye+=gt,de+=gt;de>=Y;)de-=Y,++fe,le!=null&&fe<=se&&!(fe%16)&&le(w,fe);if(e(Ye<=re),de&ke&&(mt=kn(xe,de,fe)),Re!=null)for(;Ke<Ye;)gt=L[Ke++],Re.X[(506832829*gt&4294967295)>>>Re.Mb]=gt}else{if(!(gt<yt))break e;for(_t=gt-280,e(Re!=null);Ke<Ye;)gt=L[Ke++],Re.X[(506832829*gt&4294967295)>>>Re.Mb]=gt;gt=Ye,e(!(_t>>>(Ut=Re).Xa)),L[gt]=Ut.X[_t],_t=!0}_t||e(ge.h==G(ge))}if(w.Pb&&ge.h&&Ye<re)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&me(w.s.vb,w.s.Wa);else{if(ge.h)break e;le!=null&&le(w,fe>se?se:fe),w.a=0,w.$=Ye-U}return 1}return w.a=3,0}function to(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var L=w.Wa;L!=null&&(L.X=null),w.vb=null,e(w!=null)}function pe(){var w=new qs;return w==null?null:(w.a=0,w.xb=Gg,Ve("Predictor","VP8LPredictors"),Ve("Predictor","VP8LPredictors_C"),Ve("PredictorAdd","VP8LPredictorsAdd"),Ve("PredictorAdd","VP8LPredictorsAdd_C"),wh=it,Yo=ze,Hr=tt,ra=ht,Oo=Mt,Ys=Pt,gs=ot,P.VP8LMapColor32b=Ku,P.VP8LMapColor8b=Ha,w)}function We(w,L,U,Y,re){var se=1,le=[w],fe=[L],de=Y.m,ge=Y.s,xe=null,Ye=0;e:for(;;){if(U)for(;se&&$(de,1);){var Ke=le,Be=fe,yt=Y,rt=1,Re=yt.m,ke=yt.gc[yt.ab],mt=$(Re,2);if(yt.Oc&1<<mt)se=0;else{switch(yt.Oc|=1<<mt,ke.hc=mt,ke.Ea=Ke[0],ke.nc=Be[0],ke.K=[null],++yt.ab,e(4>=yt.ab),mt){case 0:case 1:ke.b=$(Re,3)+2,rt=We(Ce(ke.Ea,ke.b),Ce(ke.nc,ke.b),0,yt,ke.K),ke.K=ke.K[0];break;case 3:var _t,gt=$(Re,8)+1,Ut=16<gt?0:4<gt?1:2<gt?2:3;if(Ke[0]=Ce(ke.Ea,Ut),ke.b=Ut,_t=rt=We(gt,1,0,yt,ke.K)){var Lt,on=gt,Rt=ke,zn=1<<(8>>Rt.b),Kn=a(zn);if(Kn==null)_t=0;else{var On=Rt.K[0],Tn=Rt.w;for(Kn[0]=Rt.K[0][0],Lt=1;Lt<1*on;++Lt)Kn[Lt]=Le(On[Tn+Lt],Kn[Lt-1]);for(;Lt<4*zn;++Lt)Kn[Lt]=0;Rt.K[0]=null,Rt.K[0]=Kn,_t=1}}rt=_t;break;case 2:break;default:e(0)}se=rt}}if(le=le[0],fe=fe[0],se&&$(de,1)&&!(se=1<=(Ye=$(de,4))&&11>=Ye)){Y.a=3;break e}var pr;if(pr=se)t:{var fr,vn,li,Ga=Y,ui=le,aa=fe,Wn=Ye,Ca=U,La=Ga.m,ci=Ga.s,fi=[null],oa=1,ro=0,es=g1[Wn];n:for(;;){if(Ca&&$(La,1)){var Ii=$(La,3)+2,xs=Ce(ui,Ii),tc=Ce(aa,Ii),Rl=xs*tc;if(!We(xs,tc,0,Ga,fi))break n;for(fi=fi[0],ci.xc=Ii,fr=0;fr<Rl;++fr){var tl=fi[fr]>>8&65535;fi[fr]=tl,tl>=oa&&(oa=tl+1)}}if(La.h)break n;for(vn=0;5>vn;++vn){var yn=Hg[vn];!vn&&0<Wn&&(yn+=1<<Wn),ro<yn&&(ro=yn)}var bn=o(oa*es,O),hi=oa,di=o(hi,F);if(di==null)var Ai=null;else e(65536>=hi),Ai=di;var sa=a(ro);if(Ai==null||sa==null||bn==null){Ga.a=1;break n}var Il=bn;for(fr=li=0;fr<oa;++fr){var ir=Ai[fr],nl=ir.G,bs=ir.H,Lh=0,df=1,pf=0;for(vn=0;5>vn;++vn){yn=Hg[vn],nl[vn]=Il,bs[vn]=li,!vn&&0<Wn&&(yn+=1<<Wn);i:{var la,Nh=yn,mf=Ga,rl=sa,xp=Il,Jg=li,il=0,_s=mf.m,bu=$(_s,1);if(i(rl,0,0,Nh),bu){var bp=$(_s,1)+1,Oh=$(_s,1),_p=$(_s,Oh==0?1:8);rl[_p]=1,bp==2&&(rl[_p=$(_s,8)]=1);var nc=1}else{var Rh=a(19),Na=$(_s,4)+4;if(19<Na){mf.a=3;var ws=0;break i}for(la=0;la<Na;++la)Rh[Zw[la]]=$(_s,3);var io=void 0,_u=void 0,Va=mf,E1=Rh,gf=Nh,wp=rl,Qg=0,$a=Va.m,ev=8,tv=o(128,O);r:for(;C(tv,0,7,E1,19);){if($($a,1)){var nv=2+2*$($a,3);if((io=2+$($a,nv))>gf)break r}else io=gf;for(_u=0;_u<gf&&io--;){ne($a);var wu=tv[0+(127&V($a))];K($a,$a.u+wu.g);var rc=wu.value;if(16>rc)wp[_u++]=rc,rc!=0&&(ev=rc);else{var T1=rc==16,Sp=rc-16,Ap=Yw[Sp],P1=$($a,p1[Sp])+Ap;if(_u+P1>gf)break r;for(var nS=T1?ev:0;0<P1--;)wp[_u++]=nS}}Qg=1;break r}Qg||(Va.a=3),nc=Qg}(nc=nc&&!_s.h)&&(il=C(xp,Jg,8,rl,Nh)),nc&&il!=0?ws=il:(mf.a=3,ws=0)}if(ws==0)break n;if(df&&Kw[vn]==1&&(df=Il[li].g==0),Lh+=Il[li].g,li+=ws,3>=vn){var vf,Mp=sa[0];for(vf=1;vf<yn;++vf)sa[vf]>Mp&&(Mp=sa[vf]);pf+=Mp}}if(ir.nd=df,ir.Qb=0,df&&(ir.qb=(nl[3][bs[3]+0].value<<24|nl[1][bs[1]+0].value<<16|nl[2][bs[2]+0].value)>>>0,Lh==0&&256>nl[0][bs[0]+0].value&&(ir.Qb=1,ir.qb+=nl[0][bs[0]+0].value<<8)),ir.jc=!ir.Qb&&6>pf,ir.jc){var al,kl=ir;for(al=0;al<Ri;++al){var ao=al,Dl=kl.pd[ao],ua=kl.G[0][kl.H[0]+ao];256<=ua.value?(Dl.g=ua.g+256,Dl.value=ua.value):(Dl.g=0,Dl.value=0,ao>>=Bn(ua,8,Dl),ao>>=Bn(kl.G[1][kl.H[1]+ao],16,Dl),ao>>=Bn(kl.G[2][kl.H[2]+ao],0,Dl),Bn(kl.G[3][kl.H[3]+ao],24,Dl))}}}ci.vc=fi,ci.Wb=oa,ci.Ya=Ai,ci.yc=bn,pr=1;break t}pr=0}if(!(se=pr)){Y.a=3;break e}if(0<Ye){if(ge.ua=1<<Ye,!Ae(ge.Wa,Ye)){Y.a=1,se=0;break e}}else ge.ua=0;var rv=Y,iv=le,rS=fe,av=rv.s,Ep=av.xc;if(rv.c=iv,rv.i=rS,av.md=Ce(iv,Ep),av.wc=Ep==0?-1:(1<<Ep)-1,U){Y.xb=el;break e}if((xe=a(le*fe))==null){Y.a=1,se=0;break e}se=(se=Zi(Y,xe,0,le,fe,fe,null))&&!de.h;break e}return se?(re!=null?re[0]=xe:(e(xe==null),e(U)),Y.$=0,U||to(ge)):to(ge),se}function Qe(w,L){var U=w.c*w.i,Y=U+L+16*L;return e(w.c<=L),w.V=a(Y),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+U+L,1)}function nt(w,L){var U=w.C,Y=L-U,re=w.V,se=w.Ba+w.c*U;for(e(L<=w.l.o);0<Y;){var le=16<Y?16:Y,fe=w.l.ma,de=w.l.width,ge=de*le,xe=fe.ca,Ye=fe.tb+de*U,Ke=w.Ta,Be=w.Ua;or(w,le,re,se),kr(Ke,Be,xe,Ye,ge),Zr(fe,U,U+le,xe,Ye,de),Y-=le,re+=le*w.c,U+=le}e(U==L),w.C=w.Ma=L}function Je(){this.ub=this.yd=this.td=this.Rb=0}function Ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Kt(){this.Yb=function(){var w=[];return function L(U,Y,re){for(var se=re[Y],le=0;le<se&&(U.push(re.length>Y+1?[]:0),!(re.length<Y+1));le++)L(U[le],Y+1,re)}(w,0,[3,11]),w}()}function bt(){this.jb=a(3),this.Wc=s([4,8],Kt),this.Xc=s([4,17],Kt)}function nn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function rn(){this.ld=this.La=this.dd=this.tc=0}function Qt(){this.Na=this.la=0}function qn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Or(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gn(){this.uc=this.M=this.Nb=0,this.wa=Array(new rn),this.Y=0,this.ya=Array(new Or),this.aa=0,this.l=new Ft}function xr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Zt(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new Je,this.Kc=new Ot,this.ed=new nn,this.Qa=new jt,this.Ic=this.$c=this.Aa=0,this.D=new Gn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,X),this.ia=0,this.pb=o(4,qn),this.Pa=new bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xr),this.Hd=0,this.rb=Array(new Qt),this.sb=0,this.wa=Array(new rn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Or),this.L=this.aa=0,this.gd=s([4,2],rn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ft(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Li(){var w=new Zt;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Th||(Th=ai)),w}function Ht(w,L,U){return w.a==0&&(w.a=L,w.sc=U,w.cb=0),0}function nr(w,L,U){return 3<=U&&w[L+0]==157&&w[L+1]==1&&w[L+2]==42}function xa(w,L){if(w==null)return 0;if(w.a=0,w.sc="OK",L==null)return Ht(w,2,"null VP8Io passed to VP8GetHeaders()");var U=L.data,Y=L.w,re=L.ha;if(4>re)return Ht(w,7,"Truncated header.");var se=U[Y+0]|U[Y+1]<<8|U[Y+2]<<16,le=w.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return Ht(w,3,"Incorrect keyframe parameters.");if(!le.yd)return Ht(w,4,"Frame not displayable.");Y+=3,re-=3;var fe=w.Kc;if(le.Rb){if(7>re)return Ht(w,7,"cannot parse picture header");if(!nr(U,Y,re))return Ht(w,3,"Bad code word");fe.c=16383&(U[Y+4]<<8|U[Y+3]),fe.Td=U[Y+4]>>6,fe.i=16383&(U[Y+6]<<8|U[Y+5]),fe.Ud=U[Y+6]>>6,Y+=7,re-=7,w.za=fe.c+15>>4,w.Ub=fe.i+15>>4,L.width=fe.c,L.height=fe.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,i((se=w.Pa).jb,0,255,se.jb.length),e((se=w.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,i(se.Zb,0,0,se.Zb.length),i(se.Lb,0,0,se.Lb)}if(le.ub>re)return Ht(w,7,"bad partition length");Z(se=w.m,U,Y,le.ub),Y+=le.ub,re-=le.ub,le.Rb&&(fe.Ld=he(se),fe.Kd=he(se)),fe=w.Qa;var de,ge=w.Pa;if(e(se!=null),e(fe!=null),fe.Cb=he(se),fe.Cb){if(fe.Bb=he(se),he(se)){for(fe.Fb=he(se),de=0;4>de;++de)fe.Zb[de]=he(se)?q(se,7):0;for(de=0;4>de;++de)fe.Lb[de]=he(se)?q(se,6):0}if(fe.Bb)for(de=0;3>de;++de)ge.jb[de]=he(se)?H(se,8):255}else fe.Bb=0;if(se.Ka)return Ht(w,3,"cannot parse segment header");if((fe=w.ed).zd=he(se),fe.Tb=H(se,6),fe.wb=H(se,3),fe.Pc=he(se),fe.Pc&&he(se)){for(ge=0;4>ge;++ge)he(se)&&(fe.vd[ge]=q(se,6));for(ge=0;4>ge;++ge)he(se)&&(fe.od[ge]=q(se,6))}if(w.L=fe.Tb==0?0:fe.zd?1:2,se.Ka)return Ht(w,3,"cannot parse filter header");var xe=re;if(re=de=Y,Y=de+xe,fe=xe,w.Xb=(1<<H(w.m,2))-1,xe<3*(ge=w.Xb))U=7;else{for(de+=3*ge,fe-=3*ge,xe=0;xe<ge;++xe){var Ye=U[re+0]|U[re+1]<<8|U[re+2]<<16;Ye>fe&&(Ye=fe),Z(w.Jc[+xe],U,de,Ye),de+=Ye,fe-=Ye,re+=3}Z(w.Jc[+ge],U,de,fe),U=de<Y?0:5}if(U!=0)return Ht(w,U,"cannot parse partitions");for(U=H(de=w.m,7),re=he(de)?q(de,4):0,Y=he(de)?q(de,4):0,fe=he(de)?q(de,4):0,ge=he(de)?q(de,4):0,de=he(de)?q(de,4):0,xe=w.Qa,Ye=0;4>Ye;++Ye){if(xe.Cb){var Ke=xe.Zb[Ye];xe.Fb||(Ke+=U)}else{if(0<Ye){w.pb[Ye]=w.pb[0];continue}Ke=U}var Be=w.pb[Ye];Be.Sc[0]=dp[ja(Ke+re,127)],Be.Sc[1]=cf[ja(Ke+0,127)],Be.Eb[0]=2*dp[ja(Ke+Y,127)],Be.Eb[1]=101581*cf[ja(Ke+fe,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=dp[ja(Ke+ge,117)],Be.Qc[1]=cf[ja(Ke+de,127)],Be.lc=Ke+de}if(!le.Rb)return Ht(w,4,"Not a key frame.");for(he(se),le=w.Pa,U=0;4>U;++U){for(re=0;8>re;++re)for(Y=0;3>Y;++Y)for(fe=0;11>fe;++fe)ge=ce(se,y1[U][re][Y][fe])?H(se,8):Wg[U][re][Y][fe],le.Wc[U][re].Yb[Y][fe]=ge;for(re=0;17>re;++re)le.Xc[U][re]=le.Wc[U][x1[re]]}return w.kc=he(se),w.kc&&(w.Bd=H(se,8)),w.cb=1}function ai(w,L,U,Y,re,se,le){var fe=L[re].Yb[U];for(U=0;16>re;++re){if(!ce(w,fe[U+0]))return re;for(;!ce(w,fe[U+1]);)if(fe=L[++re].Yb[0],U=0,re==16)return 16;var de=L[re+1].Yb;if(ce(w,fe[U+2])){var ge=w,xe=0;if(ce(ge,(Ke=fe)[(Ye=U)+3]))if(ce(ge,Ke[Ye+6])){for(fe=0,Ye=2*(xe=ce(ge,Ke[Ye+8]))+(Ke=ce(ge,Ke[Ye+9+xe])),xe=0,Ke=Jw[Ye];Ke[fe];++fe)xe+=xe+ce(ge,Ke[fe]);xe+=3+(8<<Ye)}else ce(ge,Ke[Ye+7])?(xe=7+2*ce(ge,165),xe+=ce(ge,145)):xe=5+ce(ge,159);else xe=ce(ge,Ke[Ye+4])?3+ce(ge,Ke[Ye+5]):2;fe=de[2]}else xe=1,fe=de[1];de=le+Qw[re],0>(ge=w).b&&ue(ge);var Ye,Ke=ge.b,Be=(Ye=ge.Ca>>1)-(ge.I>>Ke)>>31;--ge.b,ge.Ca+=Be,ge.Ca|=1,ge.I-=(Ye+1&Be)<<Ke,se[de]=((xe^Be)-Be)*Y[(0<re)+0]}return 16}function br(w){var L=w.rb[w.sb-1];L.la=0,L.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function Xn(w,L){if(w==null)return 0;if(L==null)return Ht(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!xa(w,L))return 0;if(e(w.cb),L.ac==null||L.ac(L)){L.ob&&(w.L=0);var U=Ch[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=L.v-U>>4,w.zb=L.j-U>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=L.o+15+U>>4,w.Hb=L.va+15+U>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var Y=w.ed;for(U=0;4>U;++U){var re;if(w.Qa.Cb){var se=w.Qa.Lb[U];w.Qa.Fb||(se+=Y.Tb)}else se=Y.Tb;for(re=0;1>=re;++re){var le=w.gd[U][re],fe=se;if(Y.Pc&&(fe+=Y.vd[0],re&&(fe+=Y.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var de=fe;0<Y.wb&&(de=4<Y.wb?de>>2:de>>1)>9-Y.wb&&(de=9-Y.wb),1>de&&(de=1),le.dd=de,le.tc=2*fe+de,le.ld=40<=fe?2:15<=fe?1:0}else le.tc=0;le.La=re}}}U=0}else Ht(w,6,"Frame setup failed"),U=w.a;if(U=U==0){if(U){w.$c=0,0<w.Aa||(w.Ic=M1);e:{U=w.Ic,Y=4*(de=w.za);var ge=32*de,xe=de+1,Ye=0<w.L?de*(0<w.Aa?2:1):0,Ke=(w.Aa==2?2:1)*de;if((le=Y+832+(re=3*(16*U+Ch[w.L])/2*ge)+(se=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=le)U=0;else{if(le>w.Vb){if(w.Vb=0,w.Ec=a(le),w.Fc=0,w.Ec==null){U=Ht(w,1,"no memory during frame initialization.");break e}w.Vb=le}le=w.Ec,fe=w.Fc,w.Ac=le,w.Bc=fe,fe+=Y,w.Gd=o(ge,xr),w.Hd=0,w.rb=o(xe+1,Qt),w.sb=1,w.wa=Ye?o(Ye,rn):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=de),e(!0),w.oc=le,w.pc=fe,fe+=832,w.ya=o(Ke,Or),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=de),w.R=16*de,w.B=8*de,de=(ge=Ch[w.L])*w.R,ge=ge/2*w.B,w.sa=le,w.ta=fe+de,w.qa=w.sa,w.ra=w.ta+16*U*w.R+ge,w.Ha=w.qa,w.Ia=w.ra+8*U*w.B+ge,w.$c=0,fe+=re,w.mb=se?le:null,w.nb=se?fe:null,e(fe+se<=w.Fc+w.Vb),br(w),i(w.Ac,w.Bc,0,Y),U=1}}if(U){if(L.ka=0,L.y=w.sa,L.O=w.ta,L.f=w.qa,L.N=w.ra,L.ea=w.Ha,L.Vd=w.Ia,L.fa=w.R,L.Rc=w.B,L.F=null,L.J=0,!Sh){for(U=-255;255>=U;++U)ti[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)Js[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)sf[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)Qu[255+U]=0>U?0:255<U?255:U;Sh=1}cr=hs,Ko=fs,Zu=js,Vi=Kc,Gr=Go,Wr=Wi,vs=Vo,Pr=$o,wi=ta,Ir=Er,Ks=Jc,Zo=jr,ys=Tr,of=Sa,ei=$s,Zs=wa,Ju=zr,no=_i,Jo[0]=Po,Jo[1]=Ml,Jo[2]=du,Jo[3]=Vu,Jo[4]=_r,Jo[5]=El,Jo[6]=Hs,Jo[7]=Ni,Jo[8]=Tl,Jo[9]=$u,Ol[0]=ps,Ol[1]=Gu,Ol[2]=Ji,Ol[3]=ds,Ol[4]=Mr,Ol[5]=An,Ol[6]=hu,Qs[0]=bi,Qs[1]=Zc,Qs[2]=za,Qs[3]=Pl,Qs[4]=ba,Qs[5]=Qi,Qs[6]=_a,U=1}else U=0}U&&(U=function(Be,yt){for(Be.M=0;Be.M<Be.Va;++Be.M){var rt,Re=Be.Jc[Be.M&Be.Xb],ke=Be.m,mt=Be;for(rt=0;rt<mt.za;++rt){var _t=ke,gt=mt,Ut=gt.Ac,Lt=gt.Bc+4*rt,on=gt.zc,Rt=gt.ya[gt.aa+rt];if(gt.Qa.Bb?Rt.$b=ce(_t,gt.Pa.jb[0])?2+ce(_t,gt.Pa.jb[2]):ce(_t,gt.Pa.jb[1]):Rt.$b=0,gt.kc&&(Rt.Ad=ce(_t,gt.Bd)),Rt.Za=!ce(_t,145)+0,Rt.Za){var zn=Rt.Ob,Kn=0;for(gt=0;4>gt;++gt){var On,Tn=on[0+gt];for(On=0;4>On;++On){Tn=eS[Ut[Lt+On]][Tn];for(var pr=pp[ce(_t,Tn[0])];0<pr;)pr=pp[2*pr+ce(_t,Tn[pr])];Tn=-pr,Ut[Lt+On]=Tn}r(zn,Kn,Ut,Lt,4),Kn+=4,on[0+gt]=Tn}}else Tn=ce(_t,156)?ce(_t,128)?1:3:ce(_t,163)?2:0,Rt.Ob[0]=Tn,i(Ut,Lt,Tn,4),i(on,0,Tn,4);Rt.Dd=ce(_t,142)?ce(_t,114)?ce(_t,183)?1:3:2:0}if(mt.m.Ka)return Ht(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(mt=Re,_t=(ke=Be).rb[ke.sb-1],Ut=ke.rb[ke.sb+ke.ja],rt=ke.ya[ke.aa+ke.ja],Lt=ke.kc?rt.Ad:0)_t.la=Ut.la=0,rt.Za||(_t.Na=Ut.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var fr,vn;if(_t=Ut,Ut=mt,Lt=ke.Pa.Xc,on=ke.ya[ke.aa+ke.ja],Rt=ke.pb[on.$b],gt=on.ad,zn=0,Kn=ke.rb[ke.sb-1],Tn=On=0,i(gt,zn,0,384),on.Za)var li=0,Ga=Lt[3];else{pr=a(16);var ui=_t.Na+Kn.Na;if(ui=Th(Ut,Lt[1],ui,Rt.Eb,0,pr,0),_t.Na=Kn.Na=(0<ui)+0,1<ui)cr(pr,0,gt,zn);else{var aa=pr[0]+3>>3;for(pr=0;256>pr;pr+=16)gt[zn+pr]=aa}li=1,Ga=Lt[0]}var Wn=15&_t.la,Ca=15&Kn.la;for(pr=0;4>pr;++pr){var La=1&Ca;for(aa=vn=0;4>aa;++aa)Wn=Wn>>1|(La=(ui=Th(Ut,Ga,ui=La+(1&Wn),Rt.Sc,li,gt,zn))>li)<<7,vn=vn<<2|(3<ui?3:1<ui?2:gt[zn+0]!=0),zn+=16;Wn>>=4,Ca=Ca>>1|La<<7,On=(On<<8|vn)>>>0}for(Ga=Wn,li=Ca>>4,fr=0;4>fr;fr+=2){for(vn=0,Wn=_t.la>>4+fr,Ca=Kn.la>>4+fr,pr=0;2>pr;++pr){for(La=1&Ca,aa=0;2>aa;++aa)ui=La+(1&Wn),Wn=Wn>>1|(La=0<(ui=Th(Ut,Lt[2],ui,Rt.Qc,0,gt,zn)))<<3,vn=vn<<2|(3<ui?3:1<ui?2:gt[zn+0]!=0),zn+=16;Wn>>=2,Ca=Ca>>1|La<<5}Tn|=vn<<4*fr,Ga|=Wn<<4<<fr,li|=(240&Ca)<<fr}_t.la=Ga,Kn.la=li,on.Hc=On,on.Gc=Tn,on.ia=43690&Tn?0:Rt.ia,Lt=!(On|Tn)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[rt.$b][rt.Za],ke.wa[ke.Y+ke.ja].La|=!Lt),mt.Ka)return Ht(Be,7,"Premature end-of-file encountered.")}if(br(Be),ke=yt,mt=1,rt=(Re=Be).D,_t=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,Re.Aa==0)e:{if(rt.M=Re.M,rt.uc=_t,Nl(Re,rt),mt=1,rt=(vn=Re.D).Nb,_t=(Tn=Ch[Re.L])*Re.R,Ut=Tn/2*Re.B,pr=16*rt*Re.R,aa=8*rt*Re.B,Lt=Re.sa,on=Re.ta-_t+pr,Rt=Re.qa,gt=Re.ra-Ut+aa,zn=Re.Ha,Kn=Re.Ia-Ut+aa,Ca=(Wn=vn.M)==0,On=Wn>=Re.Va-1,Re.Aa==2&&Nl(Re,vn),vn.uc)for(La=(ui=Re).D.M,e(ui.D.uc),vn=ui.yb;vn<ui.Hb;++vn){li=vn,Ga=La;var ci=(fi=(yn=ui).D).Nb;fr=yn.R;var fi=fi.wa[fi.Y+li],oa=yn.sa,ro=yn.ta+16*ci*fr+16*li,es=fi.dd,Ii=fi.tc;if(Ii!=0)if(e(3<=Ii),yn.L==1)0<li&&Zs(oa,ro,fr,Ii+4),fi.La&&no(oa,ro,fr,Ii),0<Ga&&ei(oa,ro,fr,Ii+4),fi.La&&Ju(oa,ro,fr,Ii);else{var xs=yn.B,tc=yn.qa,Rl=yn.ra+8*ci*xs+8*li,tl=yn.Ha,yn=yn.Ia+8*ci*xs+8*li;ci=fi.ld,0<li&&(Pr(oa,ro,fr,Ii+4,es,ci),Ir(tc,Rl,tl,yn,xs,Ii+4,es,ci)),fi.La&&(Zo(oa,ro,fr,Ii,es,ci),of(tc,Rl,tl,yn,xs,Ii,es,ci)),0<Ga&&(vs(oa,ro,fr,Ii+4,es,ci),wi(tc,Rl,tl,yn,xs,Ii+4,es,ci)),fi.La&&(Ks(oa,ro,fr,Ii,es,ci),ys(tc,Rl,tl,yn,xs,Ii,es,ci))}}if(Re.ia&&alert("todo:DitherRow"),ke.put!=null){if(vn=16*Wn,Wn=16*(Wn+1),Ca?(ke.y=Re.sa,ke.O=Re.ta+pr,ke.f=Re.qa,ke.N=Re.ra+aa,ke.ea=Re.Ha,ke.W=Re.Ia+aa):(vn-=Tn,ke.y=Lt,ke.O=on,ke.f=Rt,ke.N=gt,ke.ea=zn,ke.W=Kn),On||(Wn-=Tn),Wn>ke.o&&(Wn=ke.o),ke.F=null,ke.J=null,Re.Fa!=null&&0<Re.Fa.length&&vn<Wn&&(ke.J=ef(Re,ke,vn,Wn-vn),ke.F=Re.mb,ke.F==null&&ke.F.length==0)){mt=Ht(Re,3,"Could not decode alpha data.");break e}vn<ke.j&&(Tn=ke.j-vn,vn=ke.j,e(!(1&Tn)),ke.O+=Re.R*Tn,ke.N+=Re.B*(Tn>>1),ke.W+=Re.B*(Tn>>1),ke.F!=null&&(ke.J+=ke.width*Tn)),vn<Wn&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=vn-ke.j,ke.U=ke.va-ke.v,ke.T=Wn-vn,mt=ke.put(ke))}rt+1!=Re.Ic||On||(r(Re.sa,Re.ta-_t,Lt,on+16*Re.R,_t),r(Re.qa,Re.ra-Ut,Rt,gt+8*Re.B,Ut),r(Re.Ha,Re.Ia-Ut,zn,Kn+8*Re.B,Ut))}if(!mt)return Ht(Be,6,"Output aborted.")}return 1}(w,L)),L.bc!=null&&L.bc(L),U&=1}return U?(w.cb=0,U):0}function Rr(w,L,U,Y,re){re=w[L+U+32*Y]+(re>>3),w[L+U+32*Y]=-256&re?0>re?0:255:re}function Ua(w,L,U,Y,re,se){Rr(w,L,0,U,Y+re),Rr(w,L,1,U,Y+se),Rr(w,L,2,U,Y-se),Rr(w,L,3,U,Y-re)}function Dn(w){return(20091*w>>16)+w}function oi(w,L,U,Y){var re,se=0,le=a(16);for(re=0;4>re;++re){var fe=w[L+0]+w[L+8],de=w[L+0]-w[L+8],ge=(35468*w[L+4]>>16)-Dn(w[L+12]),xe=Dn(w[L+4])+(35468*w[L+12]>>16);le[se+0]=fe+xe,le[se+1]=de+ge,le[se+2]=de-ge,le[se+3]=fe-xe,se+=4,L++}for(re=se=0;4>re;++re)fe=(w=le[se+0]+4)+le[se+8],de=w-le[se+8],ge=(35468*le[se+4]>>16)-Dn(le[se+12]),Rr(U,Y,0,0,fe+(xe=Dn(le[se+4])+(35468*le[se+12]>>16))),Rr(U,Y,1,0,de+ge),Rr(U,Y,2,0,de-ge),Rr(U,Y,3,0,fe-xe),se++,Y+=32}function Wi(w,L,U,Y){var re=w[L+0]+4,se=35468*w[L+4]>>16,le=Dn(w[L+4]),fe=35468*w[L+1]>>16;Ua(U,Y,0,re+le,w=Dn(w[L+1]),fe),Ua(U,Y,1,re+se,w,fe),Ua(U,Y,2,re-se,w,fe),Ua(U,Y,3,re-le,w,fe)}function fs(w,L,U,Y,re){oi(w,L,U,Y),re&&oi(w,L+16,U,Y+4)}function js(w,L,U,Y){Ko(w,L+0,U,Y,1),Ko(w,L+32,U,Y+128,1)}function Kc(w,L,U,Y){var re;for(w=w[L+0]+4,re=0;4>re;++re)for(L=0;4>L;++L)Rr(U,Y,L,re,w)}function Go(w,L,U,Y){w[L+0]&&Vi(w,L+0,U,Y),w[L+16]&&Vi(w,L+16,U,Y+4),w[L+32]&&Vi(w,L+32,U,Y+128),w[L+48]&&Vi(w,L+48,U,Y+128+4)}function hs(w,L,U,Y){var re,se=a(16);for(re=0;4>re;++re){var le=w[L+0+re]+w[L+12+re],fe=w[L+4+re]+w[L+8+re],de=w[L+4+re]-w[L+8+re],ge=w[L+0+re]-w[L+12+re];se[0+re]=le+fe,se[8+re]=le-fe,se[4+re]=ge+de,se[12+re]=ge-de}for(re=0;4>re;++re)le=(w=se[0+4*re]+3)+se[3+4*re],fe=se[1+4*re]+se[2+4*re],de=se[1+4*re]-se[2+4*re],ge=w-se[3+4*re],U[Y+0]=le+fe>>3,U[Y+16]=ge+de>>3,U[Y+32]=le-fe>>3,U[Y+48]=ge-de>>3,Y+=64}function To(w,L,U){var Y,re=L-32,se=Wa,le=255-w[re-1];for(Y=0;Y<U;++Y){var fe,de=se,ge=le+w[L-1];for(fe=0;fe<U;++fe)w[L+fe]=de[ge+w[re+fe]];L+=32}}function Ml(w,L){To(w,L,4)}function Zc(w,L){To(w,L,8)}function Gu(w,L){To(w,L,16)}function Ji(w,L){var U;for(U=0;16>U;++U)r(w,L+32*U,w,L-32,16)}function ds(w,L){var U;for(U=16;0<U;--U)i(w,L,w[L-1],16),L+=32}function Ba(w,L,U){var Y;for(Y=0;16>Y;++Y)i(L,U+32*Y,w,16)}function ps(w,L){var U,Y=16;for(U=0;16>U;++U)Y+=w[L-1+32*U]+w[L+U-32];Ba(Y>>5,w,L)}function Mr(w,L){var U,Y=8;for(U=0;16>U;++U)Y+=w[L-1+32*U];Ba(Y>>4,w,L)}function An(w,L){var U,Y=8;for(U=0;16>U;++U)Y+=w[L+U-32];Ba(Y>>4,w,L)}function hu(w,L){Ba(128,w,L)}function an(w,L,U){return w+2*L+U+2>>2}function du(w,L){var U,Y=L-32;for(Y=new Uint8Array([an(w[Y-1],w[Y+0],w[Y+1]),an(w[Y+0],w[Y+1],w[Y+2]),an(w[Y+1],w[Y+2],w[Y+3]),an(w[Y+2],w[Y+3],w[Y+4])]),U=0;4>U;++U)r(w,L+32*U,Y,0,Y.length)}function Vu(w,L){var U=w[L-1],Y=w[L-1+32],re=w[L-1+64],se=w[L-1+96];Me(w,L+0,16843009*an(w[L-1-32],U,Y)),Me(w,L+32,16843009*an(U,Y,re)),Me(w,L+64,16843009*an(Y,re,se)),Me(w,L+96,16843009*an(re,se,se))}function Po(w,L){var U,Y=4;for(U=0;4>U;++U)Y+=w[L+U-32]+w[L-1+32*U];for(Y>>=3,U=0;4>U;++U)i(w,L+32*U,Y,4)}function _r(w,L){var U=w[L-1+0],Y=w[L-1+32],re=w[L-1+64],se=w[L-1-32],le=w[L+0-32],fe=w[L+1-32],de=w[L+2-32],ge=w[L+3-32];w[L+0+96]=an(Y,re,w[L-1+96]),w[L+1+96]=w[L+0+64]=an(U,Y,re),w[L+2+96]=w[L+1+64]=w[L+0+32]=an(se,U,Y),w[L+3+96]=w[L+2+64]=w[L+1+32]=w[L+0+0]=an(le,se,U),w[L+3+64]=w[L+2+32]=w[L+1+0]=an(fe,le,se),w[L+3+32]=w[L+2+0]=an(de,fe,le),w[L+3+0]=an(ge,de,fe)}function Hs(w,L){var U=w[L+1-32],Y=w[L+2-32],re=w[L+3-32],se=w[L+4-32],le=w[L+5-32],fe=w[L+6-32],de=w[L+7-32];w[L+0+0]=an(w[L+0-32],U,Y),w[L+1+0]=w[L+0+32]=an(U,Y,re),w[L+2+0]=w[L+1+32]=w[L+0+64]=an(Y,re,se),w[L+3+0]=w[L+2+32]=w[L+1+64]=w[L+0+96]=an(re,se,le),w[L+3+32]=w[L+2+64]=w[L+1+96]=an(se,le,fe),w[L+3+64]=w[L+2+96]=an(le,fe,de),w[L+3+96]=an(fe,de,de)}function El(w,L){var U=w[L-1+0],Y=w[L-1+32],re=w[L-1+64],se=w[L-1-32],le=w[L+0-32],fe=w[L+1-32],de=w[L+2-32],ge=w[L+3-32];w[L+0+0]=w[L+1+64]=se+le+1>>1,w[L+1+0]=w[L+2+64]=le+fe+1>>1,w[L+2+0]=w[L+3+64]=fe+de+1>>1,w[L+3+0]=de+ge+1>>1,w[L+0+96]=an(re,Y,U),w[L+0+64]=an(Y,U,se),w[L+0+32]=w[L+1+96]=an(U,se,le),w[L+1+32]=w[L+2+96]=an(se,le,fe),w[L+2+32]=w[L+3+96]=an(le,fe,de),w[L+3+32]=an(fe,de,ge)}function Ni(w,L){var U=w[L+0-32],Y=w[L+1-32],re=w[L+2-32],se=w[L+3-32],le=w[L+4-32],fe=w[L+5-32],de=w[L+6-32],ge=w[L+7-32];w[L+0+0]=U+Y+1>>1,w[L+1+0]=w[L+0+64]=Y+re+1>>1,w[L+2+0]=w[L+1+64]=re+se+1>>1,w[L+3+0]=w[L+2+64]=se+le+1>>1,w[L+0+32]=an(U,Y,re),w[L+1+32]=w[L+0+96]=an(Y,re,se),w[L+2+32]=w[L+1+96]=an(re,se,le),w[L+3+32]=w[L+2+96]=an(se,le,fe),w[L+3+64]=an(le,fe,de),w[L+3+96]=an(fe,de,ge)}function $u(w,L){var U=w[L-1+0],Y=w[L-1+32],re=w[L-1+64],se=w[L-1+96];w[L+0+0]=U+Y+1>>1,w[L+2+0]=w[L+0+32]=Y+re+1>>1,w[L+2+32]=w[L+0+64]=re+se+1>>1,w[L+1+0]=an(U,Y,re),w[L+3+0]=w[L+1+32]=an(Y,re,se),w[L+3+32]=w[L+1+64]=an(re,se,se),w[L+3+64]=w[L+2+64]=w[L+0+96]=w[L+1+96]=w[L+2+96]=w[L+3+96]=se}function Tl(w,L){var U=w[L-1+0],Y=w[L-1+32],re=w[L-1+64],se=w[L-1+96],le=w[L-1-32],fe=w[L+0-32],de=w[L+1-32],ge=w[L+2-32];w[L+0+0]=w[L+2+32]=U+le+1>>1,w[L+0+32]=w[L+2+64]=Y+U+1>>1,w[L+0+64]=w[L+2+96]=re+Y+1>>1,w[L+0+96]=se+re+1>>1,w[L+3+0]=an(fe,de,ge),w[L+2+0]=an(le,fe,de),w[L+1+0]=w[L+3+32]=an(U,le,fe),w[L+1+32]=w[L+3+64]=an(Y,U,le),w[L+1+64]=w[L+3+96]=an(re,Y,U),w[L+1+96]=an(se,re,Y)}function za(w,L){var U;for(U=0;8>U;++U)r(w,L+32*U,w,L-32,8)}function Pl(w,L){var U;for(U=0;8>U;++U)i(w,L,w[L-1],8),L+=32}function Ws(w,L,U){var Y;for(Y=0;8>Y;++Y)i(L,U+32*Y,w,8)}function bi(w,L){var U,Y=8;for(U=0;8>U;++U)Y+=w[L+U-32]+w[L-1+32*U];Ws(Y>>4,w,L)}function Qi(w,L){var U,Y=4;for(U=0;8>U;++U)Y+=w[L+U-32];Ws(Y>>3,w,L)}function ba(w,L){var U,Y=4;for(U=0;8>U;++U)Y+=w[L-1+32*U];Ws(Y>>3,w,L)}function _a(w,L){Ws(128,w,L)}function Gs(w,L,U){var Y=w[L-U],re=w[L+0],se=3*(re-Y)+lp[1020+w[L-2*U]-w[L+U]],le=Ah[112+(se+4>>3)];w[L-U]=Wa[255+Y+Ah[112+(se+3>>3)]],w[L+0]=Wa[255+re-le]}function pu(w,L,U,Y){var re=w[L+0],se=w[L+U];return Ea[255+w[L-2*U]-w[L-U]]>Y||Ea[255+se-re]>Y}function ea(w,L,U,Y){return 4*Ea[255+w[L-U]-w[L+0]]+Ea[255+w[L-2*U]-w[L+U]]<=Y}function Vs(w,L,U,Y,re){var se=w[L-3*U],le=w[L-2*U],fe=w[L-U],de=w[L+0],ge=w[L+U],xe=w[L+2*U],Ye=w[L+3*U];return 4*Ea[255+fe-de]+Ea[255+le-ge]>Y?0:Ea[255+w[L-4*U]-se]<=re&&Ea[255+se-le]<=re&&Ea[255+le-fe]<=re&&Ea[255+Ye-xe]<=re&&Ea[255+xe-ge]<=re&&Ea[255+ge-de]<=re}function $s(w,L,U,Y){var re=2*Y+1;for(Y=0;16>Y;++Y)ea(w,L+Y,U,re)&&Gs(w,L+Y,U)}function wa(w,L,U,Y){var re=2*Y+1;for(Y=0;16>Y;++Y)ea(w,L+Y*U,1,re)&&Gs(w,L+Y*U,1)}function zr(w,L,U,Y){var re;for(re=3;0<re;--re)$s(w,L+=4*U,U,Y)}function _i(w,L,U,Y){var re;for(re=3;0<re;--re)wa(w,L+=4,U,Y)}function Co(w,L,U,Y,re,se,le,fe){for(se=2*se+1;0<re--;){if(Vs(w,L,U,se,le))if(pu(w,L,U,fe))Gs(w,L,U);else{var de=w,ge=L,xe=U,Ye=de[ge-2*xe],Ke=de[ge-xe],Be=de[ge+0],yt=de[ge+xe],rt=de[ge+2*xe],Re=27*(mt=lp[1020+3*(Be-Ke)+lp[1020+Ye-yt]])+63>>7,ke=18*mt+63>>7,mt=9*mt+63>>7;de[ge-3*xe]=Wa[255+de[ge-3*xe]+mt],de[ge-2*xe]=Wa[255+Ye+ke],de[ge-xe]=Wa[255+Ke+Re],de[ge+0]=Wa[255+Be-Re],de[ge+xe]=Wa[255+yt-ke],de[ge+2*xe]=Wa[255+rt-mt]}L+=Y}}function si(w,L,U,Y,re,se,le,fe){for(se=2*se+1;0<re--;){if(Vs(w,L,U,se,le))if(pu(w,L,U,fe))Gs(w,L,U);else{var de=w,ge=L,xe=U,Ye=de[ge-xe],Ke=de[ge+0],Be=de[ge+xe],yt=Ah[112+((rt=3*(Ke-Ye))+4>>3)],rt=Ah[112+(rt+3>>3)],Re=yt+1>>1;de[ge-2*xe]=Wa[255+de[ge-2*xe]+Re],de[ge-xe]=Wa[255+Ye+rt],de[ge+0]=Wa[255+Ke-yt],de[ge+xe]=Wa[255+Be-Re]}L+=Y}}function Vo(w,L,U,Y,re,se){Co(w,L,U,1,16,Y,re,se)}function $o(w,L,U,Y,re,se){Co(w,L,1,U,16,Y,re,se)}function Jc(w,L,U,Y,re,se){var le;for(le=3;0<le;--le)si(w,L+=4*U,U,1,16,Y,re,se)}function jr(w,L,U,Y,re,se){var le;for(le=3;0<le;--le)si(w,L+=4,1,U,16,Y,re,se)}function ta(w,L,U,Y,re,se,le,fe){Co(w,L,re,1,8,se,le,fe),Co(U,Y,re,1,8,se,le,fe)}function Er(w,L,U,Y,re,se,le,fe){Co(w,L,1,re,8,se,le,fe),Co(U,Y,1,re,8,se,le,fe)}function Tr(w,L,U,Y,re,se,le,fe){si(w,L+4*re,re,1,8,se,le,fe),si(U,Y+4*re,re,1,8,se,le,fe)}function Sa(w,L,U,Y,re,se,le,fe){si(w,L+4,1,re,8,se,le,fe),si(U,Y+4,1,re,8,se,le,fe)}function Lo(){this.ba=new Te,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ie,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qo(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new O}function qs(){this.xb=this.a=0,this.l=new Ft,this.ca=new Te,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qo,this.ab=0,this.gc=o(4,Qc),this.Oc=0}function Cl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ft,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mu(w,L,U,Y,re,se,le){for(w=w==null?0:w[L+0],L=0;L<le;++L)re[se+L]=w+U[Y+L]&255,w=re[se+L]}function gu(w,L,U,Y,re,se,le){var fe;if(w==null)mu(null,null,U,Y,re,se,le);else for(fe=0;fe<le;++fe)re[se+fe]=w[L+fe]+U[Y+fe]&255}function Ll(w,L,U,Y,re,se,le){if(w==null)mu(null,null,U,Y,re,se,le);else{var fe,de=w[L+0],ge=de,xe=de;for(fe=0;fe<le;++fe)ge=xe+(de=w[L+fe])-ge,xe=U[Y+fe]+(-256&ge?0>ge?0:255:ge)&255,ge=de,re[se+fe]=xe}}function ef(w,L,U,Y){var re=L.width,se=L.o;if(e(w!=null&&L!=null),0>U||0>=Y||U+Y>se)return null;if(!w.Cc){if(w.ga==null){var le;if(w.ga=new Cl,(le=w.ga==null)||(le=L.width*L.o,e(w.Gb.length==0),w.Gb=a(le),w.Uc=0,w.Gb==null?le=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,le=1),le=!le),!le){le=w.ga;var fe=w.Fa,de=w.P,ge=w.qc,xe=w.mb,Ye=w.nb,Ke=de+1,Be=ge-1,yt=le.l;if(e(fe!=null&&xe!=null&&L!=null),Qo[0]=null,Qo[1]=mu,Qo[2]=gu,Qo[3]=Ll,le.ca=xe,le.tb=Ye,le.c=L.width,le.i=L.height,e(0<le.c&&0<le.i),1>=ge)L=0;else if(le.$a=fe[de+0]>>0&3,le.Z=fe[de+0]>>2&3,le.Lc=fe[de+0]>>4&3,de=fe[de+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||de)L=0;else if(yt.put=qt,yt.ac=Et,yt.bc=pn,yt.ma=le,yt.width=L.width,yt.height=L.height,yt.Da=L.Da,yt.v=L.v,yt.va=L.va,yt.j=L.j,yt.o=L.o,le.$a)e:{e(le.$a==1),L=pe();t:for(;;){if(L==null){L=0;break e}if(e(le!=null),le.mc=L,L.c=le.c,L.i=le.i,L.l=le.l,L.l.ma=le,L.l.width=le.c,L.l.height=le.i,L.a=0,B(L.m,fe,Ke,Be),!We(le.c,le.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&sr(L.s)?(le.ic=1,fe=L.c*L.i,L.Ta=null,L.Ua=0,L.V=a(fe),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(le.ic=0,L=Qe(L,le.c)),!L))break t;L=1;break e}le.mc=null,L=0}else L=Be>=le.c*le.i;le=!L}if(le)return null;w.ga.Lc!=1?w.Ga=0:Y=se-U}e(w.ga!=null),e(U+Y<=se);e:{if(L=(fe=w.ga).c,se=fe.l.o,fe.$a==0){if(Ke=w.rc,Be=w.Vc,yt=w.Fa,de=w.P+1+U*L,ge=w.mb,xe=w.nb+U*L,e(de<=w.P+w.qc),fe.Z!=0)for(e(Qo[fe.Z]!=null),le=0;le<Y;++le)Qo[fe.Z](Ke,Be,yt,de,ge,xe,L),Ke=ge,Be=xe,xe+=L,de+=L;else for(le=0;le<Y;++le)r(ge,xe,yt,de,L),Ke=ge,Be=xe,xe+=L,de+=L;w.rc=Ke,w.Vc=Be}else{if(e(fe.mc!=null),L=U+Y,e((le=fe.mc)!=null),e(L<=le.i),le.C>=L)L=1;else if(fe.ic||$e(),fe.ic){fe=le.V,Ke=le.Ba,Be=le.c;var rt=le.i,Re=(yt=1,de=le.$/Be,ge=le.$%Be,xe=le.m,Ye=le.s,le.$),ke=Be*rt,mt=Be*L,_t=Ye.wc,gt=Re<mt?kn(Ye,ge,de):null;e(Re<=ke),e(L<=rt),e(sr(Ye));t:for(;;){for(;!xe.h&&Re<mt;){if(ge&_t||(gt=kn(Ye,ge,de)),e(gt!=null),ne(xe),256>(rt=dr(gt.G[0],gt.H[0],xe)))fe[Ke+Re]=rt,++Re,++ge>=Be&&(ge=0,++de<=L&&!(de%16)&&ya(le,de));else{if(!(280>rt)){yt=0;break t}rt=hn(rt-256,xe);var Ut,Lt=dr(gt.G[4],gt.H[4],xe);if(ne(xe),!(Re>=(Lt=Un(Be,Lt=hn(Lt,xe)))&&ke-Re>=rt)){yt=0;break t}for(Ut=0;Ut<rt;++Ut)fe[Ke+Re+Ut]=fe[Ke+Re+Ut-Lt];for(Re+=rt,ge+=rt;ge>=Be;)ge-=Be,++de<=L&&!(de%16)&&ya(le,de);Re<mt&&ge&_t&&(gt=kn(Ye,ge,de))}e(xe.h==G(xe))}ya(le,de>L?L:de);break t}!yt||xe.h&&Re<ke?(yt=0,le.a=xe.h?5:3):le.$=Re,L=yt}else L=Zi(le,le.V,le.Ba,le.c,le.i,L,nt);if(!L){Y=0;break e}}U+Y>=se&&(w.Cc=1),Y=1}if(!Y)return null;if(w.Cc&&((Y=w.ga)!=null&&(Y.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+U*re}function I(w,L,U,Y,re,se){for(;0<re--;){var le,fe=w,de=L+(U?1:0),ge=w,xe=L+(U?0:3);for(le=0;le<Y;++le){var Ye=ge[xe+4*le];Ye!=255&&(Ye*=32897,fe[de+4*le+0]=fe[de+4*le+0]*Ye>>23,fe[de+4*le+1]=fe[de+4*le+1]*Ye>>23,fe[de+4*le+2]=fe[de+4*le+2]*Ye>>23)}L+=se}}function ae(w,L,U,Y,re){for(;0<Y--;){var se;for(se=0;se<U;++se){var le=w[L+2*se+0],fe=15&(ge=w[L+2*se+1]),de=4369*fe,ge=(240&ge|ge>>4)*de>>16;w[L+2*se+0]=(240&le|le>>4)*de>>16&240|(15&le|le<<4)*de>>16>>4&15,w[L+2*se+1]=240&ge|fe}L+=re}}function _e(w,L,U,Y,re,se,le,fe){var de,ge,xe=255;for(ge=0;ge<re;++ge){for(de=0;de<Y;++de){var Ye=w[L+de];se[le+4*de]=Ye,xe&=Ye}L+=U,le+=fe}return xe!=255}function Ne(w,L,U,Y,re){var se;for(se=0;se<re;++se)U[Y+se]=w[L+se]>>8}function $e(){Si=I,Nn=ae,Hn=_e,kr=Ne}function ut(w,L,U){P[w]=function(Y,re,se,le,fe,de,ge,xe,Ye,Ke,Be,yt,rt,Re,ke,mt,_t){var gt,Ut=_t-1>>1,Lt=fe[de+0]|ge[xe+0]<<16,on=Ye[Ke+0]|Be[yt+0]<<16;e(Y!=null);var Rt=3*Lt+on+131074>>2;for(L(Y[re+0],255&Rt,Rt>>16,rt,Re),se!=null&&(Rt=3*on+Lt+131074>>2,L(se[le+0],255&Rt,Rt>>16,ke,mt)),gt=1;gt<=Ut;++gt){var zn=fe[de+gt]|ge[xe+gt]<<16,Kn=Ye[Ke+gt]|Be[yt+gt]<<16,On=Lt+zn+on+Kn+524296,Tn=On+2*(zn+on)>>3;Rt=Tn+Lt>>1,Lt=(On=On+2*(Lt+Kn)>>3)+zn>>1,L(Y[re+2*gt-1],255&Rt,Rt>>16,rt,Re+(2*gt-1)*U),L(Y[re+2*gt-0],255&Lt,Lt>>16,rt,Re+(2*gt-0)*U),se!=null&&(Rt=On+on>>1,Lt=Tn+Kn>>1,L(se[le+2*gt-1],255&Rt,Rt>>16,ke,mt+(2*gt-1)*U),L(se[le+2*gt+0],255&Lt,Lt>>16,ke,mt+(2*gt+0)*U)),Lt=zn,on=Kn}1&_t||(Rt=3*Lt+on+131074>>2,L(Y[re+_t-1],255&Rt,Rt>>16,rt,Re+(_t-1)*U),se!=null&&(Rt=3*on+Lt+131074>>2,L(se[le+_t-1],255&Rt,Rt>>16,ke,mt+(_t-1)*U)))}}function wt(){Ta[Mh]=mp,Ta[ec]=Vg,Ta[Eh]=gp,Ta[lf]=ff,Ta[xu]=ia,Ta[up]=b1,Ta[jg]=tS,Ta[cp]=Vg,Ta[fp]=ff,Ta[uf]=ia,Ta[hp]=b1}function kt(w){return w&~_1?0>w?0:255:w>>$g}function Yt(w,L){return kt((19077*w>>8)+(26149*L>>8)-14234)}function mn(w,L,U){return kt((19077*w>>8)-(6419*L>>8)-(13320*U>>8)+8708)}function en(w,L){return kt((19077*w>>8)+(33050*L>>8)-17685)}function gn(w,L,U,Y,re){Y[re+0]=Yt(w,U),Y[re+1]=mn(w,L,U),Y[re+2]=en(w,L)}function rr(w,L,U,Y,re){Y[re+0]=en(w,L),Y[re+1]=mn(w,L,U),Y[re+2]=Yt(w,U)}function Yn(w,L,U,Y,re){var se=mn(w,L,U);L=se<<3&224|en(w,L)>>3,Y[re+0]=248&Yt(w,U)|se>>5,Y[re+1]=L}function lr(w,L,U,Y,re){var se=240&en(w,L)|15;Y[re+0]=240&Yt(w,U)|mn(w,L,U)>>4,Y[re+1]=se}function Jr(w,L,U,Y,re){Y[re+0]=255,gn(w,L,U,Y,re+1)}function Oi(w,L,U,Y,re){rr(w,L,U,Y,re),Y[re+3]=255}function No(w,L,U,Y,re){gn(w,L,U,Y,re),Y[re+3]=255}function ja(w,L){return 0>w?0:w>L?L:w}function Qr(w,L,U){P[w]=function(Y,re,se,le,fe,de,ge,xe,Ye){for(var Ke=xe+(-2&Ye)*U;xe!=Ke;)L(Y[re+0],se[le+0],fe[de+0],ge,xe),L(Y[re+1],se[le+0],fe[de+0],ge,xe+U),re+=2,++le,++de,xe+=2*U;1&Ye&&L(Y[re+0],se[le+0],fe[de+0],ge,xe)}}function Aa(w,L,U){return U==0?w==0?L==0?6:5:L==0?4:0:U}function ur(w,L,U,Y,re){switch(w>>>30){case 3:Ko(L,U,Y,re,0);break;case 2:Wr(L,U,Y,re);break;case 1:Vi(L,U,Y,re)}}function Nl(w,L){var U,Y,re=L.M,se=L.Nb,le=w.oc,fe=w.pc+40,de=w.oc,ge=w.pc+584,xe=w.oc,Ye=w.pc+600;for(U=0;16>U;++U)le[fe+32*U-1]=129;for(U=0;8>U;++U)de[ge+32*U-1]=129,xe[Ye+32*U-1]=129;for(0<re?le[fe-1-32]=de[ge-1-32]=xe[Ye-1-32]=129:(i(le,fe-32-1,127,21),i(de,ge-32-1,127,9),i(xe,Ye-32-1,127,9)),Y=0;Y<w.za;++Y){var Ke=L.ya[L.aa+Y];if(0<Y){for(U=-1;16>U;++U)r(le,fe+32*U-4,le,fe+32*U+12,4);for(U=-1;8>U;++U)r(de,ge+32*U-4,de,ge+32*U+4,4),r(xe,Ye+32*U-4,xe,Ye+32*U+4,4)}var Be=w.Gd,yt=w.Hd+Y,rt=Ke.ad,Re=Ke.Hc;if(0<re&&(r(le,fe-32,Be[yt].y,0,16),r(de,ge-32,Be[yt].f,0,8),r(xe,Ye-32,Be[yt].ea,0,8)),Ke.Za){var ke=le,mt=fe-32+16;for(0<re&&(Y>=w.za-1?i(ke,mt,Be[yt].y[15],4):r(ke,mt,Be[yt+1].y,0,4)),U=0;4>U;U++)ke[mt+128+U]=ke[mt+256+U]=ke[mt+384+U]=ke[mt+0+U];for(U=0;16>U;++U,Re<<=2)ke=le,mt=fe+Ph[U],Jo[Ke.Ob[U]](ke,mt),ur(Re,rt,16*+U,ke,mt)}else if(ke=Aa(Y,re,Ke.Ob[0]),Ol[ke](le,fe),Re!=0)for(U=0;16>U;++U,Re<<=2)ur(Re,rt,16*+U,le,fe+Ph[U]);for(U=Ke.Gc,ke=Aa(Y,re,Ke.Dd),Qs[ke](de,ge),Qs[ke](xe,Ye),Re=rt,ke=de,mt=ge,255&(Ke=U>>0)&&(170&Ke?Zu(Re,256,ke,mt):Gr(Re,256,ke,mt)),Ke=xe,Re=Ye,255&(U>>=8)&&(170&U?Zu(rt,320,Ke,Re):Gr(rt,320,Ke,Re)),re<w.Ub-1&&(r(Be[yt].y,0,le,fe+480,16),r(Be[yt].f,0,de,ge+224,8),r(Be[yt].ea,0,xe,Ye+224,8)),U=8*se*w.B,Be=w.sa,yt=w.ta+16*Y+16*se*w.R,rt=w.qa,Ke=w.ra+8*Y+U,Re=w.Ha,ke=w.Ia+8*Y+U,U=0;16>U;++U)r(Be,yt+U*w.R,le,fe+32*U,16);for(U=0;8>U;++U)r(rt,Ke+U*w.B,de,ge+32*U,8),r(Re,ke+U*w.B,xe,Ye+32*U,8)}}function Ma(w,L,U,Y,re,se,le,fe,de){var ge=[0],xe=[0],Ye=0,Ke=de!=null?de.kd:0,Be=de??new qu;if(w==null||12>U)return 7;Be.data=w,Be.w=L,Be.ha=U,L=[L],U=[U],Be.gb=[Be.gb];e:{var yt=L,rt=U,Re=Be.gb;if(e(w!=null),e(rt!=null),e(Re!=null),Re[0]=0,12<=rt[0]&&!n(w,yt[0],"RIFF")){if(n(w,yt[0]+8,"WEBP")){Re=3;break e}var ke=Ee(w,yt[0]+4);if(12>ke||4294967286<ke){Re=3;break e}if(Ke&&ke>rt[0]-8){Re=7;break e}Re[0]=ke,yt[0]+=12,rt[0]-=12}Re=0}if(Re!=0)return Re;for(ke=0<Be.gb[0],U=U[0];;){e:{var mt=w;rt=L,Re=U;var _t=ge,gt=xe,Ut=yt=[0];if((Rt=Ye=[Ye])[0]=0,8>Re[0])Re=7;else{if(!n(mt,rt[0],"VP8X")){if(Ee(mt,rt[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Lt=Ee(mt,rt[0]+8),on=1+J(mt,rt[0]+12);if(2147483648<=on*(mt=1+J(mt,rt[0]+15))){Re=3;break e}Ut!=null&&(Ut[0]=Lt),_t!=null&&(_t[0]=on),gt!=null&&(gt[0]=mt),rt[0]+=18,Re[0]-=18,Rt[0]=1}Re=0}}if(Ye=Ye[0],yt=yt[0],Re!=0)return Re;if(rt=!!(2&yt),!ke&&Ye)return 3;if(se!=null&&(se[0]=!!(16&yt)),le!=null&&(le[0]=rt),fe!=null&&(fe[0]=0),le=ge[0],yt=xe[0],Ye&&rt&&de==null){Re=0;break}if(4>U){Re=7;break}if(ke&&Ye||!ke&&!Ye&&!n(w,L[0],"ALPH")){U=[U],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Lt=w,Re=L,ke=U;var Rt=Be.gb;_t=Be.na,gt=Be.P,Ut=Be.Sa,on=22,e(Lt!=null),e(ke!=null),mt=Re[0];var zn=ke[0];for(e(_t!=null),e(Ut!=null),_t[0]=null,gt[0]=null,Ut[0]=0;;){if(Re[0]=mt,ke[0]=zn,8>zn){Re=7;break e}var Kn=Ee(Lt,mt+4);if(4294967286<Kn){Re=3;break e}var On=8+Kn+1&-2;if(on+=On,0<Rt&&on>Rt){Re=3;break e}if(!n(Lt,mt,"VP8 ")||!n(Lt,mt,"VP8L")){Re=0;break e}if(zn[0]<On){Re=7;break e}n(Lt,mt,"ALPH")||(_t[0]=Lt,gt[0]=mt+8,Ut[0]=Kn),mt+=On,zn-=On}}if(U=U[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Re!=0)break}U=[U],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Rt=w,Re=L,ke=U,_t=Be.gb[0],gt=Be.Ja,Ut=Be.xa,Lt=Re[0],mt=!n(Rt,Lt,"VP8 "),on=!n(Rt,Lt,"VP8L"),e(Rt!=null),e(ke!=null),e(gt!=null),e(Ut!=null),8>ke[0])Re=7;else{if(mt||on){if(Rt=Ee(Rt,Lt+4),12<=_t&&Rt>_t-12){Re=3;break e}if(Ke&&Rt>ke[0]-8){Re=7;break e}gt[0]=Rt,Re[0]+=8,ke[0]-=8,Ut[0]=on}else Ut[0]=5<=ke[0]&&Rt[Lt+0]==47&&!(Rt[Lt+4]>>5),gt[0]=ke[0];Re=0}if(U=U[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],L=L[0],Re!=0)break;if(4294967286<Be.Ja)return 3;if(fe==null||rt||(fe[0]=Be.xa?2:1),le=[le],yt=[yt],Be.xa){if(5>U){Re=7;break}fe=le,Ke=yt,rt=se,w==null||5>U?w=0:5<=U&&w[L+0]==47&&!(w[L+4]>>5)?(ke=[0],Rt=[0],_t=[0],B(gt=new k,w,L,U),At(gt,ke,Rt,_t)?(fe!=null&&(fe[0]=ke[0]),Ke!=null&&(Ke[0]=Rt[0]),rt!=null&&(rt[0]=_t[0]),w=1):w=0):w=0}else{if(10>U){Re=7;break}fe=yt,w==null||10>U||!nr(w,L+3,U-3)?w=0:(Ke=w[L+0]|w[L+1]<<8|w[L+2]<<16,rt=16383&(w[L+7]<<8|w[L+6]),w=16383&(w[L+9]<<8|w[L+8]),1&Ke||3<(Ke>>1&7)||!(Ke>>4&1)||Ke>>5>=Be.Ja||!rt||!w?w=0:(le&&(le[0]=rt),fe&&(fe[0]=w),w=1))}if(!w||(le=le[0],yt=yt[0],Ye&&(ge[0]!=le||xe[0]!=yt)))return 3;de!=null&&(de[0]=Be,de.offset=L-de.w,e(4294967286>L-de.w),e(de.offset==de.ha-U));break}return Re==0||Re==7&&Ye&&de==null?(se!=null&&(se[0]|=Be.na!=null&&0<Be.na.length),Y!=null&&(Y[0]=le),re!=null&&(re[0]=yt),0):Re}function tf(w,L,U){var Y=L.width,re=L.height,se=0,le=0,fe=Y,de=re;if(L.Da=w!=null&&0<w.Da,L.Da&&(fe=w.cd,de=w.bd,se=w.v,le=w.j,11>U||(se&=-2,le&=-2),0>se||0>le||0>=fe||0>=de||se+fe>Y||le+de>re))return 0;if(L.v=se,L.j=le,L.va=se+fe,L.o=le+de,L.U=fe,L.T=de,L.da=w!=null&&0<w.da,L.da){if(!He(fe,de,U=[w.ib],se=[w.hb]))return 0;L.ib=U[0],L.hb=se[0]}return L.ob=w!=null&&w.ob,L.Kb=w==null||!w.Sd,L.da&&(L.ob=L.ib<3*Y/4&&L.hb<3*re/4,L.Kb=0),1}function nf(w){if(w==null)return 2;if(11>w.S){var L=w.f.RGBA;L.fb+=(w.height-1)*L.A,L.A=-L.A}else L=w.f.kb,w=w.height,L.O+=(w-1)*L.fa,L.fa=-L.fa,L.N+=(w-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(w-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(w-1)*L.lb,L.lb=-L.lb);return 0}function vu(w,L,U,Y){if(Y==null||0>=w||0>=L)return 2;if(U!=null){if(U.Da){var re=U.cd,se=U.bd,le=-2&U.v,fe=-2&U.j;if(0>le||0>fe||0>=re||0>=se||le+re>w||fe+se>L)return 2;w=re,L=se}if(U.da){if(!He(w,L,re=[U.ib],se=[U.hb]))return 2;w=re[0],L=se[0]}}Y.width=w,Y.height=L;e:{var de=Y.width,ge=Y.height;if(w=Y.S,0>=de||0>=ge||!(w>=Mh&&13>w))w=2;else{if(0>=Y.Rd&&Y.sd==null){le=se=re=L=0;var xe=(fe=de*Zg[w])*ge;if(11>w||(se=(ge+1)/2*(L=(de+1)/2),w==12&&(le=(re=de)*ge)),(ge=a(xe+2*se+le))==null){w=1;break e}Y.sd=ge,11>w?((de=Y.f.RGBA).eb=ge,de.fb=0,de.A=fe,de.size=xe):((de=Y.f.kb).y=ge,de.O=0,de.fa=fe,de.Fd=xe,de.f=ge,de.N=0+xe,de.Ab=L,de.Cd=se,de.ea=ge,de.W=0+xe+se,de.Db=L,de.Ed=se,w==12&&(de.F=ge,de.J=0+xe+2*se),de.Tc=le,de.lb=re)}if(L=1,re=Y.S,se=Y.width,le=Y.height,re>=Mh&&13>re)if(11>re)w=Y.f.RGBA,L&=(fe=Math.abs(w.A))*(le-1)+se<=w.size,L&=fe>=se*Zg[re],L&=w.eb!=null;else{w=Y.f.kb,fe=(se+1)/2,xe=(le+1)/2,de=Math.abs(w.fa),ge=Math.abs(w.Ab);var Ye=Math.abs(w.Db),Ke=Math.abs(w.lb),Be=Ke*(le-1)+se;L&=de*(le-1)+se<=w.Fd,L&=ge*(xe-1)+fe<=w.Cd,L=(L&=Ye*(xe-1)+fe<=w.Ed)&de>=se&ge>=fe&Ye>=fe,L&=w.y!=null,L&=w.f!=null,L&=w.ea!=null,re==12&&(L&=Ke>=se,L&=Be<=w.Tc,L&=w.F!=null)}else L=0;w=L?0:2}}return w!=0||U!=null&&U.fd&&(w=nf(Y)),w}var Ri=64,Xu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xs=24,ms=32,Yu=8,Gi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(w){return w},P.Predictor2=function(w,L,U){return L[U+0]},P.Predictor3=function(w,L,U){return L[U+1]},P.Predictor4=function(w,L,U){return L[U-1]},P.Predictor5=function(w,L,U){return ee(ee(w,L[U+1]),L[U+0])},P.Predictor6=function(w,L,U){return ee(w,L[U-1])},P.Predictor7=function(w,L,U){return ee(w,L[U+0])},P.Predictor8=function(w,L,U){return ee(L[U-1],L[U+0])},P.Predictor9=function(w,L,U){return ee(L[U+0],L[U+1])},P.Predictor10=function(w,L,U){return ee(ee(w,L[U-1]),ee(L[U+0],L[U+1]))},P.Predictor11=function(w,L,U){var Y=L[U+0];return 0>=Oe(Y>>24&255,w>>24&255,(L=L[U-1])>>24&255)+Oe(Y>>16&255,w>>16&255,L>>16&255)+Oe(Y>>8&255,w>>8&255,L>>8&255)+Oe(255&Y,255&w,255&L)?Y:w},P.Predictor12=function(w,L,U){var Y=L[U+0];return(Se((w>>24&255)+(Y>>24&255)-((L=L[U-1])>>24&255))<<24|Se((w>>16&255)+(Y>>16&255)-(L>>16&255))<<16|Se((w>>8&255)+(Y>>8&255)-(L>>8&255))<<8|Se((255&w)+(255&Y)-(255&L)))>>>0},P.Predictor13=function(w,L,U){var Y=L[U-1];return(Pe((w=ee(w,L[U+0]))>>24&255,Y>>24&255)<<24|Pe(w>>16&255,Y>>16&255)<<16|Pe(w>>8&255,Y>>8&255)<<8|Pe(w>>0&255,Y>>0&255))>>>0};var rf=P.PredictorAdd0;P.PredictorAdd1=qe,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var af=P.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var wh,na=P.ColorIndexInverseTransform,Ku=P.MapARGB,yu=P.VP8LColorIndexInverseTransformAlpha,Ha=P.MapAlpha,Xo=P.VP8LPredictorsAdd=[];Xo.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Yo,Hr,ra,Oo,Ys,gs,cr,Ko,Wr,Zu,Vi,Gr,vs,Pr,wi,Ir,Ks,Zo,ys,of,ei,Zs,Ju,no,Si,Nn,Hn,kr,ti=a(511),Js=a(2041),sf=a(225),Qu=a(767),Sh=0,lp=Js,Ah=sf,Wa=Qu,Ea=ti,Mh=0,ec=1,Eh=2,lf=3,xu=4,up=5,jg=6,cp=7,fp=8,uf=9,hp=10,p1=[2,3,7],Yw=[3,3,11],Hg=[280,256,256,256,40],Kw=[0,1,1,1,0],Zw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],m1=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],g1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],v1=8,dp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Th=null,Jw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],pp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],eS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],y1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],x1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ol=[],Jo=[],Qs=[],el=1,Gg=2,Qo=[],Ta=[];ut("UpsampleRgbLinePair",gn,3),ut("UpsampleBgrLinePair",rr,3),ut("UpsampleRgbaLinePair",No,4),ut("UpsampleBgraLinePair",Oi,4),ut("UpsampleArgbLinePair",Jr,4),ut("UpsampleRgba4444LinePair",lr,2),ut("UpsampleRgb565LinePair",Yn,2);var mp=P.UpsampleRgbLinePair,gp=P.UpsampleBgrLinePair,Vg=P.UpsampleRgbaLinePair,ff=P.UpsampleBgraLinePair,ia=P.UpsampleArgbLinePair,b1=P.UpsampleRgba4444LinePair,tS=P.UpsampleRgb565LinePair,Pa=16,$i=1<<Pa-1,hf=-227,vp=482,$g=6,_1=(256<<$g)-1,qg=0,Xg=a(256),w1=a(256),Yg=a(256),S1=a(256),A1=a(vp-hf),yp=a(vp-hf);Qr("YuvToRgbRow",gn,3),Qr("YuvToBgrRow",rr,3),Qr("YuvToRgbaRow",No,4),Qr("YuvToBgraRow",Oi,4),Qr("YuvToArgbRow",Jr,4),Qr("YuvToRgba4444Row",lr,2),Qr("YuvToRgb565Row",Yn,2);var Ph=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ch=[0,2,8],Kg=[8,7,6,4,4,2,2,2,1,1,1,1],M1=1;this.WebPDecodeRGBA=function(w,L,U,Y,re){var se=ec,le=new Lo,fe=new Te;le.ba=fe,fe.S=se,fe.width=[fe.width],fe.height=[fe.height];var de=fe.width,ge=fe.height,xe=new St;if(xe==null||w==null)var Ye=2;else e(xe!=null),Ye=Ma(w,L,U,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Ye!=0?de=0:(de!=null&&(de[0]=xe.width[0]),ge!=null&&(ge[0]=xe.height[0]),de=1),de){fe.width=fe.width[0],fe.height=fe.height[0],Y!=null&&(Y[0]=fe.width),re!=null&&(re[0]=fe.height);e:{if(Y=new Ft,(re=new qu).data=w,re.w=L,re.ha=U,re.kd=1,L=[0],e(re!=null),((w=Ma(re.data,re.w,re.ha,null,null,null,L,null,re))==0||w==7)&&L[0]&&(w=4),(L=w)==0){if(e(le!=null),Y.data=re.data,Y.w=re.w+re.offset,Y.ha=re.ha-re.offset,Y.put=qt,Y.ac=Et,Y.bc=pn,Y.ma=le,re.xa){if((w=pe())==null){le=1;break e}if(function(Ke,Be){var yt=[0],rt=[0],Re=[0];t:for(;;){if(Ke==null)return 0;if(Be==null)return Ke.a=2,0;if(Ke.l=Be,Ke.a=0,B(Ke.m,Be.data,Be.w,Be.ha),!At(Ke.m,yt,rt,Re)){Ke.a=3;break t}if(Ke.xb=Gg,Be.width=yt[0],Be.height=rt[0],!We(yt[0],rt[0],1,Ke,null))break t;return 1}return e(Ke.a!=0),0}(w,Y)){if(Y=(L=vu(Y.width,Y.height,le.Oa,le.ba))==0){t:{Y=w;n:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((U=Y.l)!=null),e((re=U.ma)!=null),Y.xb!=0){if(Y.ca=re.ba,Y.tb=re.tb,e(Y.ca!=null),!tf(re.Oa,U,lf)){Y.a=2;break n}if(!Qe(Y,U.width)||U.da)break n;if((U.da||ct(Y.ca.S))&&$e(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&$e()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!Ae(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!Zi(Y,Y.V,Y.Ba,Y.c,Y.i,U.o,ii))break n;re.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(L=w.a)}else L=w.a}else{if((w=new Li)==null){le=1;break e}if(w.Fa=re.na,w.P=re.P,w.qc=re.Sa,xa(w,Y)){if((L=vu(Y.width,Y.height,le.Oa,le.ba))==0){if(w.Aa=0,U=le.Oa,e((re=w)!=null),U!=null){if(0<(de=0>(de=U.Md)?0:100<de?255:255*de/100)){for(ge=xe=0;4>ge;++ge)12>(Ye=re.pb[ge]).lc&&(Ye.ia=de*Kg[0>Ye.lc?0:Ye.lc]>>3),xe|=Ye.ia;xe&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=U.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}Xn(w,Y)||(L=w.a)}}else L=w.a}L==0&&le.Oa!=null&&le.Oa.fd&&(L=nf(le.ba))}le=L}se=le!=0?null:11>se?fe.f.RGBA.eb:fe.f.kb.y}else se=null;return se};var Zg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,D){for(var N="",C=0;C<4;C++)N+=String.fromCharCode(P[D++]);return N}function c(P,D){return(P[D+0]<<0|P[D+1]<<8|P[D+2]<<16)>>>0}function f(P,D){return(P[D+0]<<0|P[D+1]<<8|P[D+2]<<16|P[D+3]<<24)>>>0}new l;var h=[0],d=[0],m=[],x=new l,y=t,g=function(P,D){var N={},C=0,O=!1,j=0,F=0;if(N.frames=[],!function(V,G,K,ne){for(var ue=0;ue<ne;ue++)if(V[G+ue]!=K.charCodeAt(ue))return!0;return!1}(P,D,"RIFF",4)){var Z,H;for(f(P,D+=4),D+=8;D<P.length;){var q=u(P,D),B=f(P,D+=4);D+=4;var z=B+(1&B);switch(q){case"VP8 ":case"VP8L":N.frames[C]===void 0&&(N.frames[C]={}),(k=N.frames[C]).src_off=O?F:D-8,k.src_size=j+B+8,C++,O&&(O=!1,j=0,F=0);break;case"VP8X":(k=N.header={}).feature_flags=P[D];var $=D+4;k.canvas_width=1+c(P,$),$+=3,k.canvas_height=1+c(P,$),$+=3;break;case"ALPH":O=!0,j=z+8,F=D-8;break;case"ANIM":(k=N.header).bgcolor=f(P,D),$=D+4,k.loop_count=(Z=P)[(H=$)+0]<<0|Z[H+1]<<8,$+=2;break;case"ANMF":var X,k;(k=N.frames[C]={}).offset_x=2*c(P,D),D+=3,k.offset_y=2*c(P,D),D+=3,k.width=1+c(P,D),D+=3,k.height=1+c(P,D),D+=3,k.duration=c(P,D),D+=3,X=P[D++],k.dispose=1&X,k.blend=X>>1&1}q!="ANMF"&&(D+=z)}return N}}(y,0);g.response=y,g.rgbaoutput=!0,g.dataurl=!1;var _=g.header?g.header:null,b=g.frames?g.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],d=[_.canvas_width];for(var S=0;S<b.length&&b[S].blend!=0;S++);}var A=b[0],E=x.WebPDecodeRGBA(y,A.src_off,A.src_size,d,h);A.rgba=E,A.imgwidth=d[0],A.imgheight=h[0];for(var M=0;M<d[0]*h[0]*4;M++)m[M]=E[M];return this.width=d,this.height=h,this.data=m,this}(function(t){var e=function(){return typeof I3=="function"},n=function(h,d,m,x){var y=4,g=o;switch(x){case t.image_compression.FAST:y=1,g=a;break;case t.image_compression.MEDIUM:y=6,g=s;break;case t.image_compression.SLOW:y=9,g=l}h=r(h,d,m,g);var _=I3(h,{level:y});return t.__addimage__.arrayBufferToBinaryString(_)},r=function(h,d,m,x){for(var y,g,_,b=h.length/d,S=new Uint8Array(h.length+b),A=c(),E=0;E<b;E+=1){if(_=E*d,y=h.subarray(_,_+d),x)S.set(x(y,m,g),_+E);else{for(var M,P=A.length,D=[];M<P;M+=1)D[M]=A[M](y,m,g);var N=f(D.concat());S.set(D[N],_+E)}g=y}return S},i=function(h){var d=Array.apply([],h);return d.unshift(0),d},a=function(h,d){var m,x=[],y=h.length;x[0]=1;for(var g=0;g<y;g+=1)m=h[g-d]||0,x[g+1]=h[g]-m+256&255;return x},o=function(h,d,m){var x,y=[],g=h.length;y[0]=2;for(var _=0;_<g;_+=1)x=m&&m[_]||0,y[_+1]=h[_]-x+256&255;return y},s=function(h,d,m){var x,y,g=[],_=h.length;g[0]=3;for(var b=0;b<_;b+=1)x=h[b-d]||0,y=m&&m[b]||0,g[b+1]=h[b]+256-(x+y>>>1)&255;return g},l=function(h,d,m){var x,y,g,_,b=[],S=h.length;b[0]=4;for(var A=0;A<S;A+=1)x=h[A-d]||0,y=m&&m[A]||0,g=m&&m[A-d]||0,_=u(x,y,g),b[A+1]=h[A]-_+256&255;return b},u=function(h,d,m){if(h===d&&d===m)return h;var x=Math.abs(d-m),y=Math.abs(h-m),g=Math.abs(h+d-m-m);return x<=y&&x<=g?h:y<=g?d:m},c=function(){return[i,a,o,s,l]},f=function(h){var d=h.map(function(m){return m.reduce(function(x,y){return x+Math.abs(y)},0)});return d.indexOf(Math.min.apply(null,d))};t.processPNG=function(h,d,m,x){var y,g,_,b,S,A,E,M,P,D,N,C,O,j,F,Z=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(_=new MMe(h)).imgData,g=_.bits,y=_.colorSpace,S=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){P=(M=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,N=new Uint8Array(P*_.colors),D=new Uint8Array(P);var q,B=_.pixelBitlength-_.bits;for(j=0,F=0;j<P;j++){for(O=M[j],q=0;q<B;)N[F++]=O>>>q&255,q+=_.bits;D[j]=O>>>q&255}}if(_.bits===16){P=(M=new Uint32Array(_.decodePixels().buffer)).length,N=new Uint8Array(P*(32/_.pixelBitlength)*_.colors),D=new Uint8Array(P*(32/_.pixelBitlength)),C=_.colors>1,j=0,F=0;for(var z=0;j<P;)O=M[j++],N[F++]=O>>>0&255,C&&(N[F++]=O>>>16&255,O=M[j++],N[F++]=O>>>0&255),D[z++]=O>>>16&255;g=8}x!==t.image_compression.NONE&&e()?(h=n(N,_.width*_.colors,_.colors,x),E=n(D,_.width,1,x)):(h=N,E=D,Z=void 0)}if(_.colorType===3&&(y=this.color_spaces.INDEXED,A=_.palette,_.transparency.indexed)){var $=_.transparency.indexed,X=0;for(j=0,P=$.length;j<P;++j)X+=$[j];if((X/=255)===P-1&&$.indexOf(0)!==-1)b=[$.indexOf(0)];else if(X!==P){for(M=_.decodePixels(),D=new Uint8Array(M.length),j=0,P=M.length;j<P;j++)D[j]=$[M[j]];E=n(D,_.width,1)}}var k=function(V){var G;switch(V){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(x);return Z===this.decode.FLATE_DECODE&&(H="/Predictor "+k+" "),H+="/Colors "+S+" /BitsPerComponent "+g+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:m,data:h,index:d,filter:Z,decodeParameters:H,transparency:b,palette:A,sMask:E,predictor:k,width:_.width,height:_.height,bitsPerComponent:g,colorSpace:y}}}})(un.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new EMe(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new mA(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(un.API),Wl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Lr.log("bit decode error:"+n)}},Wl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Wl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Wl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Wl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Wl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Wl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Wl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Wl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Wl(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new mA(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(un.API),CD.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new CD(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new mA(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(un.API),un.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],h=r[u+2],d=r[u+3];a[s++]=c,a[s++]=f,a[s++]=h,o[l++]=d}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},un.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rm=un.API,lx=rm.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,d=t.length,m=0,x=s[0]||l,y=[];for(n=0;n<d;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=f&&gr(u[r])==="object"&&!isNaN(parseInt(u[r][m],10))?u[r][m]/c:0,y.push((s[r]||x)/l+h)),m=r;return y},MD=rm.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return rm.processArabic&&(t=rm.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:lx.apply(this,arguments).reduce(function(a,o){return a+o},0)},ED=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},TD=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],h=n.textIndent||0,d=0,m=0,x=t.split(" "),y=lx.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),_=[];x.map(function(S){(S=S.split(/\s*\n/)).length>1?_=_.concat(S.map(function(A,E){return(E&&A.length?`
`:"")+A})):_.push(S[0])}),x=_,l=MD.apply(this,[g,n])}for(a=0,o=x.length;a<o;a++){var b=0;if(r=x[a],l&&r[0]==`
`&&(r=r.substr(1),b=1),h+d+(m=(i=lx.apply(this,[r,n])).reduce(function(S,A){return S+A},0))>e||b){if(m>e){for(s=ED.apply(this,[r,i,e-(h+d),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);m=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(S,A){return S+A},0)}else c=[r];f.push(c),h=m+l,d=y}else c.push(r),h+=d+m,d=y}return u=l?function(S,A){return(A?g:"")+S.join(" ")}:function(S){return S.join(" ")},f.map(u)},rm.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(TD.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,d,m,x,y=["{"];for(var g in f){if(h=f[g],isNaN(parseInt(g,10))?d="'"+g+"'":(g=parseInt(g,10),d=(d=a(g).slice(2)).slice(0,-1)+r[d.slice(-1)]),typeof h=="number")h<0?(m=a(h).slice(3),x="-"):(m=a(h).slice(2),x=""),m=x+m.slice(0,-1)+r[m.slice(-1)];else{if(gr(h)!=="object")throw new Error("Don't know what to do with value type "+gr(h)+".");m=o(h)}y.push(d+m)}return y.push("}"),y.join("")},s=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,m,x,y={},g=1,_=y,b=[],S="",A="",E=f.length-1,M=1;M<E;M+=1)(x=f[M])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(b.push([_,m]),_={},m=void 0):x=="}"?((d=b.pop())[0][d[1]]=_,m=void 0,_=d[0]):x=="-"?g=-1:m===void 0?n.hasOwnProperty(x)?(S+=n[x],m=parseInt(S,16)*g,g=1,S=""):S+=x:n.hasOwnProperty(x)?(A+=n[x],_[m]=parseInt(A,16)*g,g=1,m=void 0,A=""):A+=x;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,d=c.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(un.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(p0(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(un),function(t){function e(){return(dn.canvg?Promise.resolve(dn.canvg):C3(()=>import("./index.es-DJleui_Q.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}un.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw Lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(m){return m.fromString(f,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),un.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},un.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function h(m,x){var y,g=!1;for(y=0;y<m.length;y+=1)m[y]===x&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=s.length;for(f=0;f<d;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(gr(t)==="object"){for(i in t)if(a=t[i],h(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,x=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?x.push("/"+m+" /"+n[m].value):x.push("/"+m+" "+n[m].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(un.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,h=a.length;f<h;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(a).sort(function(d,m){return d-m})).length;f<h;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),d="",m=0;m<h.length;m++)d+=String.fromCharCode(h[m]);var x=u();c({data:d,addLength1:!0,objectId:x}),l("endobj");var y=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var g=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+lm(s.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+lm(s.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+lm(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var m=u();c({data:h,addLength1:!0,objectId:m}),l("endobj");var x=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+lm(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var g=0;g<s.metadata.hmtx.widths.length;g++)s.metadata.hmtx.widths[g]=parseInt(s.metadata.hmtx.widths[g]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+lm(s.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},h=f.pdfEscape,d=f.activeFontKey,m=f.fonts,x=d,y="",g=0,_="",b=m[x].encoding;if(m[x].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(_=s,x=d,Array.isArray(s)&&(_=s[0]),g=0;g<_.length;g+=1)m[x].metadata.hasOwnProperty("cmap")&&(o=m[x].metadata.cmap.unicode.codeMap[_[g].charCodeAt(0)]),o||_[g].charCodeAt(0)<256&&m[x].metadata.hasOwnProperty("Unicode")?y+=_[g]:y+="";var S="";return parseInt(x.slice(1))<14||b==="WinAnsiEncoding"?S=h(y,x).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(S=n(y,m[x])),f.isHex=!0,{text:S,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(un),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(un.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,b=0;this.__bidiEngine__={};var S=function(C){var O=C.charCodeAt(),j=O>>8,F=x[j];return F!==void 0?f[256*F+(255&O)]:j===252||j===253?"AL":g.test(j)?"L":j===8?"R":"N"},A=function(C){for(var O,j=0;j<C.length;j++){if((O=S(C.charAt(j)))==="L")return!1;if(O==="R")return!0}return!1},E=function(C,O,j,F){var Z,H,q,B,z=O[F];switch(z){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(z="AN");break;case"AL":_=!0,z="R";break;case"WS":z="N";break;case"CS":F<1||F+1>=O.length||(Z=j[F-1])!=="EN"&&Z!=="AN"||(H=O[F+1])!=="EN"&&H!=="AN"?z="N":_&&(H="AN"),z=H===Z?H:"N";break;case"ES":z=(Z=F>0?j[F-1]:"B")==="EN"&&F+1<O.length&&O[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&j[F-1]==="EN"){z="EN";break}if(_){z="N";break}for(q=F+1,B=O.length;q<B&&O[q]==="ET";)q++;z=q<B&&O[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(B=O.length,q=F+1;q<B&&O[q]==="NSM";)q++;if(q<B){var $=C[F],X=$>=1425&&$<=2303||$===64286;if(Z=O[q],X&&(Z==="R"||Z==="AL")){z="R";break}}}z=F<1||(Z=O[F-1])==="B"?"N":j[F-1];break;case"B":_=!1,i=!0,z=b;break;case"S":a=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":z="N"}return z},M=function(C,O,j){var F=C.split("");return j&&P(F,j,{hiLevel:b}),F.reverse(),O&&O.reverse(),F.join("")},P=function(C,O,j){var F,Z,H,q,B,z=-1,$=C.length,X=0,k=[],V=b?d:h,G=[];for(_=!1,i=!1,a=!1,Z=0;Z<$;Z++)G[Z]=S(C[Z]);for(H=0;H<$;H++){if(B=X,k[H]=E(C,G,k,H),F=240&(X=V[B][m[k[H]]]),X&=15,O[H]=q=V[X][5],F>0)if(F===16){for(Z=z;Z<H;Z++)O[Z]=1;z=-1}else z=-1;if(V[X][6])z===-1&&(z=H);else if(z>-1){for(Z=z;Z<H;Z++)O[Z]=q;z=-1}G[H]==="B"&&(O[H]=0),j.hiLevel|=q}a&&function(K,ne,ue){for(var he=0;he<ue;he++)if(K[he]==="S"){ne[he]=b;for(var ce=he-1;ce>=0&&K[ce]==="WS";ce--)ne[ce]=b}}(G,O,$)},D=function(C,O,j,F,Z){if(!(Z.hiLevel<C)){if(C===1&&b===1&&!i)return O.reverse(),void(j&&j.reverse());for(var H,q,B,z,$=O.length,X=0;X<$;){if(F[X]>=C){for(B=X+1;B<$&&F[B]>=C;)B++;for(z=X,q=B-1;z<q;z++,q--)H=O[z],O[z]=O[q],O[q]=H,j&&(H=j[z],j[z]=j[q],j[q]=H);X=B}X++}}},N=function(C,O,j){var F=C.split(""),Z={hiLevel:b};return j||(j=[]),P(F,j,Z),function(H,q,B){if(B.hiLevel!==0&&c)for(var z,$=0;$<H.length;$++)q[$]===1&&(z=y.indexOf(H[$]))>=0&&(H[$]=y[z+1])}(F,j,Z),D(2,F,O,j,Z),D(1,F,O,j,Z),F.join("")};return this.__bidiEngine__.doBidiReorder=function(C,O,j){if(function(Z,H){if(H)for(var q=0;q<Z.length;q++)H[q]=q;s===void 0&&(s=A(Z)),u===void 0&&(u=A(Z))}(C,O),o||!l||u)if(o&&l&&s^u)b=s?1:0,C=M(C,O,j);else if(!o&&l&&u)b=s?1:0,C=N(C,O,j),C=M(C,O);else if(!o||s||l||u){if(o&&!l&&s^u)C=M(C,O),s?(b=0,C=N(C,O,j)):(b=1,C=N(C,O,j),C=M(C,O));else if(o&&s&&!l&&u)b=1,C=N(C,O,j),C=M(C,O);else if(!o&&!l&&s^u){var F=c;s?(b=1,C=N(C,O,j),b=0,c=!1,C=N(C,O,j),c=F):(b=0,C=N(C,O,j),C=M(C,O),b=1,c=!1,C=N(C,O,j),c=F,C=M(C,O))}}else b=0,C=N(C,O,j);else b=s?1:0,C=N(C,O,j);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,l=C.isOutputVisual,s=C.isInputRtl,u=C.isOutputRtl,c=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(un),un.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ch(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new jMe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new TMe(this.contents),this.head=new CMe(this),this.name=new IMe(this),this.cmap=new U9(this),this.toUnicode={},this.hhea=new LMe(this),this.maxp=new kMe(this),this.hmtx=new DMe(this),this.post=new OMe(this),this.os2=new NMe(this),this.loca=new zMe(this),this.glyf=new FMe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var fu,ch=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),TMe=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,h,d,m,x;for(x in d=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),o=Math.floor(f/l),c=16*d-f,(i=new ch).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*d,u=i.pos+a,s=null,m=[],n)for(h=n[x],i.writeString(x),i.writeInt(t(h)),i.writeInt(u),i.writeInt(h.length),m=m.concat(h),x==="head"&&(s=u),u+=h.length;u%4;)m.push(0),u++;return i.write(m),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=B9.call(n);n.length%4;)n.push(0);for(a=new ch(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),PMe={}.hasOwnProperty,Wu=function(t,e){for(var n in e)PMe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};fu=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var CMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new ch).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),LD=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,h,d,m,x,y,g,_,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,a=function(){var S,A;for(A=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)A.push(e.readUInt16());return A}(),e.pos+=2,x=function(){var S,A;for(A=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)A.push(e.readUInt16());return A}(),u=function(){var S,A;for(A=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)A.push(e.readUInt16());return A}(),c=function(){var S,A;for(A=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)A.push(e.readUInt16());return A}(),i=(this.length-e.pos+this.offset)/2,s=function(){var S,A;for(A=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)A.push(e.readUInt16());return A}(),l=g=0,b=a.length;g<b;l=++g)for(y=a[l],r=_=m=x[l];m<=y?_<=y:_>=y;r=m<=y?++_:--_)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-m)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,d,m,x,y,g,_,b,S,A,E,M,P,D,N,C,O,j,F,Z,H,q,B,z,$,X,k,V,G,K,ne,ue,he,ce,Me,ye,J;switch(F=new ch,o=Object.keys(e).sort(function(Ee,Ae){return Ee-Ae}),n){case"macroman":for(x=0,y=function(){var Ee=[];for(m=0;m<256;++m)Ee.push(0);return Ee}(),_={0:0},a={},Z=0,z=o.length;Z<z;Z++)_[ce=e[i=o[Z]]]==null&&(_[ce]=++x),a[i]={old:e[i],new:_[e[i]]},y[i]=_[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(y),{charMap:a,subtable:F.data,maxGlyphID:x+1};case"unicode":for(O=[],f=[],b=0,_={},r={},g=u=null,H=0,$=o.length;H<$;H++)_[A=e[i=o[H]]]==null&&(_[A]=++b),r[i]={old:A,new:_[A]},s=_[A]-i,g!=null&&s===u||(g&&f.push(g),O.push(i),u=s),g=i;for(g&&f.push(g),f.push(65535),O.push(65535),N=2*(D=O.length),P=2*Math.pow(Math.log(D)/Math.LN2,2),h=Math.log(P/2)/Math.LN2,M=2*D-P,l=[],E=[],d=[],m=q=0,X=O.length;q<X;m=++q){if(C=O[m],c=f[m],C===65535){l.push(0),E.push(0);break}if(C-(j=r[C].new)>=32768)for(l.push(0),E.push(2*(d.length+D-m)),i=B=C;C<=c?B<=c:B>=c;i=C<=c?++B:--B)d.push(r[i].new);else l.push(j-C),E.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*D+2*d.length),F.writeUInt16(0),F.writeUInt16(N),F.writeUInt16(P),F.writeUInt16(h),F.writeUInt16(M),ue=0,k=f.length;ue<k;ue++)i=f[ue],F.writeUInt16(i);for(F.writeUInt16(0),he=0,V=O.length;he<V;he++)i=O[he],F.writeUInt16(i);for(Me=0,G=l.length;Me<G;Me++)s=l[Me],F.writeUInt16(s);for(ye=0,K=E.length;ye<K;ye++)S=E[ye],F.writeUInt16(S);for(J=0,ne=d.length;J<ne;J++)x=d[J],F.writeUInt16(x);return{charMap:r,subtable:F.data,maxGlyphID:b+1}}},t}(),U9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new LD(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=LD.encode(n,r),(a=new ch).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),LMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),NMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),OMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},e}(),RMe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},IMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,o,s,l,u,c,f,h,d;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,h=i.length;f<h;o=++f)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new RMe(c,a),u[d=a.nameID]==null&&(u[d]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),kMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),DMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(n.readInt16());return f}(),this.widths=(function(){var c,f,h,d;for(d=[],c=0,f=(h=this.metrics).length;c<f;c++)o=h[c],d.push(o.advance);return d}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),B9=[].slice,FMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,f,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new ch(r.read(a))).readShort(),c=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=s===-1?new BMe(l,c,h,u,f):new UMe(l,s,c,h,u,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),UMe=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),BMe=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ch(B9.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),zMe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wu(e,fu),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},e}(),jMe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,d,m,x,y,g;for(i in r=U9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},g=r.charMap)d[(l=g[i]).old]=l.new;for(m in h=r.maxGlyphID,o)m in d||(d[m]=h++);return c=function(_){var b,S;for(b in S={},_)S[_[b]]=b;return S}(d),f=Object.keys(c).sort(function(_,b){return _-b}),x=function(){var _,b,S;for(S=[],_=0,b=f.length;_<b;_++)s=f[_],S.push(c[s]);return S}(),a=this.font.glyf.encode(o,x,d),u=this.font.loca.encode(a.offsets,x),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();un.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const HMe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:xMe,AcroFormAppearance:$t,AcroFormButton:ha,AcroFormCheckBox:v0,AcroFormChoiceField:Rd,AcroFormComboBox:kd,AcroFormEditBox:m0,AcroFormListBox:Id,AcroFormPasswordField:y0,AcroFormPushButton:g0,AcroFormRadioButton:Dd,AcroFormTextField:ih,GState:jy,ShadingPattern:Bf,TilingPattern:_d,default:un,jsPDF:un},Symbol.toStringTag,{value:"Module"}));var WMe={exports:{}};const GMe=q9(HMe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return GMe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof ld<"u"?ld:typeof window<"u"?window:typeof self<"u"?self:ld,function(n){return function(){var r={172:function(s,l){var u=this&&this.__extends||function(){var h=function(d,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(x[g]=y[g])},h(d,m)};return function(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(d,m);function x(){this.constructor=d}d.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function h(d,m,x){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=x,this.doc=d.getDocument()}return h}();l.HookData=c;var f=function(h){u(d,h);function d(m,x,y,g,_,b){var S=h.call(this,m,x,b)||this;return S.cell=y,S.row=g,S.column=_,S.section=g.section,S}return d}(c);l.CellHookData=f},340:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),h=u(744),d=u(776),m=u(664),x=u(972);function y(g){g.API.autoTable=function(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];var S;_.length===1?S=_[0]:(console.error("Use of deprecated autoTable initiation"),S=_[2]||{},S.columns=_[0],S.body=_[1]);var A=(0,d.parseInput)(this,S),E=(0,x.createTable)(this,A);return(0,m.drawTable)(this,E),this},g.API.lastAutoTable=!1,g.API.previousAutoTable=!1,g.API.autoTable.previous=!1,g.API.autoTableText=function(_,b,S,A){(0,f.default)(_,b,S,A,this)},g.API.autoTableSetDefaults=function(_){return h.DocHandler.setDefaults(_,this),this},g.autoTableSetDefaults=function(_,b){h.DocHandler.setDefaults(_,b)},g.API.autoTableHtmlToJson=function(_,b){var S;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var A=new h.DocHandler(this),E=(0,c.parseHtml)(A,_,window,b,!1),M=E.head,P=E.body,D=((S=M[0])===null||S===void 0?void 0:S.map(function(N){return N.content}))||[];return{columns:D,rows:P,data:P}},g.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var _=this.lastAutoTable;return _&&_.finalY?_.finalY:0},g.API.autoTableAddPageContent=function(_){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),g.API.autoTable.globalDefaults||(g.API.autoTable.globalDefaults={}),g.API.autoTable.globalDefaults.addPageContent=_,this},g.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=y},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,h,d,m){d=d||{};var x=1.15,y=m.internal.scaleFactor,g=m.internal.getFontSize()/y,_=m.getLineHeightFactor?m.getLineHeightFactor():x,b=g*_,S=/\r\n|\r|\n/g,A="",E=1;if((d.valign==="middle"||d.valign==="bottom"||d.halign==="center"||d.halign==="right")&&(A=typeof c=="string"?c.split(S):c,E=A.length||1),h+=g*(2-x),d.valign==="middle"?h-=E/2*b:d.valign==="bottom"&&(h-=E*b),d.halign==="center"||d.halign==="right"){var M=g;if(d.halign==="center"&&(M*=.5),A&&E>=1){for(var P=0;P<A.length;P++)m.text(A[P],f-m.getStringUnitWidth(A[P])*M,h),h+=b;return m}f-=m.getStringUnitWidth(c)*M}return d.halign==="justify"?m.text(c,f,h,{maxWidth:d.maxWidth||100,align:"justify"}):m.text(c,f,h),m}l.default=u},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(m,x,y){y.applyStyles(x,!0);var g=Array.isArray(m)?m:[m],_=g.map(function(b){return y.getTextWidth(b)}).reduce(function(b,S){return Math.max(b,S)},0);return _}l.getStringWidth=u;function c(m,x,y,g){var _=x.settings.tableLineWidth,b=x.settings.tableLineColor;m.applyStyles({lineWidth:_,lineColor:b});var S=f(_,!1);S&&m.rect(y.x,y.y,x.getWidth(m.pageSize().width),g.y-y.y,S)}l.addTableBorder=c;function f(m,x){var y=m>0,g=x||x===0;return y&&g?"DF":y?"S":g?"F":null}l.getFillStyle=f;function h(m,x){var y,g,_,b;if(m=m||x,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=x}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(y=m.left)!==null&&y!==void 0?y:x,top:(g=m.top)!==null&&g!==void 0?g:x,right:(_=m.right)!==null&&_!==void 0?_:x,bottom:(b=m.bottom)!==null&&b!==void 0?b:x}):(typeof m!="number"&&(m=x),{top:m,right:m,bottom:m,left:m})}l.parseSpacing=h;function d(m,x){var y=h(x.settings.margin,0);return m.pageSize().width-(y.left+y.right)}l.getPageAvailableWidth=d},796:function(s,l){var u=this&&this.__extends||function(){var d=function(m,x){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(y[_]=g[_])},d(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");d(m,x);function y(){this.constructor=m}m.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(d){u(m,d);function m(x){var y=d.call(this)||this;return y._element=x,y}return m}(Array);l.HtmlRowInput=c;function f(d){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/d,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function h(d){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[d]}l.getTheme=h},903:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(y,g,_,b,S){var A={},E=1.3333333333333333,M=d(g,function(z){return S.getComputedStyle(z).backgroundColor});M!=null&&(A.fillColor=M);var P=d(g,function(z){return S.getComputedStyle(z).color});P!=null&&(A.textColor=P);var D=x(b,_);D&&(A.cellPadding=D);var N="borderTopColor",C=E*_,O=b.borderTopWidth;if(b.borderBottomWidth===O&&b.borderRightWidth===O&&b.borderLeftWidth===O){var j=(parseFloat(O)||0)/C;j&&(A.lineWidth=j)}else A.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/C,right:(parseFloat(b.borderRightWidth)||0)/C,bottom:(parseFloat(b.borderBottomWidth)||0)/C,left:(parseFloat(b.borderLeftWidth)||0)/C},A.lineWidth.top||(A.lineWidth.right?N="borderRightColor":A.lineWidth.bottom?N="borderBottomColor":A.lineWidth.left&&(N="borderLeftColor"));var F=d(g,function(z){return S.getComputedStyle(z)[N]});F!=null&&(A.lineColor=F);var Z=["left","right","center","justify"];Z.indexOf(b.textAlign)!==-1&&(A.halign=b.textAlign),Z=["middle","bottom","top"],Z.indexOf(b.verticalAlign)!==-1&&(A.valign=b.verticalAlign);var H=parseInt(b.fontSize||"");isNaN(H)||(A.fontSize=H/E);var q=h(b);q&&(A.fontStyle=q);var B=(b.fontFamily||"").toLowerCase();return y.indexOf(B)!==-1&&(A.font=B),A}l.parseCss=f;function h(y){var g="";return(y.fontWeight==="bold"||y.fontWeight==="bolder"||parseInt(y.fontWeight)>=700)&&(g="bold"),(y.fontStyle==="italic"||y.fontStyle==="oblique")&&(g+="italic"),g}function d(y,g){var _=m(y,g);if(!_)return null;var b=_.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var S=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],A=parseInt(b[4]);return A===0||isNaN(S[0])||isNaN(S[1])||isNaN(S[2])?null:S}function m(y,g){var _=g(y);return _==="rgba(0, 0, 0, 0)"||_==="transparent"||_==="initial"||_==="inherit"?y.parentElement==null?null:m(y.parentElement,g):_}function x(y,g){var _=[y.paddingTop,y.paddingRight,y.paddingBottom,y.paddingLeft],b=96/(72/g),S=(parseInt(y.lineHeight)-parseInt(y.fontSize))/g/2,A=_.map(function(M){return parseInt(M||"0")/b}),E=(0,c.parseSpacing)(A,0);return S>E.top&&(E.top=S),S>E.bottom&&(E.bottom=S),E}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,d){d===void 0&&(d=null),d?d.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,d){var m,x,y;d===void 0&&(d=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var g=this.jsPDFDocument.internal.getFont(),_=g.fontStyle,b=g.fontName;if(h.font&&(b=h.font),h.fontStyle){_=h.fontStyle;var S=this.getFontList()[b];S&&S.indexOf(_)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(S[0]),_=S[0])}if(this.jsPDFDocument.setFont(b,_),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!d){var A=f.unifyColor(h.fillColor);A&&(m=this.jsPDFDocument).setFillColor.apply(m,A),A=f.unifyColor(h.textColor),A&&(x=this.jsPDFDocument).setTextColor.apply(x,A),A=f.unifyColor(h.lineColor),A&&(y=this.jsPDFDocument).setDrawColor.apply(y,A),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,d,m){return this.jsPDFDocument.splitTextToSize(h,d,m)},f.prototype.rect=function(h,d,m,x,y){return this.jsPDFDocument.rect(h,d,m,x,y)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function h(x,y,g,_,b){var S,A;_===void 0&&(_=!1),b===void 0&&(b=!1);var E;typeof y=="string"?E=g.document.querySelector(y):E=y;var M=Object.keys(x.getFontList()),P=x.scaleFactor(),D=[],N=[],C=[];if(!E)return console.error("Html table could not be found with input: ",y),{head:D,body:N,foot:C};for(var O=0;O<E.rows.length;O++){var j=E.rows[O],F=(A=(S=j==null?void 0:j.parentElement)===null||S===void 0?void 0:S.tagName)===null||A===void 0?void 0:A.toLowerCase(),Z=d(M,P,g,j,_,b);Z&&(F==="thead"?D.push(Z):F==="tfoot"?C.push(Z):N.push(Z))}return{head:D,body:N,foot:C}}l.parseHtml=h;function d(x,y,g,_,b,S){for(var A=new f.HtmlRowInput(_),E=0;E<_.cells.length;E++){var M=_.cells[E],P=g.getComputedStyle(M);if(b||P.display!=="none"){var D=void 0;S&&(D=(0,c.parseCss)(x,M,y,P,g)),A.push({rowSpan:M.rowSpan,colSpan:M.colSpan,styles:D,_element:M,content:m(M)})}}var N=g.getComputedStyle(_);if(A.length>0&&(b||N.display!=="none"))return A}function m(x){var y=x.cloneNode(!0);return y.innerHTML=y.innerHTML.replace(/\n/g,"").replace(/ +/g," "),y.innerHTML=y.innerHTML.split(/<br.*?>/).map(function(g){return g.trim()}).join(`
`),y.innerText||y.textContent||""}},776:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),h=u(420),d=u(744),m=u(792);function x(E,M){var P=new d.DocHandler(E),D=P.getDocumentOptions(),N=P.getGlobalOptions();(0,m.default)(P,N,D,M);var C=(0,f.assign)({},N,D,M),O;typeof window<"u"&&(O=window);var j=y(N,D,M),F=g(N,D,M),Z=_(P,C),H=S(P,C,O);return{id:M.tableId,content:H,hooks:F,styles:j,settings:Z}}l.parseInput=x;function y(E,M,P){for(var D={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},N=function(F){if(F==="columnStyles"){var Z=E[F],H=M[F],q=P[F];D.columnStyles=(0,f.assign)({},Z,H,q)}else{var B=[E,M,P],z=B.map(function($){return $[F]||{}});D[F]=(0,f.assign)({},z[0],z[1],z[2])}},C=0,O=Object.keys(D);C<O.length;C++){var j=O[C];N(j)}return D}function g(E,M,P){for(var D=[E,M,P],N={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,O=D;C<O.length;C++){var j=O[C];j.didParseCell&&N.didParseCell.push(j.didParseCell),j.willDrawCell&&N.willDrawCell.push(j.willDrawCell),j.didDrawCell&&N.didDrawCell.push(j.didDrawCell),j.willDrawPage&&N.willDrawPage.push(j.willDrawPage),j.didDrawPage&&N.didDrawPage.push(j.didDrawPage)}return N}function _(E,M){var P,D,N,C,O,j,F,Z,H,q,B,z,$=(0,h.parseSpacing)(M.margin,40/E.scaleFactor()),X=(P=b(E,M.startY))!==null&&P!==void 0?P:$.top,k;M.showFoot===!0?k="everyPage":M.showFoot===!1?k="never":k=(D=M.showFoot)!==null&&D!==void 0?D:"everyPage";var V;M.showHead===!0?V="everyPage":M.showHead===!1?V="never":V=(N=M.showHead)!==null&&N!==void 0?N:"everyPage";var G=(C=M.useCss)!==null&&C!==void 0?C:!1,K=M.theme||(G?"plain":"striped"),ne=!!M.horizontalPageBreak,ue=(O=M.horizontalPageBreakRepeat)!==null&&O!==void 0?O:null;return{includeHiddenHtml:(j=M.includeHiddenHtml)!==null&&j!==void 0?j:!1,useCss:G,theme:K,startY:X,margin:$,pageBreak:(F=M.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(Z=M.rowPageBreak)!==null&&Z!==void 0?Z:"auto",tableWidth:(H=M.tableWidth)!==null&&H!==void 0?H:"auto",showHead:V,showFoot:k,tableLineWidth:(q=M.tableLineWidth)!==null&&q!==void 0?q:0,tableLineColor:(B=M.tableLineColor)!==null&&B!==void 0?B:200,horizontalPageBreak:ne,horizontalPageBreakRepeat:ue,horizontalPageBreakBehaviour:(z=M.horizontalPageBreakBehaviour)!==null&&z!==void 0?z:"afterAllRows"}}function b(E,M){var P=E.getLastAutoTable(),D=E.scaleFactor(),N=E.pageNumber(),C=!1;if(P&&P.startPageNumber){var O=P.startPageNumber+P.pageNumber-1;C=O===N}return typeof M=="number"?M:(M==null||M===!1)&&C&&(P==null?void 0:P.finalY)!=null?P.finalY+20/D:null}function S(E,M,P){var D=M.head||[],N=M.body||[],C=M.foot||[];if(M.html){var O=M.includeHiddenHtml;if(P){var j=(0,c.parseHtml)(E,M.html,P,O,M.useCss)||{};D=j.head||D,N=j.body||D,C=j.foot||D}else console.error("Cannot parse html in non browser environment")}var F=M.columns||A(D,N,C);return{columns:F,head:D,body:N,foot:C}}function A(E,M,P){var D=E[0]||M[0]||P[0]||[],N=[];return Object.keys(D).filter(function(C){return C!=="_element"}).forEach(function(C){var O=1,j;Array.isArray(D)?j=D[parseInt(C)]:j=D[C],typeof j=="object"&&!Array.isArray(j)&&(O=(j==null?void 0:j.colSpan)||1);for(var F=0;F<O;F++){var Z=void 0;Array.isArray(D)?Z=N.length:Z=C+(F>0?"_".concat(F):"");var H={dataKey:Z};N.push(H)}}),N}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,h,d,m){for(var x=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(C){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(C),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(C),f.applyStyles(f.userStyles),b.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){b[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var O=C[0],j=C[1];b[j]&&(console.error("Use of deprecated option ".concat(j,". Use ").concat(O," instead")),b[O]=b[j])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var O=typeof C=="string"?C:C[0],j=typeof C=="string"?C:C[1];typeof b[O]<"u"&&(typeof b.styles[j]>"u"&&(b.styles[j]=b[O]),console.error("Use of deprecated option: "+O+", use the style "+j+" instead."))});for(var S=0,A=["styles","bodyStyles","headStyles","footStyles"];S<A.length;S++){var E=A[S];c(b[E]||{})}for(var M=b.columnStyles||{},P=0,D=Object.keys(M);P<D.length;P++){var N=D[P];c(M[N]||{})}},y=0,g=[h,d,m];y<g.length;y++){var _=g[y];x(_)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),h=u(420),d=function(){function g(_,b){this.pageNumber=1,this.pageCount=1,this.id=_.id,this.settings=_.settings,this.styles=_.styles,this.hooks=_.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return g.prototype.getHeadHeight=function(_){return this.head.reduce(function(b,S){return b+S.getMaxCellHeight(_)},0)},g.prototype.getFootHeight=function(_){return this.foot.reduce(function(b,S){return b+S.getMaxCellHeight(_)},0)},g.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},g.prototype.callCellHooks=function(_,b,S,A,E,M){for(var P=0,D=b;P<D.length;P++){var N=D[P],C=new f.CellHookData(_,this,S,A,E,M),O=N(C)===!1;if(S.text=Array.isArray(S.text)?S.text:[S.text],O)return!1}return!0},g.prototype.callEndPageHooks=function(_,b){_.applyStyles(_.userStyles);for(var S=0,A=this.hooks.didDrawPage;S<A.length;S++){var E=A[S];E(new f.HookData(_,this,b))}},g.prototype.callWillDrawPageHooks=function(_,b){for(var S=0,A=this.hooks.willDrawPage;S<A.length;S++){var E=A[S];E(new f.HookData(_,this,b))}},g.prototype.getWidth=function(_){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(A,E){return A+E.wrappedWidth},0);return b}else{var S=this.settings.margin;return _-S.left-S.right}},g}();l.Table=d;var m=function(){function g(_,b,S,A,E){E===void 0&&(E=!1),this.height=0,this.raw=_,_ instanceof c.HtmlRowInput&&(this.raw=_._element,this.element=_._element),this.index=b,this.section=S,this.cells=A,this.spansMultiplePages=E}return g.prototype.getMaxCellHeight=function(_){var b=this;return _.reduce(function(S,A){var E;return Math.max(S,((E=b.cells[A.index])===null||E===void 0?void 0:E.height)||0)},0)},g.prototype.hasRowSpan=function(_){var b=this;return _.filter(function(S){var A=b.cells[S.index];return A?A.rowSpan>1:!1}).length>0},g.prototype.canEntireRowFit=function(_,b){return this.getMaxCellHeight(b)<=_},g.prototype.getMinimumRowHeight=function(_,b){var S=this;return _.reduce(function(A,E){var M=S.cells[E.index];if(!M)return 0;var P=b.getLineHeight(M.styles.fontSize),D=M.padding("vertical"),N=D+P;return N>A?N:A},0)},g}();l.Row=m;var x=function(){function g(_,b,S){var A,E;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=S,this.raw=_;var M=_;_!=null&&typeof _=="object"&&!Array.isArray(_)?(this.rowSpan=_.rowSpan||1,this.colSpan=_.colSpan||1,M=(E=(A=_.content)!==null&&A!==void 0?A:_.title)!==null&&E!==void 0?E:_,_._element&&(this.raw=_._element)):(this.rowSpan=1,this.colSpan=1);var P=M!=null?""+M:"",D=/\r\n|\r|\n/g;this.text=P.split(D)}return g.prototype.getTextPos=function(){var _;if(this.styles.valign==="top")_=this.y+this.padding("top");else if(this.styles.valign==="bottom")_=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");_=this.y+b/2+this.padding("top")}var S;if(this.styles.halign==="right")S=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var A=this.width-this.padding("horizontal");S=this.x+A/2+this.padding("left")}else S=this.x+this.padding("left");return{x:S,y:_}},g.prototype.getContentHeight=function(_,b){b===void 0&&(b=1.15);var S=Array.isArray(this.text)?this.text.length:1,A=this.styles.fontSize/_*b,E=S*A+this.padding("vertical");return Math.max(E,this.styles.minCellHeight)},g.prototype.padding=function(_){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return _==="vertical"?b.top+b.bottom:_==="horizontal"?b.left+b.right:b[_]},g}();l.Cell=x;var y=function(){function g(_,b,S){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=_,this.raw=b,this.index=S}return g.prototype.getMaxCustomCellWidth=function(_){for(var b=0,S=0,A=_.allRows();S<A.length;S++){var E=A[S],M=E.cells[this.index];M&&typeof M.styles.cellWidth=="number"&&(b=Math.max(b,M.styles.cellWidth))}return b},g}();l.Column=y},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,h,d,m){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(c),y=1;y<arguments.length;y++){var g=arguments[y];if(g!=null)for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(x[_]=g[_])}return x}l.assign=u},972:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),h=u(324),d=u(796),m=u(356);function x(E,M){var P=new c.DocHandler(E),D=y(M,P.scaleFactor()),N=new f.Table(M,D);return(0,h.calculateWidths)(P,N),P.applyStyles(P.userStyles),N}l.createTable=x;function y(E,M){var P=E.content,D=S(P.columns);if(P.head.length===0){var N=_(D,"head");N&&P.head.push(N)}if(P.foot.length===0){var N=_(D,"foot");N&&P.foot.push(N)}var C=E.settings.theme,O=E.styles;return{columns:D,head:g("head",P.head,D,O,C,M),body:g("body",P.body,D,O,C,M),foot:g("foot",P.foot,D,O,C,M)}}function g(E,M,P,D,N,C){var O={},j=M.map(function(F,Z){for(var H=0,q={},B=0,z=0,$=0,X=P;$<X.length;$++){var k=X[$];if(O[k.index]==null||O[k.index].left===0)if(z===0){var V=void 0;Array.isArray(F)?V=F[k.index-B-H]:V=F[k.dataKey];var G={};typeof V=="object"&&!Array.isArray(V)&&(G=(V==null?void 0:V.styles)||{});var K=A(E,k,Z,N,D,C,G),ne=new f.Cell(V,K,E);q[k.dataKey]=ne,q[k.index]=ne,z=ne.colSpan-1,O[k.index]={left:ne.rowSpan-1,times:z}}else z--,B++;else O[k.index].left--,z=O[k.index].times,H++}return new f.Row(F,Z,E,q)});return j}function _(E,M){var P={};return E.forEach(function(D){if(D.raw!=null){var N=b(M,D.raw);N!=null&&(P[D.dataKey]=N)}}),Object.keys(P).length>0?P:null}function b(E,M){if(E==="head"){if(typeof M=="object")return M.header||M.title||null;if(typeof M=="string"||typeof M=="number")return M}else if(E==="foot"&&typeof M=="object")return M.footer;return null}function S(E){return E.map(function(M,P){var D,N,C;return typeof M=="object"?C=(N=(D=M.dataKey)!==null&&D!==void 0?D:M.key)!==null&&N!==void 0?N:P:C=P,new f.Column(C,M,P)})}function A(E,M,P,D,N,C,O){var j=(0,d.getTheme)(D),F;E==="head"?F=N.headStyles:E==="body"?F=N.bodyStyles:E==="foot"&&(F=N.footStyles);var Z=(0,m.assign)({},j.table,j[E],N.styles,F),H=N.columnStyles[M.dataKey]||N.columnStyles[M.index]||{},q=E==="body"?H:{},B=E==="body"&&P%2===0?(0,m.assign)({},j.alternateRow,N.alternateRowStyles):{},z=(0,d.defaultStyles)(C),$=(0,m.assign)({},z,Z,B,q);return(0,m.assign)($,O)}},664:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),h=u(744),d=u(356),m=u(136),x=u(224);function y(H,q){var B=q.settings,z=B.startY,$=B.margin,X={x:$.left,y:z},k=q.getHeadHeight(q.columns)+q.getFootHeight(q.columns),V=z+$.bottom+k;if(B.pageBreak==="avoid"){var G=q.body,K=G.reduce(function(he,ce){return he+ce.height},0);V+=K}var ne=new h.DocHandler(H);(B.pageBreak==="always"||B.startY!=null&&V>ne.pageSize().height)&&(Z(ne),X.y=$.top),q.callWillDrawPageHooks(ne,X);var ue=(0,d.assign)({},X);q.startPageNumber=ne.pageNumber(),B.horizontalPageBreak?g(ne,q,ue,X):(ne.applyStyles(ne.userStyles),(B.showHead==="firstPage"||B.showHead==="everyPage")&&q.head.forEach(function(he){return N(ne,q,he,X,q.columns)}),ne.applyStyles(ne.userStyles),q.body.forEach(function(he,ce){var Me=ce===q.body.length-1;D(ne,q,he,Me,ue,X,q.columns)}),ne.applyStyles(ne.userStyles),(B.showFoot==="lastPage"||B.showFoot==="everyPage")&&q.foot.forEach(function(he){return N(ne,q,he,X,q.columns)})),(0,c.addTableBorder)(ne,q,ue,X),q.callEndPageHooks(ne,X),q.finalY=X.y,H.lastAutoTable=q,H.previousAutoTable=q,H.autoTable&&(H.autoTable.previous=q),ne.applyStyles(ne.userStyles)}l.drawTable=y;function g(H,q,B,z){var $=(0,x.calculateAllColumnsCanFitInPage)(H,q),X=q.settings;if(X.horizontalPageBreakBehaviour==="afterAllRows")$.forEach(function(K,ne){H.applyStyles(H.userStyles),ne>0?F(H,q,B,z,K.columns,!0):_(H,q,z,K.columns),b(H,q,B,z,K.columns),A(H,q,z,K.columns)});else for(var k=-1,V=$[0],G=function(){var K=k;if(V){H.applyStyles(H.userStyles);var ne=V.columns;k>=0?F(H,q,B,z,ne,!0):_(H,q,z,ne),K=S(H,q,k+1,z,ne),A(H,q,z,ne)}var ue=K-k;$.slice(1).forEach(function(he){H.applyStyles(H.userStyles),F(H,q,B,z,he.columns,!0),S(H,q,k+1,z,he.columns,ue),A(H,q,z,he.columns)}),k=K};k<q.body.length-1;)G()}function _(H,q,B,z){var $=q.settings;H.applyStyles(H.userStyles),($.showHead==="firstPage"||$.showHead==="everyPage")&&q.head.forEach(function(X){return N(H,q,X,B,z)})}function b(H,q,B,z,$){H.applyStyles(H.userStyles),q.body.forEach(function(X,k){var V=k===q.body.length-1;D(H,q,X,V,B,z,$)})}function S(H,q,B,z,$,X){H.applyStyles(H.userStyles),X=X??q.body.length;var k=Math.min(B+X,q.body.length),V=-1;return q.body.slice(B,k).forEach(function(G,K){var ne=B+K===q.body.length-1,ue=j(H,q,ne,z);G.canEntireRowFit(ue,$)&&(N(H,q,G,z,$),V=B+K)}),V}function A(H,q,B,z){var $=q.settings;H.applyStyles(H.userStyles),($.showFoot==="lastPage"||$.showFoot==="everyPage")&&q.foot.forEach(function(X){return N(H,q,X,B,z)})}function E(H,q,B){var z=B.getLineHeight(H.styles.fontSize),$=H.padding("vertical"),X=Math.floor((q-$)/z);return Math.max(0,X)}function M(H,q,B,z){var $={};H.spansMultiplePages=!0,H.height=0;for(var X=0,k=0,V=B.columns;k<V.length;k++){var G=V[k],K=H.cells[G.index];if(K){Array.isArray(K.text)||(K.text=[K.text]);var ne=new f.Cell(K.raw,K.styles,K.section);ne=(0,d.assign)(ne,K),ne.text=[];var ue=E(K,q,z);K.text.length>ue&&(ne.text=K.text.splice(ue,K.text.length));var he=z.scaleFactor(),ce=z.getLineHeightFactor();K.contentHeight=K.getContentHeight(he,ce),K.contentHeight>=q&&(K.contentHeight=q,ne.styles.minCellHeight-=q),K.contentHeight>H.height&&(H.height=K.contentHeight),ne.contentHeight=ne.getContentHeight(he,ce),ne.contentHeight>X&&(X=ne.contentHeight),$[G.index]=ne}}var Me=new f.Row(H.raw,-1,H.section,$,!0);Me.height=X;for(var ye=0,J=B.columns;ye<J.length;ye++){var G=J[ye],ne=Me.cells[G.index];ne&&(ne.height=Me.height);var K=H.cells[G.index];K&&(K.height=H.height)}return Me}function P(H,q,B,z){var $=H.pageSize().height,X=z.settings.margin,k=X.top+X.bottom,V=$-k;q.section==="body"&&(V-=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns));var G=q.getMinimumRowHeight(z.columns,H),K=G<B;if(G>V)return console.error("Will not be able to print row ".concat(q.index," correctly since it's minimum height is larger than page height")),!0;if(!K)return!1;var ne=q.hasRowSpan(z.columns),ue=q.getMaxCellHeight(z.columns)>V;return ue?(ne&&console.error("The content of row ".concat(q.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ne||z.settings.rowPageBreak==="avoid")}function D(H,q,B,z,$,X,k){var V=j(H,q,z,X);if(B.canEntireRowFit(V,k))N(H,q,B,X,k);else if(P(H,B,V,q)){var G=M(B,V,q,H);N(H,q,B,X,k),F(H,q,$,X,k),D(H,q,G,z,$,X,k)}else F(H,q,$,X,k),D(H,q,B,z,$,X,k)}function N(H,q,B,z,$){z.x=q.settings.margin.left;for(var X=0,k=$;X<k.length;X++){var V=k[X],G=B.cells[V.index];if(!G){z.x+=V.width;continue}H.applyStyles(G.styles),G.x=z.x,G.y=z.y;var K=q.callCellHooks(H,q.hooks.willDrawCell,G,B,V,z);if(K===!1){z.x+=V.width;continue}C(H,G,z);var ne=G.getTextPos();(0,m.default)(G.text,ne.x,ne.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},H.getDocument()),q.callCellHooks(H,q.hooks.didDrawCell,G,B,V,z),z.x+=V.width}z.y+=B.height}function C(H,q,B){var z=q.styles;if(H.getDocument().setFillColor(H.getDocument().getFillColor()),typeof z.lineWidth=="number"){var $=(0,c.getFillStyle)(z.lineWidth,z.fillColor);$&&H.rect(q.x,B.y,q.width,q.height,$)}else typeof z.lineWidth=="object"&&(z.fillColor&&H.rect(q.x,B.y,q.width,q.height,"F"),O(H,q,B,z.lineWidth))}function O(H,q,B,z){var $,X,k,V;z.top&&($=B.x,X=B.y,k=B.x+q.width,V=B.y,z.right&&(k+=.5*z.right),z.left&&($-=.5*z.left),G(z.top,$,X,k,V)),z.bottom&&($=B.x,X=B.y+q.height,k=B.x+q.width,V=B.y+q.height,z.right&&(k+=.5*z.right),z.left&&($-=.5*z.left),G(z.bottom,$,X,k,V)),z.left&&($=B.x,X=B.y,k=B.x,V=B.y+q.height,z.top&&(X-=.5*z.top),z.bottom&&(V+=.5*z.bottom),G(z.left,$,X,k,V)),z.right&&($=B.x+q.width,X=B.y,k=B.x+q.width,V=B.y+q.height,z.top&&(X-=.5*z.top),z.bottom&&(V+=.5*z.bottom),G(z.right,$,X,k,V));function G(K,ne,ue,he,ce){H.getDocument().setLineWidth(K),H.getDocument().line(ne,ue,he,ce,"S")}}function j(H,q,B,z){var $=q.settings.margin.bottom,X=q.settings.showFoot;return(X==="everyPage"||X==="lastPage"&&B)&&($+=q.getFootHeight(q.columns)),H.pageSize().height-z.y-$}function F(H,q,B,z,$,X){$===void 0&&($=[]),X===void 0&&(X=!1),H.applyStyles(H.userStyles),q.settings.showFoot==="everyPage"&&!X&&q.foot.forEach(function(V){return N(H,q,V,z,$)}),q.callEndPageHooks(H,z);var k=q.settings.margin;(0,c.addTableBorder)(H,q,B,z),Z(H),q.pageNumber++,q.pageCount++,z.x=k.left,z.y=k.top,B.y=k.top,q.callWillDrawPageHooks(H,z),q.settings.showHead==="everyPage"&&(q.head.forEach(function(V){return N(H,q,V,z,$)}),H.applyStyles(H.userStyles))}l.addPage=F;function Z(H){var q=H.pageNumber();H.setPage(q+1);var B=H.pageNumber();return B===q?(H.addPage(),!0):!1}},224:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(d,m,x){var y;x===void 0&&(x={});var g=(0,c.getPageAvailableWidth)(d,m),_=new Map,b=[],S=[],A=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?A=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(A=[m.settings.horizontalPageBreakRepeat]),A.forEach(function(D){var N=m.columns.find(function(C){return C.dataKey===D||C.index===D});N&&!_.has(N.index)&&(_.set(N.index,!0),b.push(N.index),S.push(m.columns[N.index]),g-=N.wrappedWidth)});for(var E=!0,M=(y=x==null?void 0:x.start)!==null&&y!==void 0?y:0;M<m.columns.length;){if(_.has(M)){M++;continue}var P=m.columns[M].wrappedWidth;if(E||g>=P)E=!1,b.push(M),S.push(m.columns[M]),g-=P;else break;M++}return{colIndexes:b,columns:S,lastIndex:M-1}}function h(d,m){for(var x=[],y=0;y<m.columns.length;y++){var g=f(d,m,{start:y});g.columns.length&&(x.push(g),y=g.lastIndex)}return x}l.calculateAllColumnsCanFitInPage=h},324:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(b,S){h(b,S);var A=[],E=0;S.columns.forEach(function(P){var D=P.getMaxCustomCellWidth(S);D?P.width=D:(P.width=P.wrappedWidth,A.push(P)),E+=P.width});var M=S.getWidth(b.pageSize().width)-E;M&&(M=d(A,M,function(P){return Math.max(P.minReadableWidth,P.minWidth)})),M&&(M=d(A,M,function(P){return P.minWidth})),M=Math.abs(M),!S.settings.horizontalPageBreak&&M>.1/b.scaleFactor()&&(M=M<1?M:Math.round(M),console.warn("Of the table content, ".concat(M," units width could not fit page"))),x(S),y(S,b),m(S)}l.calculateWidths=f;function h(b,S){var A=b.scaleFactor(),E=S.settings.horizontalPageBreak,M=(0,c.getPageAvailableWidth)(b,S);S.allRows().forEach(function(P){for(var D=0,N=S.columns;D<N.length;D++){var C=N[D],O=P.cells[C.index];if(O){var j=S.hooks.didParseCell;S.callCellHooks(b,j,O,P,C,null);var F=O.padding("horizontal");O.contentWidth=(0,c.getStringWidth)(O.text,O.styles,b)+F;var Z=(0,c.getStringWidth)(O.text.join(" ").split(/[^\S\u00A0]+/),O.styles,b);if(O.minReadableWidth=Z+O.padding("horizontal"),typeof O.styles.cellWidth=="number")O.minWidth=O.styles.cellWidth,O.wrappedWidth=O.styles.cellWidth;else if(O.styles.cellWidth==="wrap"||E===!0)O.contentWidth>M?(O.minWidth=M,O.wrappedWidth=M):(O.minWidth=O.contentWidth,O.wrappedWidth=O.contentWidth);else{var H=10/A;O.minWidth=O.styles.minCellWidth||H,O.wrappedWidth=O.contentWidth,O.minWidth>O.wrappedWidth&&(O.wrappedWidth=O.minWidth)}}}}),S.allRows().forEach(function(P){for(var D=0,N=S.columns;D<N.length;D++){var C=N[D],O=P.cells[C.index];if(O&&O.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,O.wrappedWidth),C.minWidth=Math.max(C.minWidth,O.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,O.minReadableWidth);else{var j=S.styles.columnStyles[C.dataKey]||S.styles.columnStyles[C.index]||{},F=j.cellWidth||j.minCellWidth;F&&typeof F=="number"&&(C.minWidth=F,C.wrappedWidth=F)}O&&(O.colSpan>1&&!C.minWidth&&(C.minWidth=O.minWidth),O.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=O.minWidth))}})}function d(b,S,A){for(var E=S,M=b.reduce(function(H,q){return H+q.wrappedWidth},0),P=0;P<b.length;P++){var D=b[P],N=D.wrappedWidth/M,C=E*N,O=D.width+C,j=A(D),F=O<j?j:O;S-=F-D.width,D.width=F}if(S=Math.round(S*1e10)/1e10,S){var Z=b.filter(function(H){return S<0?H.width>A(H):!0});Z.length&&(S=d(Z,S,A))}return S}l.resizeColumns=d;function m(b){for(var S={},A=1,E=b.allRows(),M=0;M<E.length;M++)for(var P=E[M],D=0,N=b.columns;D<N.length;D++){var C=N[D],O=S[C.index];if(A>1)A--,delete P.cells[C.index];else if(O)O.cell.height+=P.height,A=O.cell.colSpan,delete P.cells[C.index],O.left--,O.left<=1&&delete S[C.index];else{var j=P.cells[C.index];if(!j)continue;if(j.height=P.height,j.rowSpan>1){var F=E.length-M,Z=j.rowSpan>F?F:j.rowSpan;S[C.index]={cell:j,left:Z,row:P}}}}}function x(b){for(var S=b.allRows(),A=0;A<S.length;A++)for(var E=S[A],M=null,P=0,D=0,N=0;N<b.columns.length;N++){var C=b.columns[N];if(D-=1,D>1&&b.columns[N+1])P+=C.width,delete E.cells[C.index];else if(M){var O=M;delete E.cells[C.index],M=null,O.width=C.width+P}else{var O=E.cells[C.index];if(!O)continue;if(D=O.colSpan,P=0,O.colSpan>1){M=O,P+=C.width;continue}O.width=C.width+P}}}function y(b,S){for(var A={count:0,height:0},E=0,M=b.allRows();E<M.length;E++){for(var P=M[E],D=0,N=b.columns;D<N.length;D++){var C=N[D],O=P.cells[C.index];if(O){S.applyStyles(O.styles,!0);var j=O.width-O.padding("horizontal");if(O.styles.overflow==="linebreak")O.text=S.splitTextToSize(O.text,j+1/S.scaleFactor(),{fontSize:O.styles.fontSize});else if(O.styles.overflow==="ellipsize")O.text=g(O.text,j,O.styles,S,"...");else if(O.styles.overflow==="hidden")O.text=g(O.text,j,O.styles,S,"");else if(typeof O.styles.overflow=="function"){var F=O.styles.overflow(O.text,j);typeof F=="string"?O.text=[F]:O.text=F}O.contentHeight=O.getContentHeight(S.scaleFactor(),S.getLineHeightFactor());var Z=O.contentHeight/O.rowSpan;O.rowSpan>1&&A.count*A.height<Z*O.rowSpan?A={height:Z,count:O.rowSpan}:A&&A.count>0&&A.height>Z&&(Z=A.height),Z>P.height&&(P.height=Z)}}A.count--}}function g(b,S,A,E,M){return b.map(function(P){return _(P,S,A,E,M)})}l.ellipsize=g;function _(b,S,A,E,M){var P=1e4*E.scaleFactor();if(S=Math.ceil(S*P)/P,S>=(0,c.getStringWidth)(b,A,E))return b;for(;S<(0,c.getStringWidth)(b+M,A,E)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+M}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return r[s].call(u.exports,u,u.exports,a),u.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),f=a(972),h=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return h.Table}});var d=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return d.CellHookData}});var m=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return m.Row}});function x(S){(0,l.default)(S)}s.applyPlugin=x;function y(S,A){var E=(0,u.parseInput)(S,A),M=(0,f.createTable)(S,E);(0,c.drawTable)(S,M)}function g(S,A){var E=(0,u.parseInput)(S,A);return(0,f.createTable)(S,E)}s.__createTable=g;function _(S,A){(0,c.drawTable)(S,A)}s.__drawTable=_;try{var b=a(964);b.jsPDF&&(b=b.jsPDF),x(b)}catch{}s.default=y}(),o}()})})(WMe);function bg(t){switch(t){case"temperature":return"Temperature (°C)";case"precipitation":return"Precipitation Change (%)";case"seaLevel":return"Sea Level Rise (cm)";case"extremeEvents":return"Extreme Events Increase (%)";default:return t}}function VMe(t,e){const n=t[t.length-1],r=["Climate Analysis Report",`Region: ${e.region}`,`Analysis Period: ${e.yearRange.start} - ${e.yearRange.end}`,`Generated: ${new Date().toLocaleString()}`,"","Current Climate Metrics:",...e.metrics.map(o=>`${bg(o)}: ${n[o].toFixed(2)}`),"","Historical Data:",""],i=["Year",...e.metrics.map(bg)],a=t.map(o=>[o.year,...e.metrics.map(s=>o[s].toFixed(2))]);return[...r,i.join(","),...a.map(o=>o.join(","))].join(`
`)}function $Me(t,e){const n=new un,r=t[t.length-1];n.setFontSize(24),n.text("Climate Analysis Report",20,20),n.setFontSize(12),n.text(`Region: ${e.region}`,20,35),n.text(`Analysis Period: ${e.yearRange.start} - ${e.yearRange.end}`,20,45),n.text(`Generated: ${new Date().toLocaleString()}`,20,55),n.setFontSize(16),n.text("Current Climate Metrics",20,75),n.setFontSize(12);let i=85;e.metrics.forEach((c,f)=>{const h=r[c];n.text(`${bg(c)}: ${h.toFixed(2)}`,30,i+f*10)}),i+=e.metrics.length*10+20,n.setFontSize(16),n.text("Regional Impact Analysis",20,i),n.setFontSize(12),i+=10,n.text("Key Findings:",30,i),i+=10;const a=[`Temperature trends show a ${r.temperature>1.5?"significant":"moderate"} increase`,`Precipitation patterns indicate ${r.precipitation>10?"major":"minor"} changes`,`Sea level projections suggest ${r.seaLevel>20?"critical":"notable"} coastal impacts`];a.forEach((c,f)=>{n.text(`• ${c}`,35,i+f*10)}),i+=a.length*10+20,n.setFontSize(16),n.text("Historical Data Trends",20,i);const o=["Year",...e.metrics.map(bg)],s=t.map(c=>[c.year.toString(),...e.metrics.map(f=>c[f].toFixed(2))]);n.autoTable({head:[o],body:s,startY:i+10,styles:{fontSize:10},headStyles:{fillColor:[34,197,94]},alternateRowStyles:{fillColor:[240,240,240]}}),n.addPage(),n.setFontSize(16),n.text("Climate Action Recommendations",20,20),n.setFontSize(12);const l=[{title:"Temperature Management:",actions:[r.temperature>1.5?"Implement immediate heat mitigation strategies":"Monitor temperature trends and prepare contingency plans"]},{title:"Precipitation Adaptation:",actions:[r.precipitation>10?"Develop flood management infrastructure":"Update water management systems"]},{title:"Coastal Protection:",actions:[r.seaLevel>20?"Prioritize coastal defense infrastructure":"Develop long-term coastal adaptation plans"]}];let u=40;return l.forEach(c=>{n.setFontSize(14),n.text(c.title,30,u),n.setFontSize(12),c.actions.forEach((f,h)=>{n.text(`• ${f}`,35,u+10+h*10)}),u+=30+c.actions.length*10}),n.output("blob")}function qMe(t,e){const n=t[t.length-1],r=["Climate Analysis Report",`Region: ${e.region}`,`Analysis Period: ${e.yearRange.start} - ${e.yearRange.end}`,`Generated: ${new Date().toLocaleString()}`,"","Current Climate Metrics:",...e.metrics.map(o=>`${bg(o)}: ${n[o].toFixed(2)}`),"","Regional Impact Analysis:",`• Temperature Impact: ${n.temperature>1.5?"High":"Moderate"}`,`• Precipitation Change: ${n.precipitation>10?"Significant":"Moderate"}`,`• Sea Level Risk: ${n.seaLevel>20?"Critical":"Moderate"}`,"","Historical Data:",""],i=["Year",...e.metrics.map(bg)],a=t.map(o=>[o.year,...e.metrics.map(s=>o[s].toFixed(2))]);return[...r,i.join(","),...a.map(o=>o.join(","))].join(`
`)}function XMe(t,e){let n,r,i;switch(e.format){case"csv":n=VMe(t,e),r="text/csv",i="csv";break;case"pdf":n=$Me(t,e),r="application/pdf",i="pdf";break;case"excel":n=qMe(t,e),r="application/vnd.ms-excel",i="xls";break;default:throw new Error("Unsupported format")}const a=`climate_analysis_${e.region.toLowerCase().replace(/\s+/g,"_")}_${e.yearRange.start}-${e.yearRange.end}.${i}`,o=n instanceof Blob?n:new Blob([n],{type:r}),s=window.URL.createObjectURL(o),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(s)}function YMe(t,e,n){const r=[],o=e-t,s={temperature:1+Math.random()*.3,precipitation:1+Math.random()*.4,seaLevel:1+Math.random()*.2,extremeEvents:1+Math.random()*.5};for(let l=t;l<=e;l++){const u=(l-t)/o,c=Math.sin(l*.5)*.1,f=(1.1+(1.6-1.1)*u+c)*s.temperature,h=(15*u+c*5)*s.precipitation,d=26*u*s.seaLevel,m=(32*u+c*10)*s.extremeEvents;r.push({year:l,temperature:f,precipitation:h,seaLevel:d,extremeEvents:m})}return r}function KMe({onClose:t,selectedRegion:e,selectedYear:n,format:r}){const[i,a]=je.useState(!1),[o,s]=je.useState({start:2023,end:n}),[l,u]=je.useState({temperature:!0,precipitation:!0,seaLevel:!0,extremeEvents:!1}),c=async()=>{a(!0);try{const f=Object.entries(l).filter(([d,m])=>m).map(([d])=>d),h=YMe(o.start,o.end,e);XMe(h,{format:r,region:e,yearRange:o,metrics:f})}finally{a(!1),t()}};return oe.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:oe.jsxs("div",{className:"bg-card rounded-lg shadow-xl border p-6 w-full max-w-md",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-6",children:[oe.jsx("h2",{className:"text-xl font-semibold",children:"Download Dataset"}),oe.jsx("button",{onClick:t,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:oe.jsx(E_,{className:"w-5 h-5"})})]}),oe.jsxs("div",{className:"space-y-6",children:[oe.jsxs("div",{children:[oe.jsx("label",{className:"block text-sm font-medium mb-2",children:"Region"}),oe.jsx("div",{className:"p-3 bg-accent rounded-lg text-foreground",children:e})]}),oe.jsxs("div",{children:[oe.jsx("label",{className:"block text-sm font-medium mb-2",children:"Year Range"}),oe.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[oe.jsxs("div",{children:[oe.jsx("label",{className:"block text-sm text-muted-foreground mb-1",children:"From"}),oe.jsx("input",{type:"number",min:"2023",max:o.end,value:o.start,onChange:f=>s(h=>({...h,start:parseInt(f.target.value)})),className:"w-full p-2 rounded-lg border bg-background"})]}),oe.jsxs("div",{children:[oe.jsx("label",{className:"block text-sm text-muted-foreground mb-1",children:"To"}),oe.jsx("input",{type:"number",min:o.start,max:"2050",value:o.end,onChange:f=>s(h=>({...h,end:parseInt(f.target.value)})),className:"w-full p-2 rounded-lg border bg-background"})]})]})]}),oe.jsxs("div",{children:[oe.jsx("label",{className:"block text-sm font-medium mb-2",children:"Climate Parameters"}),oe.jsxs("div",{className:"space-y-2",children:[oe.jsxs("label",{className:"flex items-center space-x-2",children:[oe.jsx("input",{type:"checkbox",checked:l.temperature,onChange:f=>u(h=>({...h,temperature:f.target.checked})),className:"rounded border-primary text-primary focus:ring-primary"}),oe.jsx("span",{children:"🌡️ Temperature Change (°C)"})]}),oe.jsxs("label",{className:"flex items-center space-x-2",children:[oe.jsx("input",{type:"checkbox",checked:l.precipitation,onChange:f=>u(h=>({...h,precipitation:f.target.checked})),className:"rounded border-primary text-primary focus:ring-primary"}),oe.jsx("span",{children:"🌧️ Precipitation Change (%)"})]}),oe.jsxs("label",{className:"flex items-center space-x-2",children:[oe.jsx("input",{type:"checkbox",checked:l.seaLevel,onChange:f=>u(h=>({...h,seaLevel:f.target.checked})),className:"rounded border-primary text-primary focus:ring-primary"}),oe.jsx("span",{children:"🌊 Sea Level Rise (cm)"})]}),oe.jsxs("label",{className:"flex items-center space-x-2",children:[oe.jsx("input",{type:"checkbox",checked:l.extremeEvents,onChange:f=>u(h=>({...h,extremeEvents:f.target.checked})),className:"rounded border-primary text-primary focus:ring-primary"}),oe.jsx("span",{children:"🌪️ Extreme Weather Events (%)"})]})]})]}),oe.jsx("button",{onClick:c,disabled:i||!Object.values(l).some(f=>f),className:"w-full p-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:i?oe.jsxs(oe.Fragment,{children:[oe.jsx(YF,{className:"w-5 h-5 animate-spin"}),oe.jsx("span",{children:"Downloading..."})]}):oe.jsxs(oe.Fragment,{children:[oe.jsx(XF,{className:"w-5 h-5"}),oe.jsx("span",{children:"Download Dataset"})]})})]})]})})}function ZMe({icon:t,title:e,description:n,features:r,advantages:i,limitations:a,bestFor:o,fileSize:s,updateSpeed:l,compatibility:u,onDownload:c,isDownloading:f}){const[h,d]=De.useState(!1);return oe.jsxs("div",{className:"bg-card rounded-xl p-6 border transition-all duration-300 hover:shadow-xl",children:[oe.jsxs("div",{className:"flex items-start justify-between mb-4",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:oe.jsx(t,{className:"w-6 h-6 text-primary"})}),oe.jsx("h3",{className:"text-xl font-semibold",children:e})]}),oe.jsxs("div",{className:"flex items-center space-x-2",children:[oe.jsx("button",{onClick:c,disabled:f,className:"flex items-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?oe.jsxs(oe.Fragment,{children:[oe.jsx(YF,{className:"w-4 h-4 animate-spin"}),oe.jsx("span",{children:"Downloading..."})]}):oe.jsxs(oe.Fragment,{children:[oe.jsx(XF,{className:"w-4 h-4"}),oe.jsx("span",{children:"Download"})]})}),oe.jsx("button",{onClick:()=>d(!h),className:"p-2 hover:bg-accent rounded-lg transition-colors",children:h?oe.jsx(LG,{className:"w-5 h-5"}):oe.jsx(CG,{className:"w-5 h-5"})})]})]}),oe.jsx("p",{className:"text-muted-foreground mb-4",children:n}),h&&oe.jsxs("div",{className:"space-y-6 mt-6 border-t pt-6",children:[oe.jsxs("div",{children:[oe.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Key Features"}),oe.jsx("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:r.map((m,x)=>oe.jsx("li",{children:m},x))})]}),oe.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[oe.jsxs("div",{children:[oe.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Advantages"}),oe.jsx("ul",{className:"space-y-1",children:i.map((m,x)=>oe.jsxs("li",{className:"flex items-center space-x-2 text-green-600",children:[oe.jsx(PG,{className:"w-4 h-4"}),oe.jsx("span",{className:"text-sm",children:m})]},x))})]}),oe.jsxs("div",{children:[oe.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Limitations"}),oe.jsx("ul",{className:"space-y-1",children:a.map((m,x)=>oe.jsxs("li",{className:"flex items-center space-x-2 text-red-600",children:[oe.jsx(E_,{className:"w-4 h-4"}),oe.jsx("span",{className:"text-sm",children:m})]},x))})]})]}),oe.jsxs("div",{children:[oe.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Best For"}),oe.jsx("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:o.map((m,x)=>oe.jsx("li",{children:m},x))})]}),oe.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[oe.jsxs("div",{className:"bg-accent p-4 rounded-lg",children:[oe.jsx("h4",{className:"text-sm font-semibold mb-1",children:"File Size"}),oe.jsx("p",{className:"text-muted-foreground text-sm",children:s})]}),oe.jsxs("div",{className:"bg-accent p-4 rounded-lg",children:[oe.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Update Speed"}),oe.jsx("p",{className:"text-muted-foreground text-sm",children:l})]}),oe.jsxs("div",{className:"bg-accent p-4 rounded-lg",children:[oe.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Compatibility"}),oe.jsx("div",{className:"flex flex-wrap gap-1",children:u.map((m,x)=>oe.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full",children:m},x))})]})]})]})]})}function JMe(){const[t,e]=je.useState(null),[n,r]=je.useState(!1),[i,a]=je.useState(null),o=l=>{a(l),r(!0)},s=[{icon:IG,title:"CSV (Comma-Separated Values)",description:"Simple, lightweight format for tabular data that can be easily opened in spreadsheet applications.",features:["Plain text format with comma-separated fields","Universal compatibility","Easy to read and edit","Efficient storage for tabular data"],advantages:["Widely supported","Human-readable","Small file size","Easy to process"],limitations:["Limited to tabular data","No formatting options","No support for formulas","Single sheet only"],bestFor:["Data analysis in spreadsheet software","Importing into databases","Simple data sharing","Automated data processing"],fileSize:"Typically < 1MB",updateSpeed:"Instant",compatibility:["Excel","Google Sheets","R","Python","Database Systems"],format:"csv"},{icon:kG,title:"PDF (Portable Document Format)",description:"Professional document format that preserves formatting and is perfect for reports and presentations.",features:["Preserves layout and formatting","Supports rich text and graphics","Platform-independent","Print-ready format"],advantages:["Professional presentation","Universal readability","Format preservation","Print quality"],limitations:["Larger file size","Not easily editable","Data extraction challenges","Limited interactivity"],bestFor:["Official reports","Data presentations","Archival purposes","Sharing analysis results"],fileSize:"1-10MB typical",updateSpeed:"Medium",compatibility:["Adobe Reader","Web Browsers","Mobile Devices","Print Systems"],format:"pdf"},{icon:HG,title:"Excel Spreadsheet",description:"Rich spreadsheet format with support for multiple sheets, formulas, and formatting.",features:["Multiple worksheet support","Formula calculations","Data formatting options","Visual representations"],advantages:["Rich formatting","Formula support","Multiple sheets","Visual analysis"],limitations:["Larger file size","Platform dependent","Version compatibility issues","Limited automation"],bestFor:["Business analysis","Data visualization","Interactive reports","Financial calculations"],fileSize:"2-10MB typical",updateSpeed:"Moderate",compatibility:["Microsoft Excel","Google Sheets","LibreOffice","OpenOffice"],format:"excel"}];return oe.jsxs("div",{className:"space-y-8",children:[oe.jsxs("div",{className:"bg-card rounded-lg shadow p-6",children:[oe.jsxs("div",{className:"mb-6",children:[oe.jsx("h2",{className:"text-2xl font-bold",children:"Download Format Types"}),oe.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose the most suitable format for your climate data analysis needs."})]}),oe.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.map((l,u)=>oe.jsx(ZMe,{...l,onDownload:()=>o(l.format),isDownloading:t===l.format},u))})]}),n&&i&&oe.jsx(KMe,{onClose:()=>r(!1),selectedRegion:"Global",selectedYear:2050,format:i})]})}function QMe({icon:t,title:e,description:n,links:r}){return oe.jsxs("div",{className:"bg-card rounded-xl p-6 border hover:shadow-lg transition-shadow duration-300",children:[oe.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[oe.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:oe.jsx(t,{className:"w-6 h-6 text-primary"})}),oe.jsx("h3",{className:"text-xl font-semibold",children:e})]}),oe.jsx("p",{className:"text-muted-foreground mb-4",children:n}),oe.jsx("div",{className:"space-y-3",children:r.map((i,a)=>oe.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"block p-4 rounded-lg hover:bg-accent transition-colors group border",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-2",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[i.icon&&oe.jsx(i.icon,{className:"w-5 h-5 text-primary"}),oe.jsx("span",{className:"font-medium group-hover:text-primary transition-colors",children:i.title})]}),oe.jsx(RG,{className:"w-4 h-4 opacity-50 group-hover:opacity-100"})]}),oe.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),i.metrics&&oe.jsx("div",{className:"grid grid-cols-3 gap-4 mt-3 pt-3 border-t",children:i.metrics.map((o,s)=>oe.jsxs("div",{className:"text-center",children:[oe.jsx("div",{className:"text-lg font-semibold text-primary",children:o.value}),oe.jsx("div",{className:"text-xs text-muted-foreground",children:o.label})]},s))})]},a))})]})}function eEe(){const t=[{icon:TG,title:"Interactive Climate Tools",description:"Powerful tools to analyze and understand climate change impacts.",links:[{icon:Q4,title:"Global Climate Explorer",url:"https://www.climate.gov/maps-data/climate-explorer",description:"Interactive map showing climate patterns, risks, and projections worldwide.",metrics:[{label:"Data Points",value:"1M+",trend:"up"},{label:"Regions",value:"200+",trend:"neutral"},{label:"Updates",value:"Daily",trend:"up"}]},{icon:SG,title:"Climate Impact Analyzer",url:"https://www.climateinteractive.org/tools/",description:"Analyze different climate scenarios and their potential impacts.",metrics:[{label:"Scenarios",value:"1000+",trend:"up"},{label:"Variables",value:"25+",trend:"up"},{label:"Years",value:"2100",trend:"neutral"}]}]},{icon:tL,title:"Ecosystem Analysis Tools",description:"Tools for understanding environmental changes and biodiversity impacts.",links:[{icon:tL,title:"Forest Cover Analyzer",url:"https://www.globalforestwatch.org/",description:"Track forest changes and deforestation patterns in real-time.",metrics:[{label:"Coverage",value:"Global",trend:"neutral"},{label:"Resolution",value:"30m",trend:"up"},{label:"Updates",value:"Weekly",trend:"up"}]},{icon:VG,title:"Air Quality Monitor",url:"https://www.iqair.com/air-quality-map",description:"Real-time air quality data and pollution tracking worldwide.",metrics:[{label:"Stations",value:"10K+",trend:"up"},{label:"Cities",value:"500+",trend:"up"},{label:"Accuracy",value:"98%",trend:"up"}]}]},{icon:lM,title:"Water & Ocean Tools",description:"Monitor water resources and ocean health indicators.",links:[{icon:lM,title:"Ocean Health Index",url:"http://www.oceanhealthindex.org/",description:"Comprehensive tool for assessing ocean ecosystem health.",metrics:[{label:"Indicators",value:"25+",trend:"up"},{label:"Regions",value:"220+",trend:"up"},{label:"Data Years",value:"30+",trend:"up"}]},{icon:ZF,title:"Sea Level Predictor",url:"https://sealevel.nasa.gov/",description:"Track and predict sea level changes with NASA data.",metrics:[{label:"Accuracy",value:"±0.4mm",trend:"up"},{label:"Coverage",value:"Global",trend:"neutral"},{label:"Forecast",value:"2100",trend:"neutral"}]}]},{icon:KF,title:"Educational Resources",description:"Interactive learning tools and visualizations for climate education.",links:[{icon:DG,title:"Climate Science Learning Lab",url:"https://scied.ucar.edu/learning-zone/climate-change-impacts",description:"Interactive modules and experiments for understanding climate science.",metrics:[{label:"Modules",value:"50+",trend:"up"},{label:"Activities",value:"100+",trend:"up"},{label:"Languages",value:"12",trend:"up"}]},{icon:Q4,title:"Climate Time Machine",url:"https://climate.nasa.gov/interactives/climate-time-machine",description:"Visualize climate change over time with NASA's interactive tool.",metrics:[{label:"Time Span",value:"800K yrs",trend:"neutral"},{label:"Data Sets",value:"15+",trend:"up"},{label:"Resolution",value:"High",trend:"up"}]}]}];return oe.jsx("div",{className:"space-y-8",children:oe.jsxs("div",{className:"bg-card rounded-lg shadow-lg p-6",children:[oe.jsxs("div",{className:"max-w-3xl mb-8",children:[oe.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Climate Analysis Tools"}),oe.jsx("p",{className:"text-muted-foreground",children:"Explore our collection of powerful, interactive tools for analyzing and understanding climate change. These resources provide real-time data, predictions, and insights to help you make informed decisions."})]}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((e,n)=>oe.jsx(QMe,{...e},n))})]})})}function ux({icon:t,label:e,active:n,onClick:r}){return oe.jsxs("button",{onClick:r,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${n?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"}`,children:[oe.jsx(t,{className:"w-5 h-5"}),oe.jsx("span",{children:e})]})}function tEe(){const[t,e]=je.useState("home"),[n,r]=je.useState(!1),[i,a]=je.useState([]),o=l=>{a(u=>[l,...u])},s=l=>{a(u=>u.filter(c=>c.id!==l))};return oe.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[oe.jsx("header",{className:"bg-card border-b",children:oe.jsx("div",{className:"max-w-7xl mx-auto px-4",children:oe.jsxs("div",{className:"h-16 flex items-center justify-between",children:[oe.jsxs("div",{className:"flex items-center space-x-8",children:[oe.jsx("h1",{className:"text-xl font-bold text-primary",children:"ClimateAI Predictor"}),oe.jsx(ux,{icon:FG,label:"Home",active:t==="home",onClick:()=>e("home")}),oe.jsx(ux,{icon:MG,label:"About",active:t==="about",onClick:()=>e("about")}),oe.jsx(ux,{icon:qF,label:"Datasets",active:t==="datasets",onClick:()=>e("datasets")}),oe.jsx(ux,{icon:UG,label:"Resources",active:t==="resources",onClick:()=>e("resources")})]}),oe.jsxs("div",{className:"flex items-center space-x-4",children:[oe.jsxs("div",{className:"relative",children:[oe.jsxs("button",{onClick:()=>r(!n),className:"p-2 rounded-lg hover:bg-accent transition-colors relative",children:[oe.jsx(AG,{className:"w-5 h-5"}),i.length>0&&oe.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full w-5 h-5 flex items-center justify-center",children:i.length})]}),n&&oe.jsx("div",{className:"absolute right-0 top-full mt-2 z-50",children:oe.jsx(HAe,{alerts:i,onDismiss:s,onClose:()=>r(!1)})})]}),oe.jsx(UAe,{})]})]})})}),oe.jsxs("main",{className:"flex-1 p-8",children:[t==="home"&&oe.jsx(IAe,{onNotification:o}),t==="about"&&oe.jsx(WAe,{}),t==="datasets"&&oe.jsx(JMe,{}),t==="resources"&&oe.jsx(eEe,{})]}),oe.jsx("footer",{className:"bg-card border-t p-6",children:oe.jsxs("div",{className:"max-w-7xl mx-auto",children:[oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[oe.jsxs("div",{children:[oe.jsx("h3",{className:"text-lg font-semibold mb-4",children:"About ClimateAI Predictor"}),oe.jsx("p",{className:"text-muted-foreground text-sm",children:"ClimateAI Predictor is a cutting-edge platform that combines artificial intelligence with climate science to provide accurate predictions and insights about climate change impacts worldwide."})]}),oe.jsxs("div",{children:[oe.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Data Sources"}),oe.jsx("p",{className:"text-muted-foreground text-sm",children:"Our predictions are based on comprehensive data from leading climate research institutions, including satellite observations, weather stations, and ocean monitoring systems."})]})]}),oe.jsx("div",{className:"mt-8 pt-4 border-t text-center text-muted-foreground text-sm",children:"© 2025 ClimateAI Predictor. All rights reserved."})]})})]})}const z9=document.getElementById("root");if(!z9)throw new Error("Failed to find the root element");WF(z9).render(oe.jsx(je.StrictMode,{children:oe.jsx(tEe,{})}));export{gr as _,ld as c,Ar as g};
